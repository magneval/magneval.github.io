(function(a){function n(a,d,f){var b=function(){},v=b.prototype=new a.constructor;d.$$scope=v;d.$$base_module=a.base;v.base=d;v.constructor=b;v.constants=[];f&&z.cdecl(a,f,d)}function q(a,d){var f=A(null,d,a);return m(a,f)}function m(a,d){function f(){}var b=function(){};b.prototype=a.constructor.prototype;f.prototype=new b;b=new f;h(b,f,a,d.prototype);b.$$alloc=d;return b.$$proto.$$class=b}function h(a,d,f,b){a.$$id=z.uid();a.$$proto=b;a.constructor=d;f===v?(a.$$is_module=!0,a.$$class=v):(a.$$is_class=
!0,a.$$class=D);a.$$super=f;a.$$parent=f;a.$$inc=[]}function l(){function a(){}var d=function(){};d.prototype=v.constructor.prototype;a.prototype=new d;d=new a;h(d,a,v,{});return d}function e(a){var d=a.$$class,f="#<Class:#<"+d.$$name+":"+d.$$id+">>",b=z.boot(d,function(){});b.$$name=f;b.$$proto=a;b.$$class=d.$$class;b.$$scope=d.$$scope;b.$$parent=d;b.$$is_singleton=!0;b.$$singleton_of=a;return a.$$meta=b}function c(){var a,d,b,v,g,F,D,k;if(4===arguments.length)for(a=arguments[0],d=arguments[1],b=
arguments[2],v=arguments[3],g=a.$$bridge.$ancestors(),F=0,k=g.length;F<k;F++){D=g[F];if(y.call(D.$$proto,b)&&D.$$proto[b]&&!D.$$proto[b].$$donated&&!D.$$proto[b].$$stub&&D!==d)break;if(D===d){a.prototype[b]=v;break}}else if(a=arguments[0],d=arguments[1],"function"===typeof a){b=d.$__id__();v=d.$instance_methods();for(F=v.length-1;0<=F;F--)g="$"+v[F],c(a,d,g,d.$$proto[g]);f[b]||(f[b]=[]);f[b].push(a)}else if(a=f[a.$__id__()]){for(F=a.length-1;0<=F;F--)c(a[F],d);f[d.$__id__()]=a.slice()}}function A(a,
d,f){if(f){var b=function(){};b.prototype=f.$$proto||f.prototype;a&&(b.displayName=a);d.prototype=new b}return d.prototype.constructor=d}function b(a,d,f){var b=function(){};b.prototype=f.prototype;var v=function(){};v.prototype=new b;v.displayName="#<Class:"+a+">";b=new v;h(b,v,f,d.prototype);b.$$alloc=d;b.$$name=a;d.prototype.$$class=b;z[a]=b;z.constants.push(a);return b}function w(a,d){for(var f=a.$$scope.constants,b=d.$$scope,v=b.constants,g=0,F=f.length;g<F;g++)v.push(f[g]),b[f[g]]=a.$$scope[f[g]]}
function x(a,d){var f=a.$$dep,b=a.$$proto[d],v,g,F,D,k,e,p,y,z,c;if(f)for(v=0,g=f.length;v<g;v++){F=f[v];D=F.$$proto;k=D[d];if(!D.hasOwnProperty(d)||k.$$donated||k.$$stub)if(D.hasOwnProperty(d)&&!k.$$stub){e=F.$$inc;p=0;for(y=e.length;p<y;p++)e[p]===k.$$donated&&(z=p),e[p]===a&&(c=p);z<=c&&(D[d]=b,D[d].$$donated=a)}else D[d]=b,D[d].$$donated=a;F.$$dep&&x(F,d)}}function u(a){function d(){this.$method_missing.$$p=d.$$p;d.$$p=null;return this.$method_missing.apply(this,[a.slice(1)].concat(E.call(arguments)))}
d.$$stub=!0;return d}function p(a){function d(){a.$$p=d.$$p;a.$$s=d.$$s;try{return a.apply(this,E.call(arguments))}finally{d.$$s=null,d.$$p=null}}d.$$target=a;d.$$arity=a.length;return d}function r(){}function g(){}function k(){}function t(){}function C(){}if("undefined"!==typeof this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var z=this.Opal={},f={},d=function(){};d.prototype=z;z.constructor=d;z.constants=[];z.global=this;var y=
z.hasOwnProperty,E=z.slice=Array.prototype.slice,B=4;z.uid=function(){return B+=2};z.cvars={};z.gvars={};z.exit=function(a){z.gvars.DEBUG&&console.log("Exited with status "+a)};z.exceptions=[];z.get=function(a){var d=this[a];return null==d?this.base.$const_get(a):d};z.create_scope=n;z.klass=function(a,d,f,b){a.$$is_class||a.$$is_module||(a=a.$$class);var v=a.$$scope[f],g="function"===typeof d;if(v&&v.$$orig_scope===a.$$scope){if(!v.$$is_class)throw z.TypeError.$new(f+" is not a class");if(d&&v.$$super!==
d)throw z.TypeError.$new("superclass mismatch for class "+f);return v}null===d&&(d=F);v=g?m(F,d):q(d,b);v.$$name=f;v.$$is_class=!0;n(a.$$scope,v,f);a[f]=a.$$scope[f]=v;g?z.bridge(v,d):(d!==F&&d!==J&&w(d,v),d.$inherited&&d.$inherited(v));return v};z.boot=q;z.module=function(a,d){var f;a.$$is_class||a.$$is_module||(a=a.$$class);if(y.call(a.$$scope,d)){if(f=a.$$scope[d],!f.$$is_module&&f!==F)throw z.TypeError.$new(d+" is not a module");}else f=l(),f.$$name=d,f.$$is_module=!0,f.$$dep=[],n(a.$$scope,f,
d),a[d]=a.$$scope[d]=f;return f};z.get_singleton_class=function(a){if(a.$$meta)return a.$$meta;if(a.$$is_class||a.$$is_module){var d=new z.Class.$$alloc;d.$$class=z.Class;d.$$proto=a.constructor.prototype;d.$$is_singleton=!0;d.$$singleton_of=a;d.$$inc=[];d.$$scope=a.$$scope;return a.$$meta=d}return e(a)};z.append_features=function(a,d){var f,b,v,g,F;for(F=d.$$inc.length-1;0<=F;F--)if(d.$$inc[F]===a)return;d.$$inc.push(a);a.$$dep.push(d);c(d,a);d.$$parent={$$name:a.$$name,$$proto:a.$$proto,$$parent:d.$$parent,
$$module:a,$$iclass:!0};f=a.$$proto;b=d.$$proto;v=a.$instance_methods();for(F=v.length-1;0<=F;F--)if(g="$"+v[F],!b.hasOwnProperty(g)||b[g].$$donated||b[g].$$stub)b[g]=f[g],b[g].$$donated=a;w(a,d)};z.bridge=function(a,d){if(d.$$bridge)throw z.ArgumentError.$new("already bridged");z.stub_subscribers.push(d.prototype);d.prototype.$$class=a;d.$$bridge=a;for(var f=a.$ancestors(),b=f.length-1;0<=b;b--)c(d,f[b]);for(var v in r.prototype){var g=r.prototype[g];!g||!g.$$stub||v in d.prototype||(d.prototype[v]=
g)}return a};z.casgn=function(a,d,f){function b(a,d){a.$$name=d;for(d in a.$$scope){var f=a.$$scope[d];f.$$name===K&&(f.$$is_class||f.$$is_module)&&b(f,d)}}var v=a.$$scope;if(f.$$is_class||f.$$is_module){if(f.$$is_class||f.$$base_module===F)f.$$base_module=a;f.$$name===K&&f.$$base_module.$$name!==K&&b(f,d)}v.constants.push(d);return v[d]=f};z.cdecl=function(a,d,f){(f.$$is_class||f.$$is_module)&&null==f.$$orig_scope&&(f.$$name=d,f.$$orig_scope=a,a.constructor[d]=f);a.constants.push(d);return a[d]=
f};z.add_stubs=function(a){var d,f=z.stub_subscribers,b,v=a.length,g,F=f.length,D,k;for(b=0;b<v;b++)for(D=a[b],k=u(D),g=0;g<F;g++)d=f[g],D in d||(d[D]=k)};z.stub_subscribers=[r.prototype];z.add_stub_for=function(a,d){var f=u(d);a[d]=f};z.ac=function(a,d,f,b){var v="",v=f.$$is_class||f.$$is_module?v+(f.$$name+"."):v+(f.$$class.$$name+"#");throw z.ArgumentError.$new("["+(v+b)+"] wrong number of arguments("+a+" for "+d+")");};z.find_super_dispatcher=function(a,d,f,b,v){if(v)f=a.$$is_class||a.$$is_module?
v.$$super:a.$$class.$$proto;else if(a.$$is_class||a.$$is_module)f=a.$$super;else{v=a.$$meta||a.$$class;for(a="$"+d;v&&v.$$proto[a]!==f;)v=v.$$parent;if(!v)throw Error("could not find current class for super()");for(v=v.$$parent;v;){var g=v.$$proto[a];if(g&&g!==f)break;v=v.$$parent}f=v.$$proto}f=f["$"+d];f.$$p=b;return f};z.find_iter_super_dispatcher=function(a,d,f,b,v){return f.$$def?z.find_super_dispatcher(a,f.$$jsid,f,b,v):z.find_super_dispatcher(a,d,f,b,v)};z.ret=function(a){z.returner.$v=a;throw z.returner;
};z.yield1=function(a,d){if("function"!==typeof a)throw z.LocalJumpError.$new("no block given");return 1<a.length&&d.$$is_array?a.apply(null,d):a(d)};z.yieldX=function(a,d){if("function"!==typeof a)throw z.LocalJumpError.$new("no block given");if(1<a.length&&1===d.length&&d[0].$$is_array)return a.apply(null,d[0]);d.$$is_array||(d=E.call(d));return a.apply(null,d)};z.rescue=function(a,d){for(var f=0;f<d.length;f++){var b=d[f];if(b.$$is_array){if(b=z.rescue(a,b))return b}else if(b["$==="](a))return b}return null};
z.is_a=function(a,d){if(a.$$meta===d)return!0;for(var f=a.$$class;f;){if(f===d)return!0;for(var b=0,v=f.$$inc.length;b<v;b++)if(f.$$inc[b]===d)return!0;f=f.$$super}return!1};z.to_ary=function(a){return a.$$is_array?a:a.$to_ary&&!a.$to_ary.$$stub?a.$to_ary():[a]};z.to_a=function(a){return null==a||a===K?[]:a.$to_a&&!a.$to_a.$$stub?a.$to_a():[a]};z.kwrestargs=function(a,d){var f=[],b={},v=null,g=a.smap;for(v in g)d[v]||(f.push(v),b[v]=g[v]);return z.hash2(f,b)};z.send=function(a,d){var f=E.call(arguments,
2),b=a["$"+d];return b?b.apply(a,f):a.$method_missing.apply(a,[d].concat(f))};z.block_send=function(a,d,f){var b=E.call(arguments,3),v=a["$"+d];return v?(v.$$p=f,v.apply(a,b)):a.$method_missing.apply(a,[d].concat(b))};z.defn=function(a,d,b){a.$$proto[d]=b;a.$$is_module&&(x(a,d),a.$$module_function&&z.defs(a,d,b));if(a.$__id__&&!a.$__id__.$$stub){var v=f[a.$__id__()];if(v)for(var g=v.length-1;0<=g;g--)c(v[g],a,d,b)}a.$method_added&&!a.$method_added.$$stub&&a.$method_added(d.substr(1));(a=a.$$singleton_of)&&
a.$singleton_method_added&&!a.$singleton_method_added.$$stub&&a.$singleton_method_added(d.substr(1));return K};z.defs=function(a,d,f){z.defn(z.get_singleton_class(a),d,f)};z.def=function(a,d,f){a.$$eval||!a.$$is_class&&!a.$$is_module?z.defs(a,d,f):z.defn(a,d,f)};z.rdef=function(a,d){if(!y.call(a.$$proto,d))throw z.NameError.$new("method '"+d.substr(1)+"' not defined in "+a.$name());delete a.$$proto[d];a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&
a.$$proto.$singleton_method_removed(d.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(d.substr(1))};z.udef=function(a,d){if(!a.$$proto[d]||a.$$proto[d].$$stub)throw z.NameError.$new("method '"+d.substr(1)+"' not defined in "+a.$name());z.add_stub_for(a.$$proto,d);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&a.$$proto.$singleton_method_undefined(d.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(d.substr(1))};
z.alias=function(a,d,f){var b="$"+d,v="$"+f,g=a.$$proto["$"+f];if(a.$$eval)return z.alias(z.get_singleton_class(a),d,f);if("function"!==typeof g||g.$$stub){for(d=a.$$super;"function"!==typeof g&&d;)g=d[v],d=d.$$super;if("function"!==typeof g||g.$$stub)throw z.NameError.$new("undefined method `"+f+"' for class `"+a.$name()+"'");}z.defn(a,b,p(g));return a};z.alias_native=function(a,d,f){d="$"+d;var b=a.$$proto[f];if("function"!==typeof b||b.$$stub)throw z.NameError.$new("undefined native method `"+
f+"' for class `"+a.$name()+"'");z.defn(a,d,p(b));return a};z.hash_init=function(a){a.map={};a.smap={};a.keys=[]};z.hash_clone=function(a,d){d.none=a.none;d.proc=a.proc;for(var f=0,b=a.keys.length,v,g;f<b;f++)v=a.keys[f],v.$$is_string?g=a.smap[v]:(g=v.value,v=v.key),z.hash_put(d,v,g)};z.hash_put=function(d,f,b){if(f.$$is_string)d.smap.hasOwnProperty(f)||d.keys.push(f),d.smap[f]=b;else{var v=f.$hash(),g,F;if(d.map.hasOwnProperty(v)){for(g=d.map[v];g;){if(f===g.key||f["$eql?"](g.key)){F=a;g.value=b;
break}F=g;g=g.next}F&&(g={key:f,key_hash:v,value:b},d.keys.push(g),F.next=g)}else g={key:f,key_hash:v,value:b},d.keys.push(g),d.map[v]=g}};z.hash_get=function(a,d){if(d.$$is_string){if(a.smap.hasOwnProperty(d))return a.smap[d]}else{var f=d.$hash();if(a.map.hasOwnProperty(f))for(f=a.map[f];f;){if(d===f.key||d["$eql?"](f.key))return f.value;f=f.next}}};z.hash_delete=function(a,d){var f,b=a.keys,v=b.length,g;if(d.$$is_string){if(!a.smap.hasOwnProperty(d))return;for(f=0;f<v;f++)if(b[f]===d){b.splice(f,
1);break}g=a.smap[d];delete a.smap[d];return g}var F=d.$hash();if(a.map.hasOwnProperty(F))for(var D=a.map[F],k;D;){if(d===D.key||d["$eql?"](D.key)){g=D.value;for(f=0;f<v;f++)if(b[f]===D){b.splice(f,1);break}k&&D.next?k.next=D.next:k?delete k.next:D.next?a.map[F]=D.next:delete a.map[F];return g}k=D;D=D.next}};z.hash_rehash=function(d){for(var f=0,b=d.keys.length,v,g,F;f<b;f++)if(!d.keys[f].$$is_string&&(v=d.keys[f].key.$hash(),v!==d.keys[f].key_hash)){g=d.map[d.keys[f].key_hash];for(F=a;g;){if(g===
d.keys[f]){F&&g.next?F.next=g.next:F?delete F.next:g.next?d.map[d.keys[f].key_hash]=g.next:delete d.map[d.keys[f].key_hash];break}F=g;g=g.next}d.keys[f].key_hash=v;if(d.map.hasOwnProperty(v)){g=d.map[v];for(F=a;g;){if(g===d.keys[f]){F=a;break}F=g;g=g.next}F&&(F.next=d.keys[f])}else d.map[v]=d.keys[f]}};z.hash=function(){var a=arguments.length,d,f,b,v,g;if(1===a&&arguments[0].$$is_hash)return arguments[0];d=new z.Hash.$$alloc;z.hash_init(d);if(1===a&&arguments[0].$$is_array){a=arguments[0];b=a.length;
for(f=0;f<b;f++){if(2!==a[f].length)throw z.ArgumentError.$new("value not of length 2: "+a[f].$inspect());v=a[f][0];g=a[f][1];z.hash_put(d,v,g)}return d}if(1===a){a=arguments[0];for(v in a)a.hasOwnProperty(v)&&(g=a[v],z.hash_put(d,v,g));return d}if(0!==a%2)throw z.ArgumentError.$new("odd number of arguments for Hash");for(f=0;f<a;f+=2)v=arguments[f],g=arguments[f+1],z.hash_put(d,v,g);return d};z.hash2=function(a,d){var f=new z.Hash.$$alloc;f.map={};f.keys=a;f.smap=d;return f};z.range=function(a,d,
f){var b=new z.Range.$$alloc;b.begin=a;b.end=d;b.exclude=f;return b};z.ivar=function(a){return"constructor"===a||"__proto__"===a||"__parent__"===a||"__noSuchMethod__"===a||"__count__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};(function(a){function d(a){var f,b=[];a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var v=0,g=a.length;v<g;v++)f=a[v],""!==f&&(".."===f?b.pop():b.push(f));return b.join("/")}function f(a){var b,F,D;b=0;for(F=a.length;b<F;b++){D=d(a[b]);if(g[D])break;v.push(D);
g[D]=!0}}function b(v){v=d(v);f([v]);var g=F[v];if(g)g(a);else if(g=a.dynamic_require_severity||"warning",v="cannot load such file -- "+v,"error"===g)if(a.LoadError)a.LoadError.$new(v);else throw v;else"warning"===g&&console.warn("WARNING: LoadError: "+v);return!0}var v=["corelib/runtime"],g={"corelib/runtime":!0},F={};a.modules=F;a.loaded_features=v;a.loaded=f;a.load=b;a.require=function(a){a=d(a);return g[a]?!1:b(a)}})(z);var J,F,v,D;A("BasicObject",r);A("Object",g,r);A("Module",t,g);A("Class",
k,t);J=b("BasicObject",r,k);F=b("Object",g,J.constructor);v=b("Module",t,F.constructor);D=b("Class",k,v.constructor);J.$$class=D;F.$$class=D;v.$$class=D;D.$$class=D;J.$$super=null;F.$$super=J;v.$$super=F;D.$$super=v;J.$$parent=null;F.$$parent=J;v.$$parent=F;D.$$parent=v;z.base=F;J.$$scope=F.$$scope=z;J.$$orig_scope=F.$$orig_scope=z;v.$$scope=F.$$scope;v.$$orig_scope=F.$$orig_scope;D.$$scope=F.$$scope;D.$$orig_scope=F.$$orig_scope;F.$$proto.toString=function(){return this.$to_s()};F.$$proto.$require=
z.require;z.top=new F.$$alloc;z.klass(F,F,"NilClass",C);var K=z.nil=new C;K.$$id=4;K.call=K.apply=function(){throw z.LocalJumpError.$new("no block given");};z.breaker=Error("unexpected break");z.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);"undefined"!==typeof global&&(global.Opal=this.Opal,Opal.global=global);"undefined"!==typeof window&&(window.Opal=this.Opal,Opal.global=window);
Opal.modules["corelib/helpers"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.slice,m=a.module;a.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $inspect $coerce_to!".split(" "));return function(h){h=m(h,"Opal");var l=h.$$scope;a.defs(h,"$bridge",function(e,c){return a.bridge(e,c)});a.defs(h,"$type_error",function(a,c,h,b){var m;null==h&&(h=n);null==b&&(b=n);return(m=!1!==h&&h!==n?b:h)===n||m.$$is_boolean&&1!=m?l.get("TypeError").$new("no implicit conversion of "+
a.$class()+" into "+c):l.get("TypeError").$new("can't convert "+a.$class()+" into "+c+" ("+a.$class()+"#"+h+" gives "+b.$class())});a.defs(h,"$coerce_to",function(a,c,h){var b;if((b=c["$==="](a))!==n&&(!b.$$is_boolean||1==b))return a;((b=a["$respond_to?"](h))===n||b.$$is_boolean&&1!=b)&&this.$raise(this.$type_error(a,c));return a.$__send__(h)});a.defs(h,"$coerce_to!",function(a,c,h){var b,l=n,l=this.$coerce_to(a,c,h);((b=c["$==="](l))===n||b.$$is_boolean&&1!=b)&&this.$raise(this.$type_error(a,c,h,
l));return l});a.defs(h,"$coerce_to?",function(a,c,h){var b,l=n;if((b=a["$respond_to?"](h))===n||b.$$is_boolean&&1!=b)return n;l=this.$coerce_to(a,c,h);if((b=l["$nil?"]())!==n&&(!b.$$is_boolean||1==b))return n;((b=c["$==="](l))===n||b.$$is_boolean&&1!=b)&&this.$raise(this.$type_error(a,c,h,l));return l});a.defs(h,"$try_convert",function(a,c,h){var b;return(b=c["$==="](a))===n||b.$$is_boolean&&1!=b?(b=a["$respond_to?"](h))===n||b.$$is_boolean&&1!=b?n:a.$__send__(h):a});a.defs(h,"$compare",function(a,
c){var h,b=n,b=a["$<=>"](c);(h=b===n)===n||h.$$is_boolean&&1!=h||this.$raise(l.get("ArgumentError"),"comparison of "+a.$class()+" with "+c.$class()+" failed");return b});a.defs(h,"$destructure",function(a){return 1==a.length?a[0]:a.$$is_array?a:q.call(a)});a.defs(h,"$respond_to?",function(a,c){return null!=a&&a.$$class?a["$respond_to?"](c):!1});a.defs(h,"$inspect",function(a){return void 0===a?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()});a.defs(h,"$instance_variable_name!",function(a){var c;
a=l.get("Opal")["$coerce_to!"](a,l.get("String"),"to_str");((c=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))===n||c.$$is_boolean&&1!=c)&&this.$raise(l.get("NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a})}(a.base)};
Opal.modules["corelib/module"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.slice,m=a.klass;a.add_stubs("$equal? $< $attr_reader $attr_writer $coerce_to! $raise $new $=~ $inject $const_get $split $const_missing $to_str $=== $to_proc $lambda $bind $call $class $append_features $included $name $to_s $__id__".split(" "));return function(h,$super){function e(){}var c=e=m(h,$super,"Module",e),A=c.$$scope,b,w,x,u;a.defs(c,"$new",b=function(){var p=b.$$p||n;b.$$p=null;var e=a.boot(a.Module,
function(){});e.$$name=n;e.$$class=a.Module;e.$$dep=[];e.$$is_module=!0;e.$$proto={};a.create_scope(a.Module.$$scope,e);if(p!==n){var g=p.$$s;p.$$s=null;p.call(e);p.$$s=g}return e});a.defn(c,"$===",function(b){var e;return(e=null==b)===n||e.$$is_boolean&&1!=e?a.is_a(b,this):!1});a.defn(c,"$<",function(a){var b=this;if(b===a)return!1;for(;b;){if(b===a)return!0;b=b.$$parent}return!1});a.defn(c,"$<=",function(a){var b;return!1!==(b=this["$equal?"](a))&&b!==n?b:"number"===typeof this&&"number"===typeof a?
this<a:this["$<"](a)});a.defn(c,"$alias_method",function(b,e){a.alias(this,b,e);return this});a.defn(c,"$alias_native",function(b,e){null==e&&(e=b);a.alias_native(this,b,e);return this});a.defn(c,"$ancestors",function(){for(var a=this,b=[];a;){b.push(a);for(var g=0;g<a.$$inc.length;g++)b=b.concat(a.$$inc[g].$ancestors());a=a.$$is_class?a.$$super:null}return b});a.defn(c,"$append_features",function(b){a.append_features(this,b);return this});a.defn(c,"$attr_accessor",function(){var b=arguments.length-
0;0>b&&(b=0);for(var e=Array(b),g=0;g<b;g++)e[g]=arguments[g+0];this.$attr_reader.apply(this,a.to_a(e));return this.$attr_writer.apply(this,a.to_a(e))});a.alias(c,"attr","attr_accessor");a.defn(c,"$attr_reader",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),g=0;g<b;g++)e[g]=arguments[g+0];b=this.$$proto;for(g=e.length-1;0<=g;g--){var k=e[g],c="$"+k,k=a.ivar(k),C=function(a){return function(){return null==this[a]?n:this[a]}}(k);b[k]=n;this.$$is_singleton?b.constructor.prototype[c]=
C:a.defn(this,c,C)}return n});a.defn(c,"$attr_writer",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),g=0;g<b;g++)e[g]=arguments[g+0];b=this.$$proto;for(g=e.length-1;0<=g;g--){var k=e[g],c="$"+k+"=",k=a.ivar(k),C=function(a){return function(f){return this[a]=f}}(k);b[k]=n;this.$$is_singleton?b.constructor.prototype[c]=C:a.defn(this,c,C)}return n});a.defn(c,"$autoload",function(a,b){var g;(g=this.$$autoload)||(g=this.$$autoload={});g[a]=b;return n});a.defn(c,"$class_variable_get",
function(b){var e;b=A.get("Opal")["$coerce_to!"](b,A.get("String"),"to_str");(e=3>b.length||"@@"!==b.slice(0,2))===n||e.$$is_boolean&&1!=e||this.$raise(A.get("NameError").$new("class vars should start with @@",b));var g=a.cvars[b.slice(2)];(e=null==g)===n||e.$$is_boolean&&1!=e||this.$raise(A.get("NameError").$new("uninitialized class variable @@a in",b));return g});a.defn(c,"$class_variable_set",function(b,e){var g;b=A.get("Opal")["$coerce_to!"](b,A.get("String"),"to_str");(g=3>b.length||"@@"!==b.slice(0,
2))===n||g.$$is_boolean&&1!=g||this.$raise(A.get("NameError"));return a.cvars[b.slice(2)]=e});a.defn(c,"$constants",function(){return this.$$scope.constants.slice(0)});a.defn(c,"$const_defined?",function(b,e){var g;null==e&&(e=!0);((g=b["$=~"](/^[A-Z]\w*$/))===n||g.$$is_boolean&&1!=g)&&this.$raise(A.get("NameError").$new("wrong constant name "+b,b));g=[this.$$scope];if(e||this===a.Object)for(var k=this.$$super;k!==a.BasicObject;)g.push(k.$$scope),k=k.$$super;for(var k=0,c=g.length;k<c;k++)if(g[k].hasOwnProperty(b))return!0;
return!1});a.defn(c,"$const_get",function(b,e){var g,k,c;null==e&&(e=!0);if((g=-1!=b.indexOf("::")&&"::"!=b)!==n&&(!g.$$is_boolean||1==g))return(g=(k=b.$split("::")).$inject,g.$$p=(c=function(a,b){null==a&&(a=n);null==b&&(b=n);return a.$const_get(b)},c.$$s=this,c),g).call(k,this);((g=/^[A-Z]\w*$/.test(b))===n||g.$$is_boolean&&1!=g)&&this.$raise(A.get("NameError").$new("wrong constant name "+b,b));g=[this.$$scope];if(e||this==a.Object)for(k=this.$$super;k!==a.BasicObject;)g.push(k.$$scope),k=k.$$super;
k=0;for(c=g.length;k<c;k++)if(g[k].hasOwnProperty(b))return g[k][b];return this.$const_missing(b)});a.defn(c,"$const_missing",function(a){if(this.$$autoload){var b=this.$$autoload[a];if(b)return this.$require(b),this.$const_get(a)}return this.$raise(A.get("NameError").$new("uninitialized constant "+this+"::"+a,a))});a.defn(c,"$const_set",function(b,e){var g;((g=b["$=~"](/^[A-Z]\w*$/))===n||g.$$is_boolean&&1!=g)&&this.$raise(A.get("NameError").$new("wrong constant name "+b,b));try{b=b.$to_str()}catch(k){try{this.$raise(A.get("TypeError"),
"conversion with #to_str failed")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}a.casgn(this,b,e);return e});a.defn(c,"$define_method",w=function(b,e){var g,k,c,C,z=this,f=w.$$p||n,d=n;w.$$p=null;(g=void 0===e&&f===n)===n||g.$$is_boolean&&1!=g||z.$raise(A.get("ArgumentError"),"tried to create a Proc object without a block");!1!==(g=f)&&g!==n?g:f=function(){d=e;return A.get("Proc")["$==="](d)?e:A.get("Method")["$==="](d)?e.$to_proc().$$unbound:A.get("UnboundMethod")["$==="](d)?(k=(c=z).$lambda,k.$$p=
(C=function(d){var f=C.$$s||this,b,g=n;d=q.call(arguments,0);g=e.$bind(f);return(b=g).$call.apply(b,a.to_a(d))},C.$$s=z,C),k).call(c):z.$raise(A.get("TypeError"),"wrong argument type "+f.$class()+" (expected Proc/Method)")}();f.$$jsid=b;f.$$s=null;f.$$def=f;a.defn(z,"$"+b,f);return b});a.defn(c,"$remove_method",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),g=0;g<b;g++)e[g]=arguments[g+0];b=0;for(g=e.length;b<g;b++)a.rdef(this,"$"+e[b]);return this});a.defn(c,"$singleton_class?",
function(){return!!this.$$is_singleton});a.defn(c,"$include",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),g=0;g<a;g++)b[g]=arguments[g+0];for(a=b.length-1;0<=a;a--)g=b[a],g!==this&&(g.$append_features(this),g.$included(this));return this});a.defn(c,"$include?",function(a){for(var b=this;b;b=b.$$super)for(var g=0;g!=b.$$inc.length;g++)if(a===b.$$inc[g])return!0;return!1});a.defn(c,"$instance_method",function(a){var b=this.$$proto["$"+a];b&&!b.$$stub||this.$raise(A.get("NameError").$new("undefined method `"+
a+"' for class `"+this.$name()+"'",a));return A.get("UnboundMethod").$new(this,b,a)});a.defn(c,"$instance_methods",function(b){null==b&&(b=!0);var e=[],g=this.$$proto,k;for(k in g)if("$"===k.charAt(0)&&"function"===typeof g[k]&&!g[k].$$stub){if(!this.$$is_module){if(this!==a.BasicObject&&g[k]===a.BasicObject.$$proto[k])continue;if(!b&&!g.hasOwnProperty(k))continue;if(!b&&g[k].$$donated)continue}e.push(k.substr(1))}return e});a.defn(c,"$included",function(a){return n});a.defn(c,"$extended",function(a){return n});
a.defn(c,"$method_added",function(){return n});a.defn(c,"$method_removed",function(){return n});a.defn(c,"$method_undefined",function(){return n});a.defn(c,"$module_eval",x=function(){var a=x.$$p||n;x.$$p=null;!1!==a&&a!==n||this.$raise(A.get("ArgumentError"),"no block given");var b=a.$$s,g;a.$$s=null;g=a.call(this);a.$$s=b;return g});a.alias(c,"class_eval","module_eval");a.defn(c,"$module_exec",u=function(){var a=u.$$p||n,b=arguments.length-0;0>b&&(b=0);for(var g=Array(b),k=0;k<b;k++)g[k]=arguments[k+
0];u.$$p=null;a===n&&this.$raise(A.get("LocalJumpError"),"no block given");b=a.$$s;a.$$s=null;g=a.apply(this,g);a.$$s=b;return g});a.alias(c,"class_exec","module_exec");a.defn(c,"$method_defined?",function(a){a=this.$$proto["$"+a];return!!a&&!a.$$stub});a.defn(c,"$module_function",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),g=0;g<b;g++)e[g]=arguments[g+0];if(0===e.length)this.$$module_function=!0;else for(b=0,g=e.length;b<g;b++){var k="$"+e[b];a.defs(this,k,this.$$proto[k])}return this});
a.defn(c,"$name",function(){if(this.$$full_name)return this.$$full_name;for(var b=[],e=this;e;){if(e.$$name===n)return 0===b.length?n:b.join("::");b.unshift(e.$$name);e=e.$$base_module;if(e===a.Object)break}return 0===b.length?n:this.$$full_name=b.join("::")});a.defn(c,"$remove_class_variable",function(){return n});a.defn(c,"$remove_const",function(a){var b=this.$$scope[a];delete this.$$scope[a];return b});a.defn(c,"$to_s",function(){var b;return!1!==(b=a.Module.$name.call(this))&&b!==n?b:"#<"+(this.$$is_module?
"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"});return(a.defn(c,"$undef_method",function(){var b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),g=0;g<b;g++)e[g]=arguments[g+0];b=0;for(g=e.length;b<g;b++)a.udef(this,"$"+e[b]);return this}),n)&&"undef_method"}(a.base,null)};
Opal.modules["corelib/class"]=function(a){a.dynamic_require_severity="warning";var n=a.top,q=a.nil,m=a.klass;a.add_stubs(["$require","$raise","$allocate"]);n.$require("corelib/module");return function(h,$super){function e(){}var c=e=m(h,$super,"Class",e),A=c.$$scope,b,n;a.defs(c,"$new",b=function(e){var c=b.$$p||q;null==e&&(e=A.get("Object"));b.$$p=null;e.$$is_class||this.$raise(A.get("TypeError"),"superclass must be a Class");var p=a.boot(e,function(){});p.$$name=q;p.$$parent=e;p.$$is_class=!0;a.create_scope(e.$$scope,
p);e.$inherited(p);c!==q&&(e=c.$$s,c.$$s=null,c.call(p),c.$$s=e);return p});a.defn(c,"$allocate",function(){var b=new this.$$alloc;b.$$id=a.uid();return b});a.defn(c,"$inherited",function(a){return q});a.defn(c,"$new",n=function(){var a=n.$$p||q,b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),c=0;c<b;c++)e[c]=arguments[c+0];n.$$p=null;b=this.$allocate();b.$initialize.$$p=a;b.$initialize.apply(b,e);return b});return(a.defn(c,"$superclass",function(){return this.$$super||q}),q)&&"superclass"}(a.base,
null)};
Opal.modules["corelib/basic_object"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.klass;a.add_stubs(["$==","$!","$raise","$new","$inspect"]);return function(m,$super){function l(){}var e=l=q(m,$super,"BasicObject",l),c=e.$$scope,A,b,w,x;a.defn(e,"$initialize",function(){return n});a.defn(e,"$==",function(a){return this===a});a.defn(e,"$eql?",function(a){return this["$=="](a)});a.defn(e,"$__id__",function(){return this.$$id||(this.$$id=a.uid())});a.defn(e,"$__send__",A=function(a){var b=A.$$p||
n,e=arguments.length-1;0>e&&(e=0);for(var g=Array(e),k=0;k<e;k++)g[k]=arguments[k+1];A.$$p=null;if(e=this["$"+a])return b!==n&&(e.$$p=b),e.apply(this,g);b!==n&&(this.$method_missing.$$p=b);return this.$method_missing.apply(this,[a].concat(g))});a.defn(e,"$!",function(){return!1});a.defn(e,"$!=",function(a){return this["$=="](a)["$!"]()});a.alias(e,"equal?","==");a.defn(e,"$instance_eval",b=function(){var a=b.$$p||n;b.$$p=null;!1!==a&&a!==n||c.get("Kernel").$raise(c.get("ArgumentError"),"no block given");
var e=a.$$s,l;a.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{l=a.call(this,this)}finally{this.$$eval=!1}}else l=a.call(this,this);a.$$s=e;return l});a.defn(e,"$instance_exec",w=function(){var a=w.$$p||n,b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),g=0;g<b;g++)e[g]=arguments[g+0];w.$$p=null;!1!==a&&a!==n||c.get("Kernel").$raise(c.get("ArgumentError"),"no block given");var b=a.$$s,k;a.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{k=a.apply(this,e)}finally{this.$$eval=
!1}}else k=a.apply(this,e);a.$$s=b;return k});a.defn(e,"$singleton_method_added",function(){return n});a.defn(e,"$singleton_method_removed",function(){return n});a.defn(e,"$singleton_method_undefined",function(){return n});return(a.defn(e,"$method_missing",x=function(a){var b,e=arguments.length-1;0>e&&(e=0);for(var g=Array(e),k=0;k<e;k++)g[k]=arguments[k+1];x.$$p=null;return c.get("Kernel").$raise(c.get("NoMethodError").$new((b=this.$inspect&&!this.$inspect.$$stub)===n||b.$$is_boolean&&1!=b?"undefined method `"+
a+"' for "+this.$$class:"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class,a))}),n)&&"method_missing"}(a.base,null)};
Opal.modules["corelib/kernel"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}a.dynamic_require_severity="warning";var q=a.nil,m=a.breaker,h=a.module,l=a.gvars,e=a.hash2,c=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $to_proc $singleton_class $initialize_dup $for $each $reverse $append_features $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $> $print $format $puts $<= $empty? $exception $kind_of? $respond_to_missing? $try_convert! $expand_path $join $start_with? $sym $arg $include".split(" "));(function(c){c=
h(c,"Kernel");var b=c.$$scope,w,x,u,p,r,g,k,t,C;a.defn(c,"$method_missing",w=function(a){var f=arguments.length-1;0>f&&(f=0);for(var d=Array(f),g=0;g<f;g++)d[g]=arguments[g+1];w.$$p=null;return this.$raise(b.get("NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,d))});a.defn(c,"$=~",function(a){return!1});a.defn(c,"$!~",function(a){return this["$=~"](a)["$!"]()});a.defn(c,"$===",function(a){var f;return!1!==(f=this.$object_id()["$=="](a.$object_id()))&&f!==q?f:this["$=="](a)});
a.defn(c,"$<=>",function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==q?0:q});a.defn(c,"$method",function(a){var f=this["$"+a];f&&!f.$$stub||this.$raise(b.get("NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return b.get("Method").$new(this,f,a)});a.defn(c,"$methods",function(b){null==b&&(b=!0);var f=[],d;for(d in this)"$"==d[0]&&"function"===typeof this[d]&&(0!=b&&b!==q||a.hasOwnProperty.call(this,d))&&void 0===this[d].$$stub&&f.push(d.substr(1));return f});
a.alias(c,"public_methods","methods");a.defn(c,"$Array",function(a){var f;if(a===q)return[];if(a.$$is_array)return a;f=b.get("Opal")["$coerce_to?"](a,b.get("Array"),"to_ary");if(f!==q)return f;f=b.get("Opal")["$coerce_to?"](a,b.get("Array"),"to_a");return f!==q?f:[a]});a.defn(c,"$at_exit",x=function(){var a,f=x.$$p||q;null==l.__at_exit__&&(l.__at_exit__=q);x.$$p=null;!1!==(a=l.__at_exit__)&&a!==q?a:l.__at_exit__=[];return l.__at_exit__["$<<"](f)});a.defn(c,"$caller",function(){return[]});a.defn(c,
"$class",function(){return this.$$class});a.defn(c,"$copy_instance_variables",function(a){for(var f in a)"$"!==f.charAt(0)&&(this[f]=a[f])});a.defn(c,"$copy_singleton_methods",function(b){var f;if(b.hasOwnProperty("$$meta")){var d=a.get_singleton_class(b).$$proto,g=a.get_singleton_class(this).$$proto;for(f in d)"$"===f.charAt(0)&&d.hasOwnProperty(f)&&(g[f]=d[f])}for(f in b)"$"===f.charAt(0)&&"$"!==f.charAt(1)&&b.hasOwnProperty(f)&&(this[f]=b[f])});a.defn(c,"$clone",function(){var a=q,a=this.$class().$allocate();
a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(c,"$initialize_clone",function(a){return this.$initialize_copy(a)});a.defn(c,"$define_singleton_method",u=function(a,f){var d,b,g=u.$$p||q;u.$$p=null;return(d=(b=this.$singleton_class()).$define_method,d.$$p=g.$to_proc(),d).call(b,a,f)});a.defn(c,"$dup",function(){var a=q,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a});a.defn(c,"$initialize_dup",
function(a){return this.$initialize_copy(a)});a.defn(c,"$enum_for",p=function(g){var f,d,e=p.$$p||q,k=arguments.length-1;0>k&&(k=0);for(var c=Array(k),t=0;t<k;t++)c[t]=arguments[t+1];null==g&&(g="each");p.$$p=null;return(f=(d=b.get("Enumerator")).$for,f.$$p=e.$to_proc(),f).apply(d,[this,g].concat(a.to_a(c)))});a.alias(c,"to_enum","enum_for");a.defn(c,"$equal?",function(a){return this===a});a.defn(c,"$exit",function(b){var f,d;null==l.__at_exit__&&(l.__at_exit__=q);null==b&&(b=!0);(f=l.__at_exit__)===
q||f.$$is_boolean&&1!=f||(f=(d=l.__at_exit__.$reverse()).$each,f.$$p="call".$to_proc(),f).call(d);(f=!0===b)===q||f.$$is_boolean&&1!=f||(b=0);a.exit(b);return q});a.defn(c,"$extend",function(){var a=arguments.length-0;0>a&&(a=0);for(var f=Array(a),d=0;d<a;d++)f[d]=arguments[d+0];a=this.$singleton_class();for(d=f.length-1;0<=d;d--){var b=f[d];b.$append_features(a);b.$extended(this)}return this});a.defn(c,"$format",function(a){function f(){H&32&&K.$raise(b.get("ArgumentError"),"flag after width");H&
128&&K.$raise(b.get("ArgumentError"),"flag after precision")}function d(){H&32&&K.$raise(b.get("ArgumentError"),"width given twice");H&128&&K.$raise(b.get("ArgumentError"),"width after precision")}function g(a){a>=p.length&&K.$raise(b.get("ArgumentError"),"too few arguments");return p[a]}function e(){switch(S){case -1:K.$raise(b.get("ArgumentError"),"unnumbered("+aa+") mixed with numbered");case -2:K.$raise(b.get("ArgumentError"),"unnumbered("+aa+") mixed with named")}S=aa++;return g(S-1)}function k(a){0<
S&&K.$raise(b.get("ArgumentError"),"numbered("+a+") after unnumbered("+S+")");-2===S&&K.$raise(b.get("ArgumentError"),"numbered("+a+") after named");1>a&&K.$raise(b.get("ArgumentError"),"invalid index - "+a+"$");S=-1;return g(a-1)}function c(){return void 0===Q?e():Q}function F(d){var f;for(f="";;h++){h===r&&K.$raise(b.get("ArgumentError"),"malformed format string - %*[0-9]");if(48>a.charCodeAt(h)||57<a.charCodeAt(h))return h--,f=parseInt(f,10)||0,2147483647<f&&K.$raise(b.get("ArgumentError"),""+
d+" too big"),f;f+=a.charAt(h)}}function v(d){d=F(d);"$"===a.charAt(h+1)?(h++,d=k(d)):d=e();return d.$to_int()}var D,K=this,t=q;null==l.DEBUG&&(l.DEBUG=q);t=arguments.length-1;0>t&&(t=0);for(var p=Array(t),C=0;C<t;C++)p[C]=arguments[C+1];(D=p.$length()["$=="](1)?p["$[]"](0)["$respond_to?"]("to_ary"):p.$length()["$=="](1))!==q&&(!D.$$is_boolean||1==D)&&(t=b.get("Opal")["$coerce_to?"](p["$[]"](0),b.get("Array"),"to_ary"),(D=t["$nil?"]())===q||D.$$is_boolean&&1!=D)&&(p=t.$to_a());D="";var t=0,h,r=a.length,
n,m,A,w,u,x,R,V,W,Q,aa=1,S=0,H;for(h=a.indexOf("%");-1!==h;h=a.indexOf("%",h)){m=void 0;H=0;u=w=-1;Q=void 0;C=h;h++;switch(a.charAt(h)){case "%":t=h;case "":case "\n":case "\x00":h++;continue}a:for(;h<r;h++)switch(a.charAt(h)){case " ":f();H|=16;continue a;case "#":f();H|=1;continue a;case "+":f();H|=4;continue a;case "-":f();H|=2;continue a;case "0":f();H|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":n=F("width");if("$"===a.charAt(h+1)){if(h+2===r){m=
"%";h++;break a}void 0!==Q&&K.$raise(b.get("ArgumentError"),"value given twice - %"+n+"$");Q=k(n);h++}else d(),H|=32,w=n;continue a;case "<":case "{":for(A="<"===a.charAt(h)?">":"}",n="",h++;;h++){h===r&&K.$raise(b.get("ArgumentError"),"malformed name - unmatched parenthesis");if(a.charAt(h)===A)if(0<S&&K.$raise(b.get("ArgumentError"),"named "+n+" after unnumbered("+S+")"),-1===S&&K.$raise(b.get("ArgumentError"),"named "+n+" after numbered"),S=-2,void 0!==p[0]&&p[0].$$is_hash||K.$raise(b.get("ArgumentError"),
"one hash required"),Q=p[0].$fetch(n),">"===A)continue a;else{m=Q.toString();-1!==u&&(m=m.slice(0,u));if(H&2)for(;m.length<w;)m+=" ";else for(;m.length<w;)m=" "+m;break a}n+=a.charAt(h)}case "*":h++;d();H|=32;w=v("width");0>w&&(H|=2,w=-w);continue a;case ".":H&128&&K.$raise(b.get("ArgumentError"),"precision given twice");H|=192;u=0;h++;if("*"===a.charAt(h)){h++;u=v("precision");0>u&&(H&=-65);continue a}u=F("precision");continue a;case "d":case "i":case "u":n=K.$Integer(c());if(0<=n){for(m=n.toString();m.length<
u;)m="0"+m;if(H&2){if(H&4||H&16)m=(H&4?"+":" ")+m;for(;m.length<w;)m+=" "}else if(H&8&&-1===u){for(;m.length<w-(H&4||H&16?1:0);)m="0"+m;if(H&4||H&16)m=(H&4?"+":" ")+m}else{if(H&4||H&16)m=(H&4?"+":" ")+m;for(;m.length<w;)m=" "+m}}else{for(m=(-n).toString();m.length<u;)m="0"+m;if(H&2)for(m="-"+m;m.length<w;)m+=" ";else if(H&8&&-1===u){for(;m.length<w-1;)m="0"+m;m="-"+m}else for(m="-"+m;m.length<w;)m=" "+m}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(h)){case "b":case "B":x=2;
R="0b";V=/^1+/;W="1";break;case "o":x=8;R="0";V=/^3?7+/;W="7";break;case "x":case "X":x=16,R="0x",V=/^f+/,W="f"}n=K.$Integer(c());if(0<=n){for(m=n.toString(x);m.length<u;)m="0"+m;if(H&2){if(H&4||H&16)m=(H&4?"+":" ")+m;for(H&1&&0!==n&&(m=R+m);m.length<w;)m+=" "}else if(H&8&&-1===u){for(;m.length<w-(H&4||H&16?1:0)-(H&1&&0!==n?R.length:0);)m="0"+m;H&1&&0!==n&&(m=R+m);if(H&4||H&16)m=(H&4?"+":" ")+m}else{H&1&&0!==n&&(m=R+m);if(H&4||H&16)m=(H&4?"+":" ")+m;for(;m.length<w;)m=" "+m}}else if(H&4||H&16){for(m=
(-n).toString(x);m.length<u;)m="0"+m;if(H&2)for(H&1&&(m=R+m),m="-"+m;m.length<w;)m+=" ";else if(H&8&&-1===u){for(;m.length<w-1-(H&1?2:0);)m="0"+m;H&1&&(m=R+m);m="-"+m}else for(H&1&&(m=R+m),m="-"+m;m.length<w;)m=" "+m}else{for(m=(n>>>0).toString(x).replace(V,W);m.length<u-2;)m=W+m;if(H&2)for(m=".."+m,H&1&&(m=R+m);m.length<w;)m+=" ";else if(H&8&&-1===u){for(;m.length<w-2-(H&1?R.length:0);)m=W+m;m=".."+m;H&1&&(m=R+m)}else for(m=".."+m,H&1&&(m=R+m);m.length<w;)m=" "+m}a.charAt(h)===a.charAt(h).toUpperCase()&&
(m=m.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":n=K.$Float(c());if(0<=n||isNaN(n)){if(Infinity===n)m="Inf";else switch(a.charAt(h)){case "f":m=n.toFixed(-1===u?6:u);break;case "e":case "E":m=n.toExponential(-1===u?6:u);break;case "g":case "G":m=n.toExponential(),A=parseInt(m.split("e")[1],10),-4>A||A>=(-1===u?6:u)||(m=n.toPrecision(-1===u?H&1?6:void 0:u))}if(H&2){if(H&4||H&16)m=(H&4?"+":" ")+m;for(;m.length<w;)m+=" "}else if(H&8&&Infinity!==n&&!isNaN(n)){for(;m.length<w-(H&
4||H&16?1:0);)m="0"+m;if(H&4||H&16)m=(H&4?"+":" ")+m}else{if(H&4||H&16)m=(H&4?"+":" ")+m;for(;m.length<w;)m=" "+m}}else{if(-Infinity===n)m="Inf";else switch(a.charAt(h)){case "f":m=(-n).toFixed(-1===u?6:u);break;case "e":case "E":m=(-n).toExponential(-1===u?6:u);break;case "g":case "G":m=(-n).toExponential(),A=parseInt(m.split("e")[1],10),-4>A||A>=(-1===u?6:u)||(m=(-n).toPrecision(-1===u?H&1?6:void 0:u))}if(H&2)for(m="-"+m;m.length<w;)m+=" ";else if(H&8&&-Infinity!==n){for(;m.length<w-1;)m="0"+m;
m="-"+m}else for(m="-"+m;m.length<w;)m=" "+m}a.charAt(h)!==a.charAt(h).toUpperCase()||Infinity===n||-Infinity===n||isNaN(n)||(m=m.toUpperCase());m=m.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":K.$raise(b.get("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":n=c();n["$respond_to?"]("to_ary")&&(n=n.$to_ary()[0]);m=n["$respond_to?"]("to_str")?n.$to_str():String.fromCharCode(b.get("Opal").$coerce_to(n,b.get("Integer"),"to_int"));1!==
m.length&&K.$raise(b.get("ArgumentError"),"%c requires a character");if(H&2)for(;m.length<w;)m+=" ";else for(;m.length<w;)m=" "+m;break a;case "p":m=c().$inspect();-1!==u&&(m=m.slice(0,u));if(H&2)for(;m.length<w;)m+=" ";else for(;m.length<w;)m=" "+m;break a;case "s":m=c().$to_s();-1!==u&&(m=m.slice(0,u));if(H&2)for(;m.length<w;)m+=" ";else for(;m.length<w;)m=" "+m;break a;default:K.$raise(b.get("ArgumentError"),"malformed format string - %"+a.charAt(h))}void 0===m&&K.$raise(b.get("ArgumentError"),
"malformed format string - %");D+=a.slice(t,C)+m;t=h+1}l.DEBUG&&0<=S&&aa<p.length&&K.$raise(b.get("ArgumentError"),"too many arguments for format string");return D+a.slice(t)});a.defn(c,"$hash",function(){return""+this.$class()+":"+this.$class().$__id__()+":"+this.$__id__()});a.defn(c,"$initialize_copy",function(a){return q});a.defn(c,"$inspect",function(){return this.$to_s()});a.defn(c,"$instance_of?",function(a){a.$$is_class||a.$$is_module||this.$raise(b.get("TypeError"),"class or module required");
return this.$$class===a});a.defn(c,"$instance_variable_defined?",function(g){g=b.get("Opal")["$instance_variable_name!"](g);return a.hasOwnProperty.call(this,g.substr(1))});a.defn(c,"$instance_variable_get",function(a){a=b.get("Opal")["$instance_variable_name!"](a);a=this[a.substr(1)];return null==a?q:a});a.defn(c,"$instance_variable_set",function(a,f){a=b.get("Opal")["$instance_variable_name!"](a);return this[a.substr(1)]=f});a.defn(c,"$instance_variables",function(){var a=[],f;for(f in this)"$"!==
f.charAt(0)&&"$$class"!==f&&"$$id"!==f&&a.push("@"+f);return a});a.defn(c,"$Integer",function(a,f){var d=this,g,e;if(!a.$$is_string)return void 0!==f&&d.$raise(b.get("ArgumentError"),"base specified for non string value"),a===q&&d.$raise(b.get("TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&d.$raise(b.get("FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(g=a.$to_int(),g!==q)?g:b.get("Opal")["$coerce_to!"](a,b.get("Integer"),
"to_i");void 0===f?f=0:(f=b.get("Opal").$coerce_to(f,b.get("Integer"),"to_int"),(1===f||0>f||36<f)&&d.$raise(b.get("ArgumentError"),"invalid radix "+f));g=a.toLowerCase();g=g.replace(/(\d)_(?=\d)/g,"$1");g=g.replace(/^(\s*[+-]?)(0[bodx]?)/,function(g,e,F){switch(F){case "0b":if(0===f||2===f)return f=2,e;case "0":case "0o":if(0===f||8===f)return f=8,e;case "0d":if(0===f||10===f)return f=10,e;case "0x":if(0===f||16===f)return f=16,e}d.$raise(b.get("ArgumentError"),'invalid value for Integer(): "'+a+
'"')});f=0===f?10:f;e="0-"+(10>=f?f-1:"9a-"+String.fromCharCode(97+(f-11)));(new RegExp("^\\s*[+-]?["+e+"]+\\s*$")).test(g)||d.$raise(b.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');g=parseInt(g,f);isNaN(g)&&d.$raise(b.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');return g});a.defn(c,"$Float",function(a){var f;a===q&&this.$raise(b.get("TypeError"),"can't convert nil into Float");if(a.$$is_string){f=a.toString();f=f.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(f))return this.$Integer(f);
/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(f)||this.$raise(b.get("ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(f)}return b.get("Opal")["$coerce_to!"](a,b.get("Float"),"to_f")});a.defn(c,"$Hash",function(a){var f,d;return(f=!1!==(d=a["$nil?"]())&&d!==q?d:a["$=="]([]))===q||f.$$is_boolean&&1!=f?(f=b.get("Hash")["$==="](a))===q||f.$$is_boolean&&1!=f?b.get("Opal")["$coerce_to!"](a,b.get("Hash"),"to_hash"):a:e([],{})});a.defn(c,"$is_a?",function(g){g.$$is_class||g.$$is_module||
this.$raise(b.get("TypeError"),"class or module required");return a.is_a(this,g)});a.alias(c,"kind_of?","is_a?");a.defn(c,"$lambda",r=function(){var a=r.$$p||q;r.$$p=null;a.$$is_lambda=!0;return a});a.defn(c,"$load",function(g){g=b.get("Opal")["$coerce_to!"](g,b.get("String"),"to_str");return a.load(g)});a.defn(c,"$loop",g=function(){var a=g.$$p||q;for(g.$$p=null;;)if(a()===m)return m.$v});a.defn(c,"$nil?",function(){return!1});a.alias(c,"object_id","__id__");a.defn(c,"$printf",function(){var b=arguments.length-
0;0>b&&(b=0);for(var f=Array(b),d=0;d<b;d++)f[d]=arguments[d+0];b=f.$length();("number"===typeof b?0<b:b["$>"](0))&&this.$print(this.$format.apply(this,a.to_a(f)));return q});a.defn(c,"$proc",k=function(){var a=k.$$p||q;k.$$p=null;!1!==a&&a!==q||this.$raise(b.get("ArgumentError"),"tried to create Proc object without a block");a.$$is_lambda=!1;return a});a.defn(c,"$puts",function(){var b;null==l.stdout&&(l.stdout=q);var f=arguments.length-0;0>f&&(f=0);for(var d=Array(f),g=0;g<f;g++)d[g]=arguments[g+
0];return(b=l.stdout).$puts.apply(b,a.to_a(d))});a.defn(c,"$p",function(){var a,f,d=arguments.length-0;0>d&&(d=0);for(var b=Array(d),g=0;g<d;g++)b[g]=arguments[g+0];(a=b.$each,a.$$p=(f=function(a){null==l.stdout&&(l.stdout=q);null==a&&(a=q);return l.stdout.$puts(a.$inspect())},f.$$s=this,f),a).call(b);return n(b.$length(),1)?b["$[]"](0):b});a.defn(c,"$print",function(){var b;null==l.stdout&&(l.stdout=q);var f=arguments.length-0;0>f&&(f=0);for(var d=Array(f),g=0;g<f;g++)d[g]=arguments[g+0];return(b=
l.stdout).$print.apply(b,a.to_a(d))});a.defn(c,"$warn",function(){var b,f;null==l.VERBOSE&&(l.VERBOSE=q);null==l.stderr&&(l.stderr=q);var d=arguments.length-0;0>d&&(d=0);for(var g=Array(d),e=0;e<d;e++)g[e]=arguments[e+0];return(b=!1!==(f=l.VERBOSE["$nil?"]())&&f!==q?f:g["$empty?"]())===q||b.$$is_boolean&&1!=b?(b=l.stderr).$puts.apply(b,a.to_a(g)):q});a.defn(c,"$raise",function(g,f,d){null==l["!"]&&(l["!"]=q);null==f&&(f=q);if(null==g&&l["!"]!==q)throw l["!"];null==g?g=b.get("RuntimeError").$new():
g.$$is_string?g=b.get("RuntimeError").$new(g):g.$$is_class&&g["$respond_to?"]("exception")?g=g.$exception(f):g["$kind_of?"](b.get("Exception"))||(g=b.get("TypeError").$new("exception class/object expected"));l["!"]!==q&&a.exceptions.push(l["!"]);l["!"]=g;throw g;});a.alias(c,"fail","raise");a.defn(c,"$rand",function(a){if(void 0===a)return Math.random();if(a.$$is_range){var f=a.begin,d=a.end-f;a.exclude||d++;return this.$rand(d)+f}return Math.floor(Math.random()*Math.abs(b.get("Opal").$coerce_to(a,
b.get("Integer"),"to_int")))});a.defn(c,"$respond_to?",function(a,f){var d;null==f&&(f=!1);if((d=this["$respond_to_missing?"](a,f))!==q&&(!d.$$is_boolean||1==d))return!0;d=this["$"+a];return"function"!==typeof d||d.$$stub?!1:!0});a.defn(c,"$respond_to_missing?",function(a,f){return!1});a.defn(c,"$require",function(g){g=b.get("Opal")["$coerce_to!"](g,b.get("String"),"to_str");return a.require(g)});a.defn(c,"$require_relative",function(g){b.get("Opal")["$try_convert!"](g,b.get("String"),"to_str");g=
b.get("File").$expand_path(b.get("File").$join(a.current_file,"..",g));return a.require(g)});a.defn(c,"$require_tree",function(g){g=b.get("File").$expand_path(g);g["$=="](".")&&(g="");for(var f in a.modules)f["$start_with?"](g)&&a.require(f);return q});a.alias(c,"send","__send__");a.alias(c,"public_send","__send__");a.defn(c,"$singleton_class",function(){return a.get_singleton_class(this)});a.defn(c,"$sleep",function(a){null==a&&(a=q);a===q&&this.$raise(b.get("TypeError"),"can't convert NilClass into time interval");
a.$$is_number||this.$raise(b.get("TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(b.get("ArgumentError"),"time interval must be positive");for(var f=new Date;new Date-f<=1E3*a;);return a});a.alias(c,"sprintf","format");a.alias(c,"srand","rand");a.defn(c,"$String",function(a){var f;return!1!==(f=b.get("Opal")["$coerce_to?"](a,b.get("String"),"to_str"))&&f!==q?f:b.get("Opal")["$coerce_to!"](a,b.get("String"),"to_s")});a.defn(c,"$tap",t=function(){var b=t.$$p||q;t.$$p=
null;return a.yield1(b,this)===m?m.$v:this});a.defn(c,"$to_proc",function(){return this});a.defn(c,"$to_s",function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"});a.defn(c,"$catch",C=function(g){var f,d=C.$$p||q,e=q;C.$$p=null;try{return f=a.yieldX(d,[]),f}catch(k){if(a.rescue(k,[b.get("UncaughtThrowError")])){e=k;try{return e.$sym()["$=="](g)?e.$arg():this.$raise()}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else throw k;}});a.defn(c,"$throw",function(){var a=arguments.length-
0;0>a&&(a=0);for(var f=Array(a),d=0;d<a;d++)f[d]=arguments[d+0];return this.$raise(b.get("UncaughtThrowError").$new(f))})})(a.base);return function(a,$super){function e(){}var h=e=c(a,$super,"Object",e);return h.$include(h.$$scope.get("Kernel"))}(a.base,null)};
Opal.modules["corelib/error"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.klass,m=a.module;a.add_stubs("$new $clone $to_s $empty? $class $attr_reader $[] $> $length $inspect".split(" "));(function(h,$super){function e(){}var c=e=q(h,$super,"Exception",e);c.$$proto.message=n;a.defs(c,"$new",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),e=0;e<a;e++)b[e]=arguments[e+0];a=new this.$$alloc(0<b.length?b[0]:n);Error.captureStackTrace&&Error.captureStackTrace(a);a.name=
this.$$name;a.$initialize.apply(a,b);return a});a.defs(c,"$exception",function(){var e=arguments.length-0;0>e&&(e=0);for(var b=Array(e),c=0;c<e;c++)b[c]=arguments[c+0];return this.$new.apply(this,a.to_a(b))});a.defn(c,"$initialize",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),e=0;e<a;e++)b[e]=arguments[e+0];return this.message=0<b.length?b[0]:n});a.defn(c,"$backtrace",function(){var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]});a.defn(c,
"$exception",function(a){null==a&&(a=n);if(a===n||this===a)return this;var b=this.$clone();b.message=a;return b});a.defn(c,"$message",function(){return this.$to_s()});a.defn(c,"$inspect",function(){var a,b=n,b=this.$to_s();return(a=b["$empty?"]())===n||a.$$is_boolean&&1!=a?"#<"+this.$class().$to_s()+": "+this.$to_s()+">":this.$class().$to_s()});return(a.defn(c,"$to_s",function(){var a,b;return!1!==(a=(b=this.message,!1!==b&&b!==n?this.message.$to_s():b))&&a!==n?a:this.$class().$to_s()}),n)&&"to_s"})(a.base,
Error);(function(a,$super){function e(){}e=q(a,$super,"ScriptError",e);return n})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=q(a,$super,"SyntaxError",e);return n})(a.base,a.get("ScriptError"));(function(a,$super){function e(){}e=q(a,$super,"LoadError",e);return n})(a.base,a.get("ScriptError"));(function(a,$super){function e(){}e=q(a,$super,"NotImplementedError",e);return n})(a.base,a.get("ScriptError"));(function(a,$super){function e(){}e=q(a,$super,"SystemExit",e);return n})(a.base,
a.get("Exception"));(function(a,$super){function e(){}e=q(a,$super,"NoMemoryError",e);return n})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=q(a,$super,"SignalException",e);return n})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=q(a,$super,"Interrupt",e);return n})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=q(a,$super,"SecurityError",e);return n})(a.base,a.get("Exception"));(function(a,$super){function e(){}e=q(a,$super,"StandardError",e);return n})(a.base,
a.get("Exception"));(function(a,$super){function e(){}e=q(a,$super,"ZeroDivisionError",e);return n})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=q(a,$super,"NameError",e);return n})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=q(a,$super,"NoMethodError",e);return n})(a.base,a.get("NameError"));(function(a,$super){function e(){}e=q(a,$super,"RuntimeError",e);return n})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=q(a,$super,"LocalJumpError",
e);return n})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=q(a,$super,"TypeError",e);return n})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=q(a,$super,"ArgumentError",e);return n})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=q(a,$super,"IndexError",e);return n})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=q(a,$super,"StopIteration",e);return n})(a.base,a.get("IndexError"));(function(a,$super){function e(){}
e=q(a,$super,"KeyError",e);return n})(a.base,a.get("IndexError"));(function(a,$super){function e(){}e=q(a,$super,"RangeError",e);return n})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=q(a,$super,"FloatDomainError",e);return n})(a.base,a.get("RangeError"));(function(a,$super){function e(){}e=q(a,$super,"IOError",e);return n})(a.base,a.get("StandardError"));(function(a,$super){function e(){}e=q(a,$super,"SystemCallError",e);return n})(a.base,a.get("StandardError"));(function(h){h=
m(h,"Errno").$$scope;(function(h,$super){function c(){}var m=c=q(h,$super,"EINVAL",c),b;return(a.defs(m,"$new",b=function(){b.$$p=null;return a.find_super_dispatcher(this,"new",b,null,c).apply(this,["Invalid argument"])}),n)&&"new"})(h.base,h.get("SystemCallError"))})(a.base);(function(h,$super){function e(){}var c=e=q(h,$super,"UncaughtThrowError",e),m;c.$$proto.sym=n;c.$attr_reader("sym","arg");return(a.defn(c,"$initialize",m=function(b){m.$$p=null;this.sym=b["$[]"](0);var e=b.$length();if("number"===
typeof e?1<e:e["$>"](1))this.arg=b["$[]"](1);return a.find_super_dispatcher(this,"initialize",m,null).apply(this,["uncaught throw "+this.sym.$inspect()])}),n)&&"initialize"})(a.base,a.get("ArgumentError"));(function(h,$super){function e(){}var c=e=q(h,$super,"NameError",e),m;c.$attr_reader("name");return(a.defn(c,"$initialize",m=function(b,e){null==e&&(e=n);m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[b]);return this.name=e}),n)&&"initialize"})(a.base,null);return function(h,
$super){function e(){}var c=e=q(h,$super,"NoMethodError",e),m;c.$attr_reader("args");return(a.defn(c,"$initialize",m=function(b,e,c){null==c&&(c=[]);m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[b,e]);return this.args=c}),n)&&"initialize"}(a.base,null)};
Opal.modules["corelib/constants"]=function(a){a.dynamic_require_severity="warning";a.cdecl(a,"RUBY_PLATFORM","opal");a.cdecl(a,"RUBY_ENGINE","opal");a.cdecl(a,"RUBY_VERSION","2.1.5");a.cdecl(a,"RUBY_ENGINE_VERSION","0.9.0.beta2");a.cdecl(a,"RUBY_RELEASE_DATE","2015-11-06");a.cdecl(a,"RUBY_PATCHLEVEL",0);a.cdecl(a,"RUBY_REVISION",0);a.cdecl(a,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");return a.cdecl(a,"RUBY_DESCRIPTION","opal "+a.get("RUBY_ENGINE_VERSION")+" ("+a.get("RUBY_RELEASE_DATE")+
" revision "+a.get("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(a){a.dynamic_require_severity="warning";var n=a.top;a.add_stubs(["$require"]);n.$require("corelib/runtime");n.$require("corelib/helpers");n.$require("corelib/module");n.$require("corelib/class");n.$require("corelib/basic_object");n.$require("corelib/kernel");n.$require("corelib/error");return n.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.klass;a.add_stubs("$raise $class $new $> $length $Rational".split(" "));(function(m,$super){function l(){}var e=l=q(m,$super,"NilClass",l),c=e.$$scope;e.$$proto.$$meta=e;a.defn(e,"$!",function(){return!0});a.defn(e,"$&",function(a){return!1});a.defn(e,"$|",function(a){return!1!==a&&a!==n});a.defn(e,"$^",function(a){return!1!==a&&a!==n});a.defn(e,"$==",function(a){return a===n});a.defn(e,"$dup",function(){return this.$raise(c.get("TypeError"),
"can't dup "+this.$class())});a.defn(e,"$clone",function(){return this.$raise(c.get("TypeError"),"can't clone "+this.$class())});a.defn(e,"$inspect",function(){return"nil"});a.defn(e,"$nil?",function(){return!0});a.defn(e,"$singleton_class",function(){return c.get("NilClass")});a.defn(e,"$to_a",function(){return[]});a.defn(e,"$to_h",function(){return a.hash()});a.defn(e,"$to_i",function(){return 0});a.alias(e,"to_f","to_i");a.defn(e,"$to_s",function(){return""});a.defn(e,"$to_c",function(){return c.get("Complex").$new(0,
0)});a.defn(e,"$rationalize",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),e=0;e<a;e++)b[e]=arguments[e+0];a=b.$length();("number"===typeof a?1<a:a["$>"](1))&&this.$raise(c.get("ArgumentError"));return this.$Rational(0,1)});return(a.defn(e,"$to_r",function(){return this.$Rational(0,1)}),n)&&"to_r"})(a.base,null);return a.cdecl(a,"NIL",n)};
Opal.modules["corelib/boolean"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.klass;a.add_stubs(["$raise","$class"]);(function(m,$super){function l(){}var e=l=q(m,$super,"Boolean",l),c=e.$$proto,A=e.$$scope;c.$$is_boolean=!0;c.$$meta=e;a.defn(e,"$__id__",function(){return this.valueOf()?2:0});a.alias(e,"object_id","__id__");a.defn(e,"$!",function(){return 1!=this});a.defn(e,"$&",function(a){return 1==this?!1!==a&&a!==n:!1});a.defn(e,"$|",function(a){return 1==this?!0:!1!==a&&a!==
n});a.defn(e,"$^",function(a){return 1==this?!1===a||a===n:!1!==a&&a!==n});a.defn(e,"$==",function(a){return 1==this===a.valueOf()});a.alias(e,"equal?","==");a.alias(e,"eql?","==");a.defn(e,"$singleton_class",function(){return A.get("Boolean")});a.defn(e,"$to_s",function(){return 1==this?"true":"false"});a.defn(e,"$dup",function(){return this.$raise(A.get("TypeError"),"can't dup "+this.$class())});return(a.defn(e,"$clone",function(){return this.$raise(A.get("TypeError"),"can't clone "+this.$class())}),
n)&&"clone"})(a.base,Boolean);a.cdecl(a,"TrueClass",a.get("Boolean"));a.cdecl(a,"FalseClass",a.get("Boolean"));a.cdecl(a,"TRUE",!0);return a.cdecl(a,"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(a){function n(a,e){return"number"===typeof a&&"number"===typeof e?a>e:a["$>"](e)}function q(a,e){return"number"===typeof a&&"number"===typeof e?a<e:a["$<"](e)}a.dynamic_require_severity="warning";var m=a.nil,h=a.module;a.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(l){l=h(l,"Comparable");var e=l.$$scope;a.defs(l,"$normalize",function(a){var h;return(h=e.get("Integer")["$==="](a))===m||h.$$is_boolean&&1!=h?n(a,
0)?1:q(a,0)?-1:0:a});a.defn(l,"$==",function(c){var h,b=m;try{return(h=this["$equal?"](c))===m||h.$$is_boolean&&1!=h?this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):(h=b=this["$<=>"](c))===m||h.$$is_boolean&&1!=h?!1:0==e.get("Comparable").$normalize(b):!0}catch(l){if(a.rescue(l,[e.get("StandardError")]))try{return!1}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw l;}});a.defn(l,"$>",function(a){var h,b=m;((h=b=this["$<=>"](a))===m||h.$$is_boolean&&1!=h)&&
this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<e.get("Comparable").$normalize(b)});a.defn(l,"$>=",function(a){var h,b=m;((h=b=this["$<=>"](a))===m||h.$$is_boolean&&1!=h)&&this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=e.get("Comparable").$normalize(b)});a.defn(l,"$<",function(a){var h,b=m;((h=b=this["$<=>"](a))===m||h.$$is_boolean&&1!=h)&&this.$raise(e.get("ArgumentError"),"comparison of "+
this.$class()+" with "+a.$class()+" failed");return 0>e.get("Comparable").$normalize(b)});a.defn(l,"$<=",function(a){var h,b=m;((h=b=this["$<=>"](a))===m||h.$$is_boolean&&1!=h)&&this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=e.get("Comparable").$normalize(b)});a.defn(l,"$between?",function(a,e){return q(this,a)||n(this,e)?!1:!0})}(a.base)};
Opal.modules["corelib/regexp"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.slice,m=a.klass,h=a.gvars;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $call $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(a,$super){function c(){}c=m(a,$super,"RegexpError",c);return n})(a.base,a.get("StandardError"));(function(l,$super){function c(){}var A=c=m(l,$super,"Regexp",c),b=A.$$proto,w=A.$$scope,x;a.cdecl(w,
"IGNORECASE",1);a.cdecl(w,"MULTILINE",4);b.$$is_regexp=!0;(function(b){var c=b.$$scope,l;a.defn(b,"$allocate",l=function(){var b=q.call(arguments,0),k=l.$$p,c=n;l.$$p=null;c=a.find_super_dispatcher(this,"allocate",l,k).apply(this,b);c.uninitialized=!0;return c});a.defn(b,"$escape",function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")});a.defn(b,"$last_match",function(a){var b;null==h["~"]&&(h["~"]=
n);null==a&&(a=n);return(b=a["$nil?"]())===n||b.$$is_boolean&&1!=b?h["~"]["$[]"](a):h["~"]});a.alias(b,"quote","escape");a.defn(b,"$union",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),t=0;t<a;t++)b[t]=arguments[t+0];var C,h;if(0==b.length)return/(?!)/;a=b[0].$$is_array;1<b.length&&a&&this.$raise(c.get("TypeError"),"no implicit conversion of Array into String");a&&(b=b[0]);C=void 0;for(var a=[],f=0;f<b.length;f++)t=b[f],t.$$is_string?a.push(this.$escape(t)):t.$$is_regexp?(h=t.$options(),
void 0!=C&&C!=h&&this.$raise(c.get("TypeError"),"All expressions must use the same options"),C=h,a.push("("+t.source+")")):a.push(this.$escape(t.$to_str()));return this.$new(a.$join("|"),C)});return(a.defn(b,"$new",function(a,b){if(a.$$is_regexp)return new RegExp(a);a=c.get("Opal")["$coerce_to!"](a,c.get("String"),"to_str");"\\"===a.charAt(a.length-1)&&this.$raise(c.get("RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);if(b.$$is_number){var t="";c.get("IGNORECASE")&
b&&(t+="i");c.get("MULTILINE")&b&&(t+="m");b=t}else b="i";return new RegExp(a,b)}),n)&&"new"})(a.get_singleton_class(A));a.defn(A,"$==",function(a){return a.constructor==RegExp&&this.toString()===a.toString()});a.defn(A,"$===",function(a){return this.$match(w.get("Opal")["$coerce_to?"](a,w.get("String"),"to_str"))!==n});a.defn(A,"$=~",function(a){var b;null==h["~"]&&(h["~"]=n);return b=this.$match(a),!1!==b&&b!==n?h["~"].$begin(0):b});a.alias(A,"eql?","==");a.defn(A,"$inspect",function(){return this.toString()});
a.defn(A,"$match",x=function(a,b){var c=x.$$p||n;null==h["~"]&&(h["~"]=n);x.$$p=null;this.uninitialized&&this.$raise(w.get("TypeError"),"uninitialized Regexp");b=void 0===b?0:w.get("Opal").$coerce_to(b,w.get("Integer"),"to_int");if(a===n)return h["~"]=n;a=w.get("Opal").$coerce_to(a,w.get("String"),"to_str");if(0>b&&(b+=a.length,0>b))return h["~"]=n;var g=this.source,k="g";this.multiline&&(g=g.replace(".","[\\s\\S]"),k+="m");for(k=new RegExp(g,k+(this.ignoreCase?"i":""));;){g=k.exec(a);if(null===g)return h["~"]=
n;if(g.index>=b)return h["~"]=w.get("MatchData").$new(k,g),c===n?h["~"]:c.$call(h["~"]);k.lastIndex=g.index+1}});a.defn(A,"$~",function(){null==h._&&(h._=n);return this["$=~"](h._)});a.defn(A,"$source",function(){return this.source});a.defn(A,"$options",function(){this.uninitialized&&this.$raise(w.get("TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=w.get("MULTILINE"));this.ignoreCase&&(a|=w.get("IGNORECASE"));return a});a.defn(A,"$casefold?",function(){return this.ignoreCase});return a.alias(A,
"to_s","source")})(a.base,RegExp);return function(l,$super){function c(){}var q=c=m(l,$super,"MatchData",c),b=q.$$scope;q.$$proto.matches=n;q.$attr_reader("post_match","pre_match","regexp","string");a.defn(q,"$initialize",function(a,b){h["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];for(var c=0,p=b.length;c<p;c++){var l=b[c];null==l?this.matches.push(n):this.matches.push(l)}});
a.defn(q,"$[]",function(){var b,c=arguments.length-0;0>c&&(c=0);for(var h=Array(c),p=0;p<c;p++)h[p]=arguments[p+0];return(b=this.matches)["$[]"].apply(b,a.to_a(h))});a.defn(q,"$offset",function(a){0!==a&&this.$raise(b.get("ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]});a.defn(q,"$==",function(a){var c,h,p,l;return(c=b.get("MatchData")["$==="](a))===n||c.$$is_boolean&&1!=c?!1:(c=(h=(p=(l=this.string==a.string,!1!==l&&l!==n?this.regexp.toString()==
a.regexp.toString():l),!1!==p&&p!==n?this.pre_match==a.pre_match:p),!1!==h&&h!==n?this.post_match==a.post_match:h),!1!==c&&c!==n?this.begin==a.begin:c)});a.alias(q,"eql?","==");a.defn(q,"$begin",function(a){0!==a&&this.$raise(b.get("ArgumentError"),"MatchData#begin only supports 0th element");return this.begin});a.defn(q,"$end",function(a){0!==a&&this.$raise(b.get("ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length});a.defn(q,"$captures",function(){return this.matches.slice(1)});
a.defn(q,"$inspect",function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,c=this.matches.length;b<c;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"});a.defn(q,"$length",function(){return this.matches.length});a.alias(q,"size","length");a.defn(q,"$to_a",function(){return this.matches});a.defn(q,"$to_s",function(){return this.matches[0]});return(a.defn(q,"$values_at",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),h=0;h<a;h++)c[h]=arguments[h+0];for(var p,h=[],
a=0;a<c.length;a++){c[a].$$is_range&&(p=c[a].$to_a(),p.unshift(a,1),Array.prototype.splice.apply(c,p));p=b.get("Opal")["$coerce_to!"](c[a],b.get("Integer"),"to_int");if(0>p&&(p+=this.matches.length,0>p)){h.push(n);continue}h.push(this.matches[p])}return h}),n)&&"values_at"}(a.base,null)};
Opal.modules["corelib/string"]=function(a){function n(a,e){return"number"===typeof a&&"number"===typeof e?a/e:a["$/"](e)}function q(a,e){return"number"===typeof a&&"number"===typeof e?a+e:a["$+"](e)}a.dynamic_require_severity="warning";var m=a.top,h=a.nil,l=a.breaker,e=a.slice,c=a.klass,A=a.gvars;a.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $class $each_line $match $captures $proc $shift $__send__ $succ $escape".split(" "));
m.$require("corelib/comparable");m.$require("corelib/regexp");(function(b,$super){function m(){}function u(a){function d(a){var f="",b,v=a.length,e,F;for(b=0;b<v;b++)if(e=a.charAt(b),"-"===e&&0<b&&b<v-1&&!F){F=a.charCodeAt(b-1);e=a.charCodeAt(b+1);F>e&&p.$raise(g.get("ArgumentError"),'invalid range "'+F+"-"+e+'" in string transliteration');for(F+=1;F<e+1;F++)f+=String.fromCharCode(F);F=!0;b++}else F="\\"===e,f+=e;return f}function f(a,d){if(0===a.length)return d;var b="",v,g=a.length,e;for(v=0;v<
g;v++)e=a.charAt(v),-1!==d.indexOf(e)&&(b+=e);return b}var b,e,k,c,y="",t="";b=0;for(e=a.length;b<e;b++)k=g.get("Opal").$coerce_to(a[b],g.get("String"),"to_str"),c="^"===k.charAt(0)&&1<k.length,k=d(c?k.slice(1):k),c?t=f(t,k):y=f(y,k);if(0<y.length&&0<t.length){k="";b=0;for(e=y.length;b<e;b++)a=y.charAt(b),-1===t.indexOf(a)&&(k+=a);y=k;t=""}return 0<y.length?"["+g.get("Regexp").$escape(y)+"]":0<t.length?"[^"+g.get("Regexp").$escape(t)+"]":null}var p=m=c(b,$super,"String",m),r=p.$$proto,g=p.$$scope,
k,t,C,z,f,d,y,E,B;r.length=h;p.$include(g.get("Comparable"));r.$$is_string=!0;a.defn(p,"$__id__",function(){return this.toString()});a.alias(p,"object_id","__id__");a.defs(p,"$try_convert",function(a){return g.get("Opal")["$coerce_to?"](a,g.get("String"),"to_str")});a.defs(p,"$new",function(a){null==a&&(a="");a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str");return new String(a)});a.defn(p,"$initialize",function(a){return void 0===a?this:this.$raise(g.get("NotImplementedError"),"Mutable strings are not supported in Opal.")});
a.defn(p,"$%",function(d){var f;return(f=g.get("Array")["$==="](d))===h||f.$$is_boolean&&1!=f?this.$format(this,d):(f=this).$format.apply(f,[this].concat(a.to_a(d)))});a.defn(p,"$*",function(a){a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");0>a&&this.$raise(g.get("ArgumentError"),"negative argument");if(0===a)return"";var d="",f=this.toString();for(268435456<=f.length*a&&this.$raise(g.get("RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(d+=f);a>>>=1;if(0===
a)break;f+=f}return d});a.defn(p,"$+",function(a){a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str");return this+a.$to_s()});a.defn(p,"$<=>",function(a){var d;if((d=a["$respond_to?"]("to_str"))===h||d.$$is_boolean&&1!=d)return a=a["$<=>"](this),a===h?h:0<a?-1:0>a?1:0;a=a.$to_str().$to_s();return this>a?1:this<a?-1:0});a.defn(p,"$==",function(a){return a.$$is_string?this.toString()===a.toString():g.get("Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1});a.alias(p,"eql?","==");a.alias(p,"===",
"==");a.defn(p,"$=~",function(a){a.$$is_string&&this.$raise(g.get("TypeError"),"type mismatch: String given");return a["$=~"](this)});a.defn(p,"$[]",function(a,d){var f=this.length,b;if(a.$$is_range){b=a.exclude;d=g.get("Opal").$coerce_to(a.end,g.get("Integer"),"to_int");a=g.get("Opal").$coerce_to(a.begin,g.get("Integer"),"to_int");if(Math.abs(a)>f)return h;0>a&&(a+=f);0>d&&(d+=f);b||(d+=1);d-=a;0>d&&(d=0);return this.substr(a,d)}if(a.$$is_string)return null!=d&&this.$raise(g.get("TypeError")),-1!==
this.indexOf(a)?a:h;if(a.$$is_regexp){f=this.match(a);if(null===f)return A["~"]=h;A["~"]=g.get("MatchData").$new(a,f);if(null==d)return f[0];d=g.get("Opal").$coerce_to(d,g.get("Integer"),"to_int");return 0>d&&-d<f.length?f[d+f.length]:0<=d&&d<f.length?f[d]:h}a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");0>a&&(a+=f);if(null==d)return a>=f||0>a?h:this.substr(a,1);d=g.get("Opal").$coerce_to(d,g.get("Integer"),"to_int");return 0>d||a>f||0>a?h:this.substr(a,d)});a.alias(p,"byteslice","[]");a.defn(p,
"$capitalize",function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()});a.defn(p,"$casecmp",function(a){var d=this;a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str").$to_s();var f=/^[\x00-\x7F]*$/;f.test(d)&&f.test(a)&&(d=d.toLowerCase(),a=a.toLowerCase());return d["$<=>"](a)});a.defn(p,"$center",function(a,d){var f;null==d&&(d=" ");a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");d=g.get("Opal").$coerce_to(d,g.get("String"),"to_str").$to_s();(f=d["$empty?"]())===h||
f.$$is_boolean&&1!=f||this.$raise(g.get("ArgumentError"),"zero width padding");if((f=a<=this.length)!==h&&(!f.$$is_boolean||1==f))return this;f=this.$ljust(n(q(a,this.length),2).$ceil(),d);return this.$rjust(n(q(a,this.length),2).$floor(),d)+f.slice(this.length)});a.defn(p,"$chars",k=function(){var a,d=k.$$p||h;k.$$p=null;return!1===d||d===h?this.$each_char().$to_a():(a=this.$each_char,a.$$p=d.$to_proc(),a).call(this)});a.defn(p,"$chomp",function(a){var d;null==A["/"]&&(A["/"]=h);null==a&&(a=A["/"]);
if((d=a===h||0===this.length)!==h&&(!d.$$is_boolean||1==d))return this;a=g.get("Opal")["$coerce_to!"](a,g.get("String"),"to_str").$to_s();return"\n"===a?this.replace(/\r?\n?$/,""):""===a?this.replace(/(\r?\n)+$/,""):this.length>a.length&&this.substr(this.length-a.length,a.length)===a?this.substr(0,this.length-a.length):this});a.defn(p,"$chop",function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)});a.defn(p,"$chr",function(){return this.charAt(0)});
a.defn(p,"$clone",function(){var a=h,a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(p,"$dup",function(){var a=h,a=this.slice();a.$initialize_dup(this);return a});a.defn(p,"$count",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),f=0;f<a;f++)d[f]=arguments[f+0];0===d.length&&this.$raise(g.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");a=u(d);return null===a?0:this.length-this.replace(new RegExp(a,"g"),"").length});
a.defn(p,"$delete",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),f=0;f<a;f++)d[f]=arguments[f+0];0===d.length&&this.$raise(g.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");a=u(d);return null===a?this:this.replace(new RegExp(a,"g"),"")});a.defn(p,"$downcase",function(){return this.toLowerCase()});a.defn(p,"$each_char",t=function(){var d,f,b=t.$$p||h;t.$$p=null;if(b===h)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,
f),d).call(this,"each_char");d=0;for(var g=this.length;d<g;d++)if(a.yield1(b,this.charAt(d))===l)return l.$v;return this});a.defn(p,"$each_line",C=function(d){var f=C.$$p||h;null==A["/"]&&(A["/"]=h);null==d&&(d=A["/"]);C.$$p=null;if(f===h)return this.$enum_for("each_line",d);var b;if(d===h)return b=a.yield1(f,this),b===l?b.$v:this;d=g.get("Opal").$coerce_to(d,g.get("String"),"to_str");var e,k,c,y;if(0===d.length){d=this.split(/(\n{2,})/);e=0;for(k=d.length;e<k;e+=2)if(d[e]||d[e+1])if(b=a.yield1(f,
(d[e]||"")+(d[e+1]||"")),b===l)return b.$v;return this}b=this.$chomp(d);k=this.length!=b.length;y=b.split(d);e=0;for(c=y.length;e<c;e++)if(b=e<c-1||k?a.yield1(f,y[e]+d):a.yield1(f,y[e]),b===l)return b.$v;return this});a.defn(p,"$empty?",function(){return 0===this.length});a.defn(p,"$end_with?",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),f=0;f<a;f++)d[f]=arguments[f+0];a=0;for(f=d.length;a<f;a++){var b=g.get("Opal").$coerce_to(d[a],g.get("String"),"to_str").$to_s();if(this.length>=
b.length&&this.substr(this.length-b.length,b.length)==b)return!0}return!1});a.alias(p,"eql?","==");a.alias(p,"equal?","===");a.defn(p,"$gsub",z=function(a,d){var f=this,b=z.$$p||h;z.$$p=null;if(void 0===d&&b===h)return f.$enum_for("gsub",a);var e="",k=h,c=0,y,t;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){y=a.exec(f);if(null===y){A["~"]=h;e+=f.slice(c);break}k=
g.get("MatchData").$new(a,y);void 0===d?t=b(y[0]):d.$$is_hash?t=d["$[]"](y[0]).$to_s():(d.$$is_string||(d=g.get("Opal").$coerce_to(d,g.get("String"),"to_str")),t=d.replace(/([\\]+)([0-9+&`'])/g,function(a,d,b){if(0===d.length%2)return a;switch(b){case "+":for(a=y.length-1;0<a;a--)if(void 0!==y[a])return d.slice(1)+y[a];return"";case "&":return d.slice(1)+y[0];case "`":return d.slice(1)+f.slice(0,y.index);case "'":return d.slice(1)+f.slice(y.index+y[0].length);default:return d.slice(1)+(y[b]||"")}}).replace(/\\\\/g,
"\\"));a.lastIndex===y.index?(e+=t+f.slice(c,y.index+1),a.lastIndex+=1):e+=f.slice(c,y.index)+t;c=a.lastIndex}A["~"]=k;return e});a.defn(p,"$hash",function(){return this.toString()});a.defn(p,"$hex",function(){return this.$to_i(16)});a.defn(p,"$include?",function(a){var d;if(a.$$is_string)return-1!==this.indexOf(a);((d=a["$respond_to?"]("to_str"))===h||d.$$is_boolean&&1!=d)&&this.$raise(g.get("TypeError"),"no implicit conversion of "+a.$class()+" into String");return-1!==this.indexOf(a.$to_str())});
a.defn(p,"$index",function(a,d){var f,b;if(void 0===d)d=0;else if(d=g.get("Opal").$coerce_to(d,g.get("Integer"),"to_int"),0>d&&(d+=this.length,0>d))return h;if(a.$$is_regexp)for(b=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){f=b.exec(this);if(null===f){A["~"]=h;f=-1;break}if(f.index>=d){A["~"]=g.get("MatchData").$new(b,f);f=f.index;break}b.lastIndex=f.index+1}else a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),f=0===a.length&&d>this.length?-1:this.indexOf(a,d);return-1===f?h:f});a.defn(p,
"$inspect",function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(d){return a[d]||"\\u"+("0000"+d.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'});a.defn(p,"$intern",function(){return this});a.defn(p,"$lines",f=function(a){var d,
b=f.$$p||h,g=h;null==A["/"]&&(A["/"]=h);null==a&&(a=A["/"]);f.$$p=null;g=(d=this.$each_line,d.$$p=b.$to_proc(),d).call(this,a);return!1!==b&&b!==h?this:g.$to_a()});a.defn(p,"$length",function(){return this.length});a.defn(p,"$ljust",function(a,d){var f;null==d&&(d=" ");a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");d=g.get("Opal").$coerce_to(d,g.get("String"),"to_str").$to_s();(f=d["$empty?"]())===h||f.$$is_boolean&&1!=f||this.$raise(g.get("ArgumentError"),"zero width padding");if((f=a<=
this.length)!==h&&(!f.$$is_boolean||1==f))return this;f=-1;var b="";for(a-=this.length;++f<a;)b+=d;return this+b.slice(0,a)});a.defn(p,"$lstrip",function(){return this.replace(/^\s*/,"")});a.defn(p,"$match",d=function(a,f){var b,e,k=d.$$p||h;d.$$p=null;(b=!1!==(e=g.get("String")["$==="](a))&&e!==h?e:a["$respond_to?"]("to_str"))===h||b.$$is_boolean&&1!=b||(a=g.get("Regexp").$new(a.$to_str()));((b=g.get("Regexp")["$==="](a))===h||b.$$is_boolean&&1!=b)&&this.$raise(g.get("TypeError"),"wrong argument type "+
a.$class()+" (expected Regexp)");return(b=(e=a).$match,b.$$p=k.$to_proc(),b).call(e,this,f)});a.defn(p,"$next",function(){var a=this.length;if(0===a)return"";for(var d=this,f=this.search(/[a-zA-Z0-9]/),b=!1,g;a--;){g=this.charCodeAt(a);if(48<=g&&57>=g||65<=g&&90>=g||97<=g&&122>=g)switch(g){case 57:b=!0;g=48;break;case 90:b=!0;g=65;break;case 122:b=!0;g=97;break;default:b=!1,g+=1}else-1===f?255===g?(b=!0,g=0):(b=!1,g+=1):b=!0;d=d.slice(0,a)+String.fromCharCode(g)+d.slice(a+1);if(b&&(0===a||a===f)){switch(g){case 65:break;
case 97:break;default:g+=1}d=0===a?String.fromCharCode(g)+d:d.slice(0,a)+String.fromCharCode(g)+d.slice(a);b=!1}if(!b)break}return d});a.defn(p,"$oct",function(){var a;a=this;var d=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,f,b,g){switch(g.charAt(0)){case "+":case "-":return a;case "0":if("x"===g.charAt(1)&&"0x"===b)return a}switch(b){case "0b":d=2;break;case "0":case "0o":d=8;break;case "0d":d=10;break;case "0x":d=16}return f+g});a=parseInt(a.replace(/_(?!_)/g,
""),d);return isNaN(a)?0:a});a.defn(p,"$ord",function(){return this.charCodeAt(0)});a.defn(p,"$partition",function(a){var d;a.$$is_regexp?(d=a.exec(this),null===d?d=-1:(g.get("MatchData").$new(a,d),a=d[0],d=d.index)):(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),d=this.indexOf(a));return-1===d?[this,"",""]:[this.slice(0,d),this.slice(d,d+a.length),this.slice(d+a.length)]});a.defn(p,"$reverse",function(){return this.split("").reverse().join("")});a.defn(p,"$rindex",function(a,d){var f,b,
e;if(void 0===d)d=this.length;else if(d=g.get("Opal").$coerce_to(d,g.get("Integer"),"to_int"),0>d&&(d+=this.length,0>d))return h;if(a.$$is_regexp){f=null;for(b=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){e=b.exec(this);if(null===e||e.index>d)break;f=e;b.lastIndex=f.index+1}null===f?(A["~"]=h,f=-1):(g.get("MatchData").$new(b,f),f=f.index)}else a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),f=this.lastIndexOf(a,d);return-1===f?h:f});a.defn(p,"$rjust",function(a,d){var f;null==d&&(d=" ");
a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");d=g.get("Opal").$coerce_to(d,g.get("String"),"to_str").$to_s();(f=d["$empty?"]())===h||f.$$is_boolean&&1!=f||this.$raise(g.get("ArgumentError"),"zero width padding");if((f=a<=this.length)!==h&&(!f.$$is_boolean||1==f))return this;f=Math.floor(a-this.length);var b=Array(Math.floor(f/d.length)+1).join(d);return b+d.slice(0,f-b.length)+this});a.defn(p,"$rpartition",function(a){var d,f,b;if(a.$$is_regexp){d=null;for(f=new RegExp(a.source,"gm"+(a.ignoreCase?
"i":""));;){b=f.exec(this);if(null===b)break;d=b;f.lastIndex=d.index+1}null===d?d=-1:(g.get("MatchData").$new(f,d),a=d[0],d=d.index)}else a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),d=this.lastIndexOf(a);return-1===d?["","",this]:[this.slice(0,d),this.slice(d,d+a.length),this.slice(d+a.length)]});a.defn(p,"$rstrip",function(){return this.replace(/[\s\u0000]*$/,"")});a.defn(p,"$scan",y=function(a){var d=y.$$p||h;y.$$p=null;var f=[],b=h,e;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?
"i":"")):(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(e=a.exec(this));)b=g.get("MatchData").$new(a,e),d===h?1==e.length?f.push(e[0]):f.push(b.$captures()):1==e.length?d(e[0]):d.call(this,b.$captures()),a.lastIndex===e.index&&(a.lastIndex+=1);A["~"]=b;return d!==h?this:f});a.alias(p,"size","length");a.alias(p,"slice","[]");a.defn(p,"$split",function(a,d){var f;null==A[";"]&&(A[";"]=h);if(0===this.length)return[];if(void 0===
d)d=0;else if(d=g.get("Opal")["$coerce_to!"](d,g.get("Integer"),"to_int"),1===d)return[this];if(void 0===a||a===h)a=!1!==(f=A[";"])&&f!==h?f:" ";f=[];var b=this.toString(),e=0,k,c;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str").$to_s()," "===a?(a=/\s+/gm,b=b.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));f=b.split(a);if(1===f.length&&f[0]===b)return f;for(;-1!==(c=f.indexOf(void 0));)f.splice(c,
1);if(0===d){for(;""===f[f.length-1];)--f.length;return f}k=a.exec(b);if(0>d){if(null!==k&&""===k[0]&&-1===a.source.indexOf("(?="))for(c=0;c<k.length;c++)f.push("");return f}if(null!==k&&""===k[0])return f.splice(d-1,f.length-1,f.slice(d-1).join("")),f;for(c=0;null!==k;){c++;e=a.lastIndex;if(c+1===d)break;k=a.exec(b)}f.splice(d-1,f.length-1,b.slice(e));return f});a.defn(p,"$squeeze",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),f=0;f<a;f++)d[f]=arguments[f+0];if(0===d.length)return this.replace(/(.)\1+/g,
"$1");a=u(d);return null===a?this:this.replace(new RegExp("("+a+")\\1+","g"),"$1")});a.defn(p,"$start_with?",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),f=0;f<a;f++)d[f]=arguments[f+0];a=0;for(f=d.length;a<f;a++){var b=g.get("Opal").$coerce_to(d[a],g.get("String"),"to_str").$to_s();if(0===this.indexOf(b))return!0}return!1});a.defn(p,"$strip",function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")});a.defn(p,"$sub",E=function(a,d){var f=this,b=E.$$p||h;E.$$p=null;
a.$$is_regexp||(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var e=a.exec(f);if(null===e)return A["~"]=h,f.toString();g.get("MatchData").$new(a,e);if(void 0===d)return b===h&&f.$raise(g.get("ArgumentError"),"wrong number of arguments (1 for 2)"),f.slice(0,e.index)+b(e[0])+f.slice(e.index+e[0].length);if(d.$$is_hash)return f.slice(0,e.index)+d["$[]"](e[0]).$to_s()+f.slice(e.index+e[0].length);d=g.get("Opal").$coerce_to(d,g.get("String"),
"to_str");d=d.replace(/([\\]+)([0-9+&`'])/g,function(a,d,b){if(0===d.length%2)return a;switch(b){case "+":for(a=e.length-1;0<a;a--)if(void 0!==e[a])return d.slice(1)+e[a];return"";case "&":return d.slice(1)+e[0];case "`":return d.slice(1)+f.slice(0,e.index);case "'":return d.slice(1)+f.slice(e.index+e[0].length);default:return d.slice(1)+(e[b]||"")}}).replace(/\\\\/g,"\\");return f.slice(0,e.index)+d+f.slice(e.index+e[0].length)});a.alias(p,"succ","next");a.defn(p,"$sum",function(a){null==a&&(a=16);
a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");for(var d=0,f=this.length,b=0;b<f;b++)d+=this.charCodeAt(b);return 0>=a?d:d&Math.pow(2,a)-1});a.defn(p,"$swapcase",function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,d,f){return d?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)});a.defn(p,"$to_f",function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a});a.defn(p,"$to_i",
function(a){null==a&&(a=10);var d=this.toLowerCase(),f=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");(1===f||0>f||36<f)&&this.$raise(g.get("ArgumentError"),"invalid radix "+f);if(/^\s*_/.test(d))return 0;d=d.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,d,b,g){switch(g.charAt(0)){case "+":case "-":return a;case "0":if("x"===g.charAt(1)&&"0x"===b&&(0===f||16===f))return a}switch(b){case "0b":if(0===f||2===f)return f=2,d+g;break;case "0":case "0o":if(0===f||8===f)return f=8,d+g;break;case "0d":if(0===
f||10===f)return f=10,d+g;break;case "0x":if(0===f||16===f)return f=16,d+g}return a});a=parseInt(d.replace(/_(?!_)/g,""),f);return isNaN(a)?0:a});a.defn(p,"$to_proc",function(){var d,f,b=h,b=this;return(d=this.$proc,d.$$p=(f=function(d){var k=f.$$s||this,c,y,t,C=h;d=e.call(arguments,0);c=f.$$p||h;f.$$p=null;(y=d["$empty?"]())===h||y.$$is_boolean&&1!=y||k.$raise(g.get("ArgumentError"),"no receiver given");C=d.$shift();return(y=(t=C).$__send__,y.$$p=c.$to_proc(),y).apply(t,[b].concat(a.to_a(d)))},f.$$s=
this,f),d).call(this)});a.defn(p,"$to_s",function(){return this.toString()});a.alias(p,"to_str","to_s");a.alias(p,"to_sym","intern");a.defn(p,"$tr",function(a,d){a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str").$to_s();d=g.get("Opal").$coerce_to(d,g.get("String"),"to_str").$to_s();if(0==a.length||a===d)return this;var f,b,e,k,c,y={};c=a.split("");var t=c.length,h=d.split(""),C=h.length,p=!1,l=null;"^"===c[0]&&1<c.length&&(p=!0,c.shift(),l=h[C-1],--t);var z=[];e=null;b=!1;for(f=0;f<t;f++)if(k=
c[f],null==e)e=k,z.push(k);else if("-"===k)"-"===e?(z.push("-"),z.push("-")):f==t-1?z.push("-"):b=!0;else if(b){e=e.charCodeAt(0);b=k.charCodeAt(0);e>b&&this.$raise(g.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(b)+'" in string transliteration');for(e+=1;e<b;e++)z.push(String.fromCharCode(e));z.push(k);e=b=null}else z.push(k);c=z;t=c.length;if(p)for(f=0;f<t;f++)y[c[f]]=!0;else{if(0<C){z=[];b=!1;for(f=0;f<C;f++)if(k=h[f],null==e)e=k,z.push(k);else if("-"===
k)f==C-1?z.push("-"):b=!0;else if(b){e=e.charCodeAt(0);b=k.charCodeAt(0);e>b&&this.$raise(g.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(b)+'" in string transliteration');for(e+=1;e<b;e++)z.push(String.fromCharCode(e));z.push(k);e=b=null}else z.push(k);h=z;C=h.length}k=t-C;if(0<k)for(C=0<C?h[C-1]:"",f=0;f<k;f++)h.push(C);for(f=0;f<t;f++)y[c[f]]=h[f]}t="";f=0;for(c=this.length;f<c;f++)k=this.charAt(f),h=y[k],t=p?t+(null==h?l:k):t+(null!=h?h:k);return t});a.defn(p,
"$tr_s",function(a,d){a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str").$to_s();d=g.get("Opal").$coerce_to(d,g.get("String"),"to_str").$to_s();if(0==a.length)return this;var f,b,e,k,c,y={};c=a.split("");var t=c.length,h=d.split(""),C=h.length,p=!1,l=null;"^"===c[0]&&1<c.length&&(p=!0,c.shift(),l=h[C-1],--t);var z=[];e=null;b=!1;for(f=0;f<t;f++)if(k=c[f],null==e)e=k,z.push(k);else if("-"===k)"-"===e?(z.push("-"),z.push("-")):f==t-1?z.push("-"):b=!0;else if(b){e=e.charCodeAt(0);b=k.charCodeAt(0);
e>b&&this.$raise(g.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(b)+'" in string transliteration');for(e+=1;e<b;e++)z.push(String.fromCharCode(e));z.push(k);e=b=null}else z.push(k);c=z;t=c.length;if(p)for(f=0;f<t;f++)y[c[f]]=!0;else{if(0<C){z=[];b=!1;for(f=0;f<C;f++)if(k=h[f],null==e)e=k,z.push(k);else if("-"===k)f==C-1?z.push("-"):b=!0;else if(b){e=e.charCodeAt(0);b=k.charCodeAt(0);e>b&&this.$raise(g.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+
"-"+String.fromCharCode(b)+'" in string transliteration');for(e+=1;e<b;e++)z.push(String.fromCharCode(e));z.push(k);e=b=null}else z.push(k);h=z;C=h.length}k=t-C;if(0<k)for(C=0<C?h[C-1]:"",f=0;f<k;f++)h.push(C);for(f=0;f<t;f++)y[c[f]]=h[f]}t="";h=null;f=0;for(c=this.length;f<c;f++)if(k=this.charAt(f),C=y[k],p)null==C?null==h&&(t+=l,h=!0):(t+=k,h=null);else if(null!=C){if(null==h||h!==C)t+=C,h=C}else t+=k,h=null;return t});a.defn(p,"$upcase",function(){return this.toUpperCase()});a.defn(p,"$upto",B=
function(a,d){var f=B.$$p||h;null==d&&(d=!1);B.$$p=null;if(f===h)return this.$enum_for("upto",a,d);a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str");var b,e;b=this.toString();if(1===b.length&&1===a.length)for(b=b.charCodeAt(0),e=a.charCodeAt(0);b<=e&&(!d||b!==e);)f(String.fromCharCode(b)),b+=1;else if(parseInt(b,10).toString()===b&&parseInt(a,10).toString()===a)for(b=parseInt(b,10),e=parseInt(a,10);b<=e&&(!d||b!==e);)f(b.toString()),b+=1;else for(;b.length<=a.length&&b<=a&&(!d||b!==a);)f(b),
b=b.$succ();return this})})(a.base,String);return a.cdecl(a,"Symbol",a.get("String"))};
Opal.modules["corelib/enumerable"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.breaker,m=a.slice,h=a.module;a.add_stubs("$raise $new $yield $dup $enum_for $enumerator_size $flatten $map $== $destructure $respond_to? $coerce_to! $> $* $nil? $coerce_to $try_convert $< $+ $- $ceil $/ $size $=== $<< $[] $[]= $inspect $__send__ $compare $<=> $proc $call $to_a $lambda $sort! $map! $first $zip".split(" "));return function(l){l=h(l,"Enumerable");var e=l.$$scope,c,A,b,w,x,u,p,r,g,k,t,
C,z,f,d,y,E,B,J,F,v,D,K,N,G,L,O,fa,ca,Z,Y,da,P,M,R;a.defn(l,"$all?",c=function(){var d,f=c.$$p||n;c.$$p=null;var b=!0;this.$each.$$p=f!==n?function(){var g=a.yieldX(f,arguments);if(g===q)return b=q.$v,q;if((d=g)===n||d.$$is_boolean&&0==d)return b=!1,q}:function(a){if(1==arguments.length&&((d=a)===n||d.$$is_boolean&&0==d))return b=!1,q};this.$each();return b});a.defn(l,"$any?",A=function(){var d,f=A.$$p||n;A.$$p=null;var b=!1;this.$each.$$p=f!==n?function(){var g=a.yieldX(f,arguments);if(g===q)return b=
q.$v,q;if((d=g)!==n&&(!d.$$is_boolean||1==d))return b=!0,q}:function(a){if(1!=arguments.length||(d=a)!==n&&(!d.$$is_boolean||1==d))return b=!0,q};this.$each();return b});a.defn(l,"$chunk",b=function(d){var f,g,k,c=b.$$p||n;b.$$p=null;!1!==c&&c!==n||e.get("Kernel").$raise(e.get("ArgumentError"),"no block given");return(f=(g=a.get("Enumerator")).$new,f.$$p=(k=function(f){function b(){0<h.length&&f.$yield(F,h)}var g=k.$$s||this,v,y,D;null==f&&(f=n);var t,F=n,h=[];t=void 0==d||d===n?c:(v=(y=e.get("Proc")).$new,
v.$$p=(D=function(a){null==a&&(a=n);return c.$yield(a,d.$dup())},D.$$s=g,D),v).call(y);g.$each.$$p=function(d){var f=a.yield1(t,d);if(f===q)return q;f===n?(b(),h=[],F=n):(F===n||F===f?h.push(d):(b(),h=[d]),F=f)};g.$each();b()},k.$$s=this,k),f).call(g)});a.defn(l,"$collect",w=function(){var d,f,b=w.$$p||n;w.$$p=null;if(b===n)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),d).call(this,"collect");var g=[];this.$each.$$p=function(){var d=a.yieldX(b,arguments);
if(d===q)return g=q.$v,q;g.push(d)};this.$each();return g});a.defn(l,"$collect_concat",x=function(){var d,f,b,g=x.$$p||n;x.$$p=null;return g===n?(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),d).call(this,"collect_concat"):(d=this.$map,d.$$p=(b=function(d){var f;null==d&&(d=n);return f=a.yield1(g,d),f},b.$$s=this,b),d).call(this).$flatten(1)});a.defn(l,"$count",u=function(d){var f,b=u.$$p||n;u.$$p=null;var g=0;null!=d?b=function(){return e.get("Opal").$destructure(arguments)["$=="](d)}:
b===n&&(b=function(){return!0});this.$each.$$p=function(){var d=a.yieldX(b,arguments);if(d===q)return g=q.$v,q;(f=d)===n||f.$$is_boolean&&1!=f||g++};this.$each();return g});a.defn(l,"$cycle",p=function(d){var f,b,g=p.$$p||n;null==d&&(d=n);p.$$p=null;if(g===n)return(f=this.$enum_for,f.$$p=(b=function(){var a=b.$$s||this,f;if(d["$=="](n))return(f=a["$respond_to?"]("size"))===n||f.$$is_boolean&&1!=f?n:e.get("Float").$$scope.get("INFINITY");d=e.get("Opal")["$coerce_to!"](d,e.get("Integer"),"to_int");
return("number"===typeof d?0<d:d["$>"](0))?(a=a.$enumerator_size(),"number"===typeof a&&"number"===typeof d?a*d:a["$*"](d)):0},b.$$s=this,b),f).call(this,"cycle",d);if((f=d["$nil?"]())===n||f.$$is_boolean&&1!=f)if(d=e.get("Opal")["$coerce_to!"](d,e.get("Integer"),"to_int"),(f=0>=d)!==n&&(!f.$$is_boolean||1==f))return n;var k,c=[],v,y;this.$each.$$p=function(){var d=e.get("Opal").$destructure(arguments);if(a.yield1(g,d)===q)return k=q.$v,q;c.push(d)};this.$each();if(void 0!==k)return k;if(0===c.length)return n;
if(d===n)for(;;)for(f=0,v=c.length;f<v;f++){if(y=a.yield1(g,c[f]),y===q)return q.$v}else for(;1<d;){f=0;for(v=c.length;f<v;f++)if(y=a.yield1(g,c[f]),y===q)return q.$v;d--}});a.defn(l,"$detect",r=function(d){var f,b=r.$$p||n;r.$$p=null;if(b===n)return this.$enum_for("detect",d);var g;this.$each.$$p=function(){var d=e.get("Opal").$destructure(arguments),k=a.yield1(b,d);if(k===q)return g=q.$v,q;if((f=k)!==n&&(!f.$$is_boolean||1==f))return g=d,q};this.$each();void 0===g&&void 0!==d&&(g="function"===typeof d?
d():d);return void 0===g?n:g});a.defn(l,"$drop",function(a){var d;a=e.get("Opal").$coerce_to(a,e.get("Integer"),"to_int");(d=0>a)===n||d.$$is_boolean&&1!=d||this.$raise(e.get("ArgumentError"),"attempt to drop negative size");var f=[],b=0;this.$each.$$p=function(){a<=b&&f.push(e.get("Opal").$destructure(arguments));b++};this.$each();return f});a.defn(l,"$drop_while",g=function(){var d,f=g.$$p||n;g.$$p=null;if(f===n)return this.$enum_for("drop_while");var b=[],k=!0;this.$each.$$p=function(){var g=e.get("Opal").$destructure(arguments);
if(k){var c=a.yield1(f,g);if(c===q)return b=q.$v,q;if((d=c)===n||d.$$is_boolean&&0==d)k=!1,b.push(g)}else b.push(g)};this.$each();return b});a.defn(l,"$each_cons",k=function(d){var f,b,g=k.$$p||n;k.$$p=null;(f=1!=arguments.length)===n||f.$$is_boolean&&1!=f||this.$raise(e.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");d=e.get("Opal").$try_convert(d,e.get("Integer"),"to_int");(f=0>=d)===n||f.$$is_boolean&&1!=f||this.$raise(e.get("ArgumentError"),"invalid size");if(g===
n)return(f=this.$enum_for,f.$$p=(b=function(){var a,f,g=n,g=(b.$$s||this).$enumerator_size();return(a=g["$nil?"]())===n||a.$$is_boolean&&1!=a?(a=!1!==(f=g["$=="](0))&&f!==n?f:"number"===typeof g&&"number"===typeof d?g<d:g["$<"](d))===n||a.$$is_boolean&&1!=a?(a="number"===typeof g&&"number"===typeof d?g-d:g["$-"](d),"number"===typeof a?a+1:a["$+"](1)):0:n},b.$$s=this,b),f).call(this,"each_cons",d);var c=[],v=n;this.$each.$$p=function(){var f=e.get("Opal").$destructure(arguments);c.push(f);c.length>
d&&c.shift();if(c.length==d&&a.yield1(g,c.slice(0,d))==q)return v=q.$v,q};this.$each();return v});a.defn(l,"$each_entry",t=function(){t.$$p=null;return this.$raise(e.get("NotImplementedError"))});a.defn(l,"$each_slice",C=function(d){var f,b,g=C.$$p||n;C.$$p=null;d=e.get("Opal").$coerce_to(d,e.get("Integer"),"to_int");(f=0>=d)===n||f.$$is_boolean&&1!=f||this.$raise(e.get("ArgumentError"),"invalid slice size");if(g===n)return(f=this.$enum_for,f.$$p=(b=function(){var a=b.$$s||this,f;if((f=a["$respond_to?"]("size"))===
n||f.$$is_boolean&&1!=f)return n;a=a.$size();return("number"===typeof a&&"number"===typeof d?a/d:a["$/"](d)).$ceil()},b.$$s=this,b),f).call(this,"each_slice",d);var k,c=[];this.$each.$$p=function(){var f=e.get("Opal").$destructure(arguments);c.push(f);if(c.length===d){if(a.yield1(g,c)===q)return k=q.$v,q;c=[]}};this.$each();return void 0!==k?k:0<c.length&&a.yield1(g,c)===q?q.$v:n});a.defn(l,"$each_with_index",z=function(){var d,f,b=z.$$p||n,g=arguments.length-0;0>g&&(g=0);for(var k=Array(g),c=0;c<
g;c++)k[c]=arguments[c+0];z.$$p=null;if(b===n)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),d).apply(this,["each_with_index"].concat(a.to_a(k)));var v,y=0;this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);if(b(a,y)===q)return v=q.$v,q;y++};this.$each.apply(this,k);return void 0!==v?v:this});a.defn(l,"$each_with_object",f=function(a){var d,b,g=f.$$p||n;f.$$p=null;if(g===n)return(d=this.$enum_for,d.$$p=(b=function(){return(b.$$s||
this).$enumerator_size()},b.$$s=this,b),d).call(this,"each_with_object",a);var k;this.$each.$$p=function(){var d=e.get("Opal").$destructure(arguments);if(g(d,a)===q)return k=q.$v,q};this.$each();return void 0!==k?k:a});a.defn(l,"$entries",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),f=0;f<a;f++)d[f]=arguments[f+0];var b=[];this.$each.$$p=function(){b.push(e.get("Opal").$destructure(arguments))};this.$each.apply(this,d);return b});a.alias(l,"find","detect");a.defn(l,"$find_all",
d=function(){var f,b,g=d.$$p||n;d.$$p=null;if(g===n)return(f=this.$enum_for,f.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),f).call(this,"find_all");var k=[];this.$each.$$p=function(){var d=e.get("Opal").$destructure(arguments),b=a.yield1(g,d);if(b===q)return k=q.$v,q;(f=b)===n||f.$$is_boolean&&1!=f||k.push(d)};this.$each();return k});a.defn(l,"$find_index",y=function(d){var f,b=y.$$p||n;y.$$p=null;if((f=void 0===d&&b===n)!==n&&(!f.$$is_boolean||1==f))return this.$enum_for("find_index");
var g=n,k=0;null!=d?this.$each.$$p=function(){if(e.get("Opal").$destructure(arguments)["$=="](d))return g=k,q;k+=1}:b!==n&&(this.$each.$$p=function(){var d=a.yieldX(b,arguments);if(d===q)return g=q.$v,q;if((f=d)!==n&&(!f.$$is_boolean||1==f))return g=k,q;k+=1});this.$each();return g});a.defn(l,"$first",function(a){var d,f=n;if((d=void 0===a)===n||d.$$is_boolean&&1!=d){f=[];a=e.get("Opal").$coerce_to(a,e.get("Integer"),"to_int");(d=0>a)===n||d.$$is_boolean&&1!=d||this.$raise(e.get("ArgumentError"),
"attempt to take negative size");if((d=0==a)!==n&&(!d.$$is_boolean||1==d))return[];var b=0;a=e.get("Opal").$coerce_to(a,e.get("Integer"),"to_int");this.$each.$$p=function(){f.push(e.get("Opal").$destructure(arguments));if(a<=++b)return q}}else f=n,this.$each.$$p=function(){f=e.get("Opal").$destructure(arguments);return q};this.$each();return f});a.alias(l,"flat_map","collect_concat");a.defn(l,"$grep",E=function(d){var f,b=E.$$p||n;E.$$p=null;var g=[];this.$each.$$p=b!==n?function(){var k=e.get("Opal").$destructure(arguments),
c=d["$==="](k);if((f=c)!==n&&(!f.$$is_boolean||1==f)){c=a.yield1(b,k);if(c===q)return g=q.$v,q;g.push(c)}}:function(){var a=e.get("Opal").$destructure(arguments);(f=d["$==="](a))===n||f.$$is_boolean&&1!=f||g.push(a)};this.$each();return g});a.defn(l,"$group_by",B=function(){var d,f,b,g,k=B.$$p||n,c=n;B.$$p=null;if(k===n)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),d).call(this,"group_by");var c=e.get("Hash").$new(),v;this.$each.$$p=function(){var f=
e.get("Opal").$destructure(arguments),y=a.yield1(k,f);if(y===q)return v=q.$v,q;(d=y,b=c,!1!==(g=b["$[]"](d))&&g!==n?g:b["$[]="](d,[]))["$<<"](f)};this.$each();return void 0!==v?v:c});a.defn(l,"$include?",function(a){var d=!1;this.$each.$$p=function(){if(e.get("Opal").$destructure(arguments)["$=="](a))return d=!0,q};this.$each();return d});a.defn(l,"$inject",J=function(d,f){var b=J.$$p||n;J.$$p=null;var g=d;b!==n&&void 0===f?this.$each.$$p=function(){var d=e.get("Opal").$destructure(arguments);if(void 0!==
g&&(d=a.yieldX(b,[g,d]),d===q))return g=q.$v,q;g=d}:(void 0===f&&(e.get("Symbol")["$==="](d)||this.$raise(e.get("TypeError"),""+d.$inspect()+" is not a Symbol"),f=d,g=void 0),this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);g=void 0===g?a:g.$__send__(f,a)});this.$each();return void 0==g?n:g});a.defn(l,"$lazy",function(){var d,f,b;return(d=(f=e.get("Enumerator").$$scope.get("Lazy")).$new,d.$$p=(b=function(d,f){var b;null==d&&(d=n);f=m.call(arguments,1);return(b=d).$yield.apply(b,
a.to_a(f))},b.$$s=this,b),d).call(f,this,this.$enumerator_size())});a.defn(l,"$enumerator_size",function(){var a;return(a=this["$respond_to?"]("size"))===n||a.$$is_boolean&&1!=a?n:this.$size()});a.alias(l,"map","collect");a.defn(l,"$max",F=function(){var a=this,d=F.$$p||n;F.$$p=null;var f;a.$each.$$p=d!==n?function(){var b=e.get("Opal").$destructure(arguments);if(void 0===f)f=b;else{var g=d(b,f);if(g===q)return f=q.$v,q;g===n&&a.$raise(e.get("ArgumentError"),"comparison failed");0<g&&(f=b)}}:function(){var a=
e.get("Opal").$destructure(arguments);void 0===f?f=a:0<e.get("Opal").$compare(a,f)&&(f=a)};a.$each();return void 0===f?n:f});a.defn(l,"$max_by",v=function(){var d,f,b=v.$$p||n;v.$$p=null;if(!1===b||b===n)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),d).call(this,"max_by");var g,k;this.$each.$$p=function(){var d=e.get("Opal").$destructure(arguments),f=a.yield1(b,d);if(void 0===g)g=d,k=f;else{if(f===q)return g=q.$v,q;0<f["$<=>"](k)&&(g=d,k=f)}};this.$each();
return void 0===g?n:g});a.alias(l,"member?","include?");a.defn(l,"$min",D=function(){var a=this,d=D.$$p||n;D.$$p=null;var f;a.$each.$$p=d!==n?function(){var b=e.get("Opal").$destructure(arguments);if(void 0===f)f=b;else{var g=d(b,f);if(g===q)return f=q.$v,q;g===n&&a.$raise(e.get("ArgumentError"),"comparison failed");0>g&&(f=b)}}:function(){var a=e.get("Opal").$destructure(arguments);void 0===f?f=a:0>e.get("Opal").$compare(a,f)&&(f=a)};a.$each();return void 0===f?n:f});a.defn(l,"$min_by",K=function(){var d,
f,b=K.$$p||n;K.$$p=null;if(!1===b||b===n)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),d).call(this,"min_by");var g,k;this.$each.$$p=function(){var d=e.get("Opal").$destructure(arguments),f=a.yield1(b,d);if(void 0===g)g=d,k=f;else{if(f===q)return g=q.$v,q;0>f["$<=>"](k)&&(g=d,k=f)}};this.$each();return void 0===g?n:g});a.defn(l,"$minmax",N=function(){var a,d,f,b=this,g=N.$$p||n;N.$$p=null;!1!==(a=g)&&a!==n?a:g=(d=b.$proc,d.$$p=(f=function(a,d){null==
a&&(a=n);null==d&&(d=n);return a["$<=>"](d)},f.$$s=b,f),d).call(b);var k=n,c=n,v=!0;b.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);if(v)k=c=a,v=!1;else{var d=g.$call(k,a);d===n?b.$raise(e.get("ArgumentError"),"comparison failed"):0<d&&(k=a);d=g.$call(c,a);d===n?b.$raise(e.get("ArgumentError"),"comparison failed"):0>d&&(c=a)}};b.$each();return[k,c]});a.defn(l,"$minmax_by",G=function(){G.$$p=null;return this.$raise(e.get("NotImplementedError"))});a.defn(l,"$none?",L=function(){var d,
f=L.$$p||n;L.$$p=null;var b=!0;this.$each.$$p=f!==n?function(){var g=a.yieldX(f,arguments);if(g===q)return b=q.$v,q;if((d=g)!==n&&(!d.$$is_boolean||1==d))return b=!1,q}:function(){if((d=e.get("Opal").$destructure(arguments))!==n&&(!d.$$is_boolean||1==d))return b=!1,q};this.$each();return b});a.defn(l,"$one?",O=function(){var d,f=O.$$p||n;O.$$p=null;var b=!1;this.$each.$$p=f!==n?function(){var g=a.yieldX(f,arguments);if(g===q)return b=q.$v,q;if((d=g)!==n&&(!d.$$is_boolean||1==d)){if(!0===b)return b=
!1,q;b=!0}}:function(){if((d=e.get("Opal").$destructure(arguments))!==n&&(!d.$$is_boolean||1==d)){if(!0===b)return b=!1,q;b=!0}};this.$each();return b});a.defn(l,"$partition",fa=function(){var d,f,b=fa.$$p||n;fa.$$p=null;if(b===n)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),d).call(this,"partition");var g=[],k=[];this.$each.$$p=function(){var f=e.get("Opal").$destructure(arguments),c=a.yield1(b,f);if(c===q)return q;(d=c)===n||d.$$is_boolean&&1!=
d?k.push(f):g.push(f)};this.$each();return[g,k]});a.alias(l,"reduce","inject");a.defn(l,"$reject",ca=function(){var d,f,b=ca.$$p||n;ca.$$p=null;if(b===n)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),d).call(this,"reject");var g=[];this.$each.$$p=function(){var f=e.get("Opal").$destructure(arguments),k=a.yield1(b,f);if(k===q)return g=q.$v,q;((d=k)===n||d.$$is_boolean&&0==d)&&g.push(f)};this.$each();return g});a.defn(l,"$reverse_each",Z=function(){var d,
f,b=Z.$$p||n;Z.$$p=null;if(b===n)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f),d).call(this,"reverse_each");var g=[];this.$each.$$p=function(){g.push(arguments)};this.$each();for(d=g.length-1;0<=d;d--)a.yieldX(b,g[d]);return g});a.alias(l,"select","find_all");a.defn(l,"$slice_before",Y=function(d){var f,b,g,k=Y.$$p||n;Y.$$p=null;(f=void 0===d&&k===n||1<arguments.length)===n||f.$$is_boolean&&1!=f||this.$raise(e.get("ArgumentError"),"wrong number of arguments ("+
arguments.length+" for 1)");return(f=(b=e.get("Enumerator")).$new,f.$$p=(g=function(f){var b=g.$$s||this,c;null==f&&(f=n);var v=[];b.$each.$$p=k!==n?void 0===d?function(){var d=e.get("Opal").$destructure(arguments);(c=a.yield1(k,d))!==n&&(!c.$$is_boolean||1==c)&&0<v.length&&(f["$<<"](v),v=[]);v.push(d)}:function(){var a=e.get("Opal").$destructure(arguments);(c=k(a,d.$dup()))!==n&&(!c.$$is_boolean||1==c)&&0<v.length&&(f["$<<"](v),v=[]);v.push(a)}:function(){var a=e.get("Opal").$destructure(arguments);
(c=d["$==="](a))!==n&&(!c.$$is_boolean||1==c)&&0<v.length&&(f["$<<"](v),v=[]);v.push(a)};b.$each();if(0<v.length)f["$<<"](v)},g.$$s=this,g),f).call(b)});a.defn(l,"$sort",da=function(){var a,d,f=da.$$p||n,b=n;da.$$p=null;b=this.$to_a();f===n&&(f=(a=this.$lambda,a.$$p=(d=function(a,d){null==a&&(a=n);null==d&&(d=n);return a["$<=>"](d)},d.$$s=this,d),a).call(this));return b.sort(f)});a.defn(l,"$sort_by",P=function(){var a,d,f,b,g,k,c,v=P.$$p||n,y=n;P.$$p=null;if(v===n)return(a=this.$enum_for,a.$$p=(d=
function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d),a).call(this,"sort_by");y=(a=this.$map,a.$$p=(f=function(){var a=n,a=e.get("Opal").$destructure(arguments);return[v.$call(a),a]},f.$$s=this,f),a).call(this);(a=(b=y)["$sort!"],a.$$p=(g=function(a,d){null==a&&(a=n);null==d&&(d=n);return a[0]["$<=>"](d[0])},g.$$s=this,g),a).call(b);return(a=(k=y)["$map!"],a.$$p=(c=function(a){null==a&&(a=n);return a[1]},c.$$s=this,c),a).call(k)});a.defn(l,"$take",function(a){return this.$first(a)});a.defn(l,
"$take_while",M=function(){var d,f=M.$$p||n;M.$$p=null;if(!1===f||f===n)return this.$enum_for("take_while");var b=[];this.$each.$$p=function(){var g=e.get("Opal").$destructure(arguments),k=a.yield1(f,g);if(k===q)return b=q.$v,q;if((d=k)===n||d.$$is_boolean&&0==d)return q;b.push(g)};this.$each();return b});a.alias(l,"to_a","entries");a.defn(l,"$zip",R=function(){var d,f=arguments.length-0;0>f&&(f=0);for(var b=Array(f),g=0;g<f;g++)b[g]=arguments[g+0];R.$$p=null;return(d=this.$to_a()).$zip.apply(d,a.to_a(b))})}(a.base)};
Opal.modules["corelib/enumerator"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="warning";var m=a.top,h=a.nil,l=a.breaker,e=a.slice,c=a.klass;a.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));
m.$require("corelib/enumerable");return function(m,$super){function w(){}var x=w=c(m,$super,"Enumerator",w),u=x.$$proto,p=x.$$scope,r,g,k,t;u.size=u.args=u.object=u.method=h;x.$include(p.get("Enumerable"));a.defs(x,"$for",r=function(a,g){var f=r.$$p||h,d=arguments.length-2;0>d&&(d=0);for(var e=Array(d),k=0;k<d;k++)e[k]=arguments[k+2];null==g&&(g="each");r.$$p=null;d=this.$allocate();d.object=a;d.size=f;d.method=g;d.args=e;return d});a.defn(x,"$initialize",g=function(){var a,k,f=g.$$p||h;g.$$p=null;
if(!1!==f&&f!==h)return this.object=(a=(k=p.get("Generator")).$new,a.$$p=f.$to_proc(),a).call(k),this.method="each",this.args=[],this.size=arguments[0]||h,(a=this.size)===h||a.$$is_boolean&&1!=a?h:this.size=p.get("Opal").$coerce_to(this.size,p.get("Integer"),"to_int");this.object=arguments[0];this.method=arguments[1]||"each";this.args=e.call(arguments,2);return this.size=h});a.defn(x,"$each",k=function(){var g,e,f,d=k.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var t=Array(c),p=0;p<c;p++)t[p]=arguments[p+
0];k.$$p=null;if((g=(e=d["$nil?"](),!1!==e&&e!==h?t["$empty?"]():e))!==h&&(!g.$$is_boolean||1==g))return this;t=n(this.args,t);return(g=d["$nil?"]())===h||g.$$is_boolean&&1!=g?(e=(f=this.object).$__send__,e.$$p=d.$to_proc(),e).apply(f,[this.method].concat(a.to_a(t))):(g=this.$class()).$new.apply(g,[this.object,this.method].concat(a.to_a(t)))});a.defn(x,"$size",function(){var g;return(g=p.get("Proc")["$==="](this.size))===h||g.$$is_boolean&&1!=g?this.size:(g=this.size).$call.apply(g,a.to_a(this.args))});
a.defn(x,"$with_index",t=function(a){var g,f,d=t.$$p||h;null==a&&(a=0);t.$$p=null;a=!1!==a&&a!==h?p.get("Opal").$coerce_to(a,p.get("Integer"),"to_int"):0;if(!1===d||d===h)return(g=this.$enum_for,g.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),g).call(this,"with_index",a);var e,k=a;this.$each.$$p=function(){var a=p.get("Opal").$destructure(arguments),a=d(a,k);if(a===l)return e=l.$v,l;k++;return a};this.$each();return void 0!==e?e:this.object});a.alias(x,"with_object","each_with_object");
a.defn(x,"$inspect",function(){var a,g=h,g="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;if((a=this.args["$empty?"]())===h||a.$$is_boolean&&1!=a)g=n(g,"("+this.args.$inspect()["$[]"](p.get("Range").$new(1,-2))+")");return n(g,">")});(function(g,$super){function f(){}var d=f=c(g,$super,"Generator",f),e=d.$$scope,k,t;d.$$proto.block=h;d.$include(e.get("Enumerable"));a.defn(d,"$initialize",k=function(){var a=k.$$p||h;k.$$p=null;!1!==a&&a!==h||this.$raise(e.get("LocalJumpError"),"no block given");
return this.block=a});return(a.defn(d,"$each",t=function(){var d,f,g=t.$$p||h,k=h,k=arguments.length-0;0>k&&(k=0);for(var c=Array(k),p=0;p<k;p++)c[p]=arguments[p+0];t.$$p=null;k=(d=(f=e.get("Yielder")).$new,d.$$p=g.$to_proc(),d).call(f);try{if(c.unshift(k),a.yieldX(this.block,c)===l)return l.$v}catch(C){if(C===l)return l.$v;throw C;}return this}),h)&&"each"})(p.base,null);(function(g,$super){function f(){}var d=f=c(g,$super,"Yielder",f),e;d.$$proto.block=h;a.defn(d,"$initialize",e=function(){var a=
e.$$p||h;e.$$p=null;return this.block=a});a.defn(d,"$yield",function(){var d=arguments.length-0;0>d&&(d=0);for(var f=Array(d),g=0;g<d;g++)f[g]=arguments[g+0];d=a.yieldX(this.block,f);if(d===l)throw l;return d});return(a.defn(d,"$<<",function(){var d=arguments.length-0;0>d&&(d=0);for(var f=Array(d),g=0;g<d;g++)f[g]=arguments[g+0];this.$yield.apply(this,a.to_a(f));return this}),h)&&"<<"})(p.base,null);return function(g,$super){function f(){}var d=f=c(g,$super,"Lazy",f),k=d.$$scope,t,p,m,F,v,D,K,r,G;
d.$$proto.enumerator=h;(function(a,$super){function d(){}d=c(a,$super,"StopLazyError",d);return h})(k.base,k.get("Exception"));a.defn(d,"$initialize",t=function(d,f){var g,c=t.$$p||h;null==f&&(f=h);t.$$p=null;c===h&&this.$raise(k.get("ArgumentError"),"tried to call lazy new without a block");this.enumerator=d;return a.find_super_dispatcher(this,"initialize",t,(g=function(f,v){var D=g.$$s||this,t,F;null==f&&(f=h);v=e.call(arguments,1);try{return(t=d.$each,t.$$p=(F=function(d){d=e.call(arguments,0);
d.unshift(f);if(a.yieldX(c,d)===l)return l},F.$$s=D,F),t).apply(d,a.to_a(v))}catch(p){if(a.rescue(p,[k.get("Exception")]))try{return h}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw p;}},g.$$s=this,g)).apply(this,[f])});a.alias(d,"force","to_a");a.defn(d,"$lazy",function(){return this});a.defn(d,"$collect",p=function(){var d,f,g,c=p.$$p||h;p.$$p=null;!1!==c&&c!==h||this.$raise(k.get("ArgumentError"),"tried to call lazy map without a block");return(d=(f=k.get("Lazy")).$new,d.$$p=(g=function(d,
f){null==d&&(d=h);f=e.call(arguments,1);var g=a.yieldX(c,f);if(g===l)return l;d.$yield(g)},g.$$s=this,g),d).call(f,this,this.$enumerator_size())});a.defn(d,"$collect_concat",m=function(){var d,f,g,c=m.$$p||h;m.$$p=null;!1!==c&&c!==h||this.$raise(k.get("ArgumentError"),"tried to call lazy map without a block");return(d=(f=k.get("Lazy")).$new,d.$$p=(g=function(d,f){var v=g.$$s||this,D,t,F,p,C;null==d&&(d=h);f=e.call(arguments,1);var K=a.yieldX(c,f);if(K===l)return l;K["$respond_to?"]("force")&&K["$respond_to?"]("each")?
(D=(t=K).$each,D.$$p=(F=function(a){null==a&&(a=h);return d.$yield(a)},F.$$s=v,F),D).call(t):k.get("Opal").$try_convert(K,k.get("Array"),"to_ary")===h?d.$yield(K):(D=(p=K).$each,D.$$p=(C=function(a){null==a&&(a=h);return d.$yield(a)},C.$$s=v,C),D).call(p)},g.$$s=this,g),d).call(f,this,h)});a.defn(d,"$drop",function(d){var f,g,c,v=h,D=v=h;d=k.get("Opal").$coerce_to(d,k.get("Integer"),"to_int");q(d,0)&&this.$raise(k.get("ArgumentError"),"attempt to drop negative size");v=this.$enumerator_size();v=(f=
k.get("Integer")["$==="](v))===h||f.$$is_boolean&&1!=f?v:q(d,v)?d:v;D=0;return(f=(g=k.get("Lazy")).$new,f.$$p=(c=function(f,g){var k;null==f&&(f=h);g=e.call(arguments,1);return q(D,d)?D=n(D,1):(k=f).$yield.apply(k,a.to_a(g))},c.$$s=this,c),f).call(g,this,v)});a.defn(d,"$drop_while",F=function(){var d,f,g,c=F.$$p||h,v=h;F.$$p=null;!1!==c&&c!==h||this.$raise(k.get("ArgumentError"),"tried to call lazy drop_while without a block");v=!0;return(d=(f=k.get("Lazy")).$new,d.$$p=(g=function(d,f){var g,k;null==
d&&(d=h);f=e.call(arguments,1);if(!1!==v&&v!==h){k=a.yieldX(c,f);if(k===l)return l;if((g=k)===h||g.$$is_boolean&&0==g)v=!1,(g=d).$yield.apply(g,a.to_a(f))}else return(k=d).$yield.apply(k,a.to_a(f))},g.$$s=this,g),d).call(f,this,h)});a.defn(d,"$enum_for",v=function(d){var f,g,e=v.$$p||h,k=arguments.length-1;0>k&&(k=0);for(var c=Array(k),D=0;D<k;D++)c[D]=arguments[D+1];null==d&&(d="each");v.$$p=null;return(f=(g=this.$class()).$for,f.$$p=e.$to_proc(),f).apply(g,[this,d].concat(a.to_a(c)))});a.defn(d,
"$find_all",D=function(){var d,f,g,c=D.$$p||h;D.$$p=null;!1!==c&&c!==h||this.$raise(k.get("ArgumentError"),"tried to call lazy select without a block");return(d=(f=k.get("Lazy")).$new,d.$$p=(g=function(d,f){var g;null==d&&(d=h);f=e.call(arguments,1);var k=a.yieldX(c,f);if(k===l)return l;(g=k)===h||g.$$is_boolean&&1!=g||(g=d).$yield.apply(g,a.to_a(f))},g.$$s=this,g),d).call(f,this,h)});a.alias(d,"flat_map","collect_concat");a.defn(d,"$grep",K=function(d){var f,g,c,v,D,t=K.$$p||h;K.$$p=null;return!1!==
t&&t!==h?(f=(g=k.get("Lazy")).$new,f.$$p=(c=function(f,g){var c;null==f&&(f=h);g=e.call(arguments,1);var v=k.get("Opal").$destructure(g),D=d["$==="](v);if((c=D)!==h&&(!c.$$is_boolean||1==c)){D=a.yield1(t,v);if(D===l)return l;f.$yield(a.yield1(t,v))}},c.$$s=this,c),f).call(g,this,h):(f=(v=k.get("Lazy")).$new,f.$$p=(D=function(a,f){var g;null==a&&(a=h);f=e.call(arguments,1);var c=k.get("Opal").$destructure(f);(g=d["$==="](c))===h||g.$$is_boolean&&1!=g||a.$yield(c)},D.$$s=this,D),f).call(v,this,h)});
a.alias(d,"map","collect");a.alias(d,"select","find_all");a.defn(d,"$reject",r=function(){var d,f,g,c=r.$$p||h;r.$$p=null;!1!==c&&c!==h||this.$raise(k.get("ArgumentError"),"tried to call lazy reject without a block");return(d=(f=k.get("Lazy")).$new,d.$$p=(g=function(d,f){var g;null==d&&(d=h);f=e.call(arguments,1);var k=a.yieldX(c,f);if(k===l)return l;((g=k)===h||g.$$is_boolean&&0==g)&&(g=d).$yield.apply(g,a.to_a(f))},g.$$s=this,g),d).call(f,this,h)});a.defn(d,"$take",function(d){var f,g,c,v=h,D=v=
h;d=k.get("Opal").$coerce_to(d,k.get("Integer"),"to_int");q(d,0)&&this.$raise(k.get("ArgumentError"),"attempt to take negative size");v=this.$enumerator_size();v=(f=k.get("Integer")["$==="](v))===h||f.$$is_boolean&&1!=f?v:q(d,v)?d:v;D=0;return(f=(g=k.get("Lazy")).$new,f.$$p=(c=function(f,g){var v=c.$$s||this,t;null==f&&(f=h);g=e.call(arguments,1);return q(D,d)?((t=f).$yield.apply(t,a.to_a(g)),D=n(D,1)):v.$raise(k.get("StopLazyError"))},c.$$s=this,c),f).call(g,this,v)});a.defn(d,"$take_while",G=function(){var d,
f,g,c=G.$$p||h;G.$$p=null;!1!==c&&c!==h||this.$raise(k.get("ArgumentError"),"tried to call lazy take_while without a block");return(d=(f=k.get("Lazy")).$new,d.$$p=(g=function(d,f){var v=g.$$s||this,D;null==d&&(d=h);f=e.call(arguments,1);var t=a.yieldX(c,f);if(t===l)return l;(D=t)===h||D.$$is_boolean&&1!=D?v.$raise(k.get("StopLazyError")):(D=d).$yield.apply(D,a.to_a(f))},g.$$s=this,g),d).call(f,this,h)});a.alias(d,"to_enum","enum_for");return(a.defn(d,"$inspect",function(){return"#<"+this.$class()+
": "+this.enumerator.$inspect()+">"}),h)&&"inspect"}(p.base,x)}(a.base,null)};
Opal.modules["corelib/numeric"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}a.dynamic_require_severity="warning";var l=a.top,e=a.nil,c=a.klass;a.add_stubs("$require $include $instance_of? $class $Float $coerce $=== $raise $__send__ $equal? $coerce_to! $-@ $** $- $* $div $< $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $round $to_i $truncate $>".split(" "));
l.$require("corelib/comparable");return function(l,$super){function w(){}var x=w=c(l,$super,"Numeric",w),u=x.$$scope;x.$include(u.get("Comparable"));a.defn(x,"$coerce",function(a){var c;return(c=a["$instance_of?"](this.$class()))===e||c.$$is_boolean&&1!=c?[this.$Float(a),this.$Float(this)]:[a,this]});a.defn(x,"$__coerced__",function(c,h){var g,k=e,t=e,C=e;try{g=a.to_ary(h.$coerce(this)),k=null==g[0]?e:g[0],t=null==g[1]?e:g[1]}catch(l){try{C=c,"+"["$==="](C)||"-"["$==="](C)||"*"["$==="](C)||"/"["$==="](C)||
"%"["$==="](C)||"&"["$==="](C)||"|"["$==="](C)||"^"["$==="](C)||"**"["$==="](C)?this.$raise(u.get("TypeError"),""+h.$class()+" can't be coerce into Numeric"):(">"["$==="](C)||">="["$==="](C)||"<"["$==="](C)||"<="["$==="](C)||"<=>"["$==="](C))&&this.$raise(u.get("ArgumentError"),"comparison of "+this.$class()+" with "+h.$class()+" failed")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return k.$__send__(c,t)});a.defn(x,"$<=>",function(a){var c;return(c=this["$equal?"](a))===e||c.$$is_boolean&&1!=
c?e:0});a.defn(x,"$[]",function(a){var c=e,g=e;a=u.get("Opal")["$coerce_to!"](a,u.get("Integer"),"to_int");c=2["$**"](30)["$-@"]();g=n(2["$**"](30),1);return a<c||a>g?0:(this>>a)%2});a.defn(x,"$+@",function(){return this});a.defn(x,"$-@",function(){return n(0,this)});a.defn(x,"$%",function(a){return n(this,q(a,this.$div(a)))});a.defn(x,"$abs",function(){return m(this,0)?this["$-@"]():this});a.defn(x,"$abs2",function(){return q(this,this)});a.defn(x,"$angle",function(){return m(this,0)?u.get("Math").$$scope.get("PI"):
0});a.alias(x,"arg","angle");a.defn(x,"$ceil",function(){return this.$to_f().$ceil()});a.defn(x,"$conj",function(){return this});a.alias(x,"conjugate","conj");a.defn(x,"$denominator",function(){return this.$to_r().$denominator()});a.defn(x,"$div",function(a){a["$=="](0)&&this.$raise(u.get("ZeroDivisionError"),"divided by o");return h(this,a).$floor()});a.defn(x,"$divmod",function(a){return[this.$div(a),this["$%"](a)]});a.defn(x,"$fdiv",function(a){return h(this.$to_f(),a)});a.defn(x,"$floor",function(){return this.$to_f().$floor()});
a.defn(x,"$i",function(){return this.$Complex(0,this)});a.defn(x,"$imag",function(){return 0});a.alias(x,"imaginary","imag");a.defn(x,"$integer?",function(){return!1});a.alias(x,"magnitude","abs");a.alias(x,"modulo","%");a.defn(x,"$nonzero?",function(){var a;return(a=this["$zero?"]())===e||a.$$is_boolean&&1!=a?this:e});a.defn(x,"$numerator",function(){return this.$to_r().$numerator()});a.alias(x,"phase","arg");a.defn(x,"$polar",function(){return[this.$abs(),this.$arg()]});a.defn(x,"$quo",function(a){return h(u.get("Opal")["$coerce_to!"](this,
u.get("Rational"),"to_r"),a)});a.defn(x,"$real",function(){return this});a.defn(x,"$real?",function(){return!0});a.defn(x,"$rect",function(){return[this,0]});a.alias(x,"rectangular","rect");a.defn(x,"$round",function(a){return this.$to_f().$round(a)});a.defn(x,"$to_c",function(){return this.$Complex(this,0)});a.defn(x,"$to_int",function(){return this.$to_i()});a.defn(x,"$truncate",function(){return this.$to_f().$truncate()});a.defn(x,"$zero?",function(){return this["$=="](0)});a.defn(x,"$positive?",
function(){return"number"===typeof this?0<this:this["$>"](0)});a.defn(x,"$negative?",function(){return m(this,0)});a.defn(x,"$dup",function(){return this.$raise(u.get("TypeError"),"can't dup "+this.$class())});return(a.defn(x,"$clone",function(){return this.$raise(u.get("TypeError"),"can't clone "+this.$class())}),e)&&"clone"}(a.base,null)};
Opal.modules["corelib/array"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}a.dynamic_require_severity="warning";var q=a.top,m=a.nil,h=a.breaker,l=a.klass,e=a.hash2,c=a.gvars;a.add_stubs("$require $include $raise $=== $to_a $respond_to? $to_ary $coerce_to $initialize $to_proc $coerce_to? $join $to_str $class $clone $hash $<=> $== $object_id $inspect $enum_for $coerce_to! $> $* $enumerator_size $empty? $copy_singleton_methods $initialize_clone $initialize_dup $replace $size $eql? $length $begin $end $exclude_end? $flatten $__id__ $[] $to_s $new $! $delete_if $each $reverse $rotate $rand $at $keep_if $shuffle! $dup $< $sort $!= $times $[]= $<< $kind_of? $last $first $upto".split(" "));
q.$require("corelib/enumerable");q.$require("corelib/numeric");return function(q,$super){function w(){}function x(a,d){return a===d||0===d?1:0<d&&a>d?x(a-1,d-1)+x(a-1,d):0}var u=w=l(q,$super,"Array",w),p=u.$$proto,r=u.$$scope,g,k,t,C,z,f,d,y,E,B,J,F,v,D,K,N,G,L,O,fa,ca,Z,Y,da,P,M,R,V,W;p.length=m;u.$include(r.get("Enumerable"));p.$$is_array=!0;a.defs(u,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),f=0;f<a;f++)d[f]=arguments[f+0];return d});a.defn(u,"$initialize",g=function(a,
d){var f,e=g.$$p||m;null==a&&(a=m);null==d&&(d=m);g.$$p=null;(f=2<arguments.length)===m||f.$$is_boolean&&1!=f||this.$raise(r.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if((f=1===arguments.length)!==m&&(!f.$$is_boolean||1==f)){if((f=r.get("Array")["$==="](a))!==m&&(!f.$$is_boolean||1==f))return a.$to_a();if((f=a["$respond_to?"]("to_ary"))!==m&&(!f.$$is_boolean||1==f))return a.$to_ary()}a=r.get("Opal").$coerce_to(a,
r.get("Integer"),"to_int");(f=0>a)===m||f.$$is_boolean&&1!=f||this.$raise(r.get("ArgumentError"),"negative array size");this.splice(0,this.length);var k;if(e===m)for(f=0;f<a;f++)this.push(d);else for(f=0,k;f<a;f++){k=e(f);if(k===h)return h.$v;this[f]=k}return this});a.defs(u,"$new",k=function(){var d,f,g=k.$$p||m,e=arguments.length-0;0>e&&(e=0);for(var c=Array(e),v=0;v<e;v++)c[v]=arguments[v+0];k.$$p=null;return(d=(f=[]).$initialize,d.$$p=g.$to_proc(),d).apply(f,a.to_a(c))});a.defs(u,"$try_convert",
function(a){return r.get("Opal")["$coerce_to?"](a,r.get("Array"),"to_ary")});a.defn(u,"$&",function(d){var f;d=(f=r.get("Array")["$==="](d))===m||f.$$is_boolean&&1!=f?r.get("Opal").$coerce_to(d,r.get("Array"),"to_ary").$to_a():d.$to_a();f=[];var g=e([],{}),k,c;k=0;for(c=d.length;k<c;k++)a.hash_put(g,d[k],!0);k=0;for(c=this.length;k<c;k++)d=this[k],void 0!==a.hash_delete(g,d)&&f.push(d);return f});a.defn(u,"$|",function(d){var f;d=(f=r.get("Array")["$==="](d))===m||f.$$is_boolean&&1!=f?r.get("Opal").$coerce_to(d,
r.get("Array"),"to_ary").$to_a():d.$to_a();f=e([],{});var g,k;g=0;for(k=this.length;g<k;g++)a.hash_put(f,this[g],!0);g=0;for(k=d.length;g<k;g++)a.hash_put(f,d[g],!0);return f.$keys()});a.defn(u,"$*",function(a){var d;if((d=a["$respond_to?"]("to_str"))!==m&&(!d.$$is_boolean||1==d))return this.$join(a.$to_str());((d=a["$respond_to?"]("to_int"))===m||d.$$is_boolean&&1!=d)&&this.$raise(r.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=r.get("Opal").$coerce_to(a,r.get("Integer"),
"to_int");(d=0>a)===m||d.$$is_boolean&&1!=d||this.$raise(r.get("ArgumentError"),"negative argument");d=[];for(var f=0;f<a;f++)d=d.concat(this);return d});a.defn(u,"$+",function(a){var d;a=(d=r.get("Array")["$==="](a))===m||d.$$is_boolean&&1!=d?r.get("Opal").$coerce_to(a,r.get("Array"),"to_ary").$to_a():a.$to_a();return this.concat(a)});a.defn(u,"$-",function(d){var f;d=(f=r.get("Array")["$==="](d))===m||f.$$is_boolean&&1!=f?r.get("Opal").$coerce_to(d,r.get("Array"),"to_ary").$to_a():d.$to_a();if((f=
0===this.length)!==m&&(!f.$$is_boolean||1==f))return[];if((f=0===d.length)!==m&&(!f.$$is_boolean||1==f))return this.$clone();f=[];var g=e([],{}),k,c;k=0;for(c=d.length;k<c;k++)a.hash_put(g,d[k],!0);k=0;for(c=this.length;k<c;k++)d=this[k],void 0===a.hash_get(g,d)&&f.push(d);return f});a.defn(u,"$<<",function(a){this.push(a);return this});a.defn(u,"$<=>",function(a){var d;if((d=r.get("Array")["$==="](a))===m||d.$$is_boolean&&1!=d){if((d=a["$respond_to?"]("to_ary"))===m||d.$$is_boolean&&1!=d)return m;
a=a.$to_ary().$to_a()}else a=a.$to_a();if(this.$hash()===a.$hash())return 0;d=Math.min(this.length,a.length);for(var f=0;f<d;f++){var g=this[f]["$<=>"](a[f]);if(0!==g)return g}return this.length["$<=>"](a.length)});a.defn(u,"$==",function(a){function d(a,g){var e,k,c,v;if(!g.$$is_array)return r.get("Opal")["$respond_to?"](g,"to_ary")?g["$=="](a):!1;g=g.$to_a();if(a.length!==g.length)return!1;f[a.$object_id()]=!0;e=0;for(k=a.length;e<k;e++)if(c=a[e],v=g[e],c.$$is_array){if(v.$$is_array&&v.length!==
c.length||!f.hasOwnProperty(c.$object_id())&&!d(c,v))return!1}else if(!c["$=="](v))return!1;return!0}var f={};return d(this,a)});a.defn(u,"$[]",function(a,d){var f=this.length,g,e,k;if(a.$$is_range){g=a.exclude;e=r.get("Opal").$coerce_to(a.begin,r.get("Integer"),"to_int");k=r.get("Opal").$coerce_to(a.end,r.get("Integer"),"to_int");if(0>e&&(e+=f,0>e)||e>f)return m;if(0>k&&(k+=f,0>k))return[];g||(k+=1);return this.slice(e,k)}a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");if(0>a&&(a+=f,0>a))return m;
if(void 0===d)return a>=f||0>a?m:this[a];d=r.get("Opal").$coerce_to(d,r.get("Integer"),"to_int");return 0>d||a>f||0>a?m:this.slice(a,a+d)});a.defn(u,"$[]=",function(a,d,f){var g,e=m,k=m,c;c=this.length;if((g=r.get("Range")["$==="](a))===m||g.$$is_boolean&&1!=g){(g=void 0===f)===m||g.$$is_boolean&&1!=g?(k=d,d=f,e=(g=r.get("Array")["$==="](d))===m||g.$$is_boolean&&1!=g?(g=d["$respond_to?"]("to_ary"))===m||g.$$is_boolean&&1!=g?[d]:d.$to_ary().$to_a():d.$to_a()):k=1;a=r.get("Opal").$coerce_to(a,r.get("Integer"),
"to_int");k=r.get("Opal").$coerce_to(k,r.get("Integer"),"to_int");0>a&&(g=a,a+=c,0>a&&this.$raise(r.get("IndexError"),"index "+g+" too small for array; minimum "+-this.length));0>k&&this.$raise(r.get("IndexError"),"negative length ("+k+")");if(a>c)for(;c<a;c++)this[c]=m;void 0===f?this[a]=d:this.splice.apply(this,[a,k].concat(e))}else{e=(g=r.get("Array")["$==="](d))===m||g.$$is_boolean&&1!=g?(g=d["$respond_to?"]("to_ary"))===m||g.$$is_boolean&&1!=g?[d]:d.$to_ary().$to_a():d.$to_a();g=a.exclude;f=
r.get("Opal").$coerce_to(a.begin,r.get("Integer"),"to_int");k=r.get("Opal").$coerce_to(a.end,r.get("Integer"),"to_int");0>f&&(f+=c,0>f&&this.$raise(r.get("RangeError"),""+a.$inspect()+" out of range"));0>k&&(k+=c);g||(k+=1);if(f>c)for(;c<f;c++)this[c]=m;0>k?this.splice.apply(this,[f,0].concat(e)):this.splice.apply(this,[f,k-f].concat(e))}return d});a.defn(u,"$assoc",function(a){for(var d=0,f=this.length,g;d<f;d++)if(g=this[d],g.length&&g[0]["$=="](a))return g;return m});a.defn(u,"$at",function(a){a=
r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?m:this[a]});a.defn(u,"$bsearch",t=function(){var a=t.$$p||m;t.$$p=null;if(a===m)return this.$enum_for("bsearch");for(var d=0,f=this.length,g,k,e,c=!1,v=m;d<f;){g=d+Math.floor((f-d)/2);k=this[g];e=a(k);if(e===h)return h.$v;if(!0===e)v=k,c=!0;else if(!1===e||e===m)c=!1;else if(e.$$is_number){if(0===e)return k;c=0>e}else this.$raise(r.get("TypeError"),"wrong argument type "+e.$class()+" (must be numeric, true, false or nil)");
c?f=g:d=g+1}return v});a.defn(u,"$cycle",C=function(d){var f,g,e,k=C.$$p||m;null==d&&(d=m);C.$$p=null;if(k===m)return(f=this.$enum_for,f.$$p=(g=function(){var a=g.$$s||this;if(d["$=="](m))return r.get("Float").$$scope.get("INFINITY");d=r.get("Opal")["$coerce_to!"](d,r.get("Integer"),"to_int");return n(d,0)?(a=a.$enumerator_size(),"number"===typeof a&&"number"===typeof d?a*d:a["$*"](d)):0},g.$$s=this,g),f).call(this,"cycle",d);if((f=!1!==(e=this["$empty?"]())&&e!==m?e:d["$=="](0))!==m&&(!f.$$is_boolean||
1==f))return m;var c;if(d===m)for(;;)for(f=0,e=this.length;f<e;f++){if(c=a.yield1(k,this[f]),c===h)return h.$v}else{d=r.get("Opal")["$coerce_to!"](d,r.get("Integer"),"to_int");if(0>=d)return this;for(;0<d;){f=0;for(e=this.length;f<e;f++)if(c=a.yield1(k,this[f]),c===h)return h.$v;d--}}return this});a.defn(u,"$clear",function(){this.splice(0,this.length);return this});a.defn(u,"$clone",function(){var a=m,a=[];a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(u,"$dup",function(){var a=
m,a=[];a.$initialize_dup(this);return a});a.defn(u,"$initialize_copy",function(a){return this.$replace(a)});a.defn(u,"$collect",z=function(){var d,f,g=z.$$p||m;z.$$p=null;if(g===m)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),d).call(this,"collect");d=[];for(var e=0,k=this.length;e<k;e++){var c=a.yield1(g,this[e]);if(c===h)return h.$v;d.push(c)}return d});a.defn(u,"$collect!",f=function(){var d,g,e=f.$$p||m;f.$$p=null;if(e===m)return(d=this.$enum_for,d.$$p=
(g=function(){return(g.$$s||this).$size()},g.$$s=this,g),d).call(this,"collect!");d=0;for(var k=this.length;d<k;d++){var c=a.yield1(e,this[d]);if(c===h)return h.$v;this[d]=c}return this});a.defn(u,"$combination",d=function(f){var g,e,k=d.$$p||m,c=m;d.$$p=null;c=r.get("Opal")["$coerce_to!"](f,r.get("Integer"),"to_int");if(k===m)return(g=this.$enum_for,g.$$p=(e=function(){return x((e.$$s||this).length,c)},e.$$s=this,e),g).call(this,"combination",c);var v,D,t;if(0===c)(g=a.yield1(k,[]))===h?h.$v:g;else if(1===
c)for(v=0,f=this.length;v<f;v++)(g=a.yield1(k,[this[v]]))===h?h.$v:g;else if(c===this.length)(g=a.yield1(k,this.slice()))===h?h.$v:g;else if(0<=c&&c<this.length){f=[];for(v=0;v<=c+1;v++)f.push(0);v=[];D=0;t=!1;for(f[0]=-1;!t;){for(v[D]=this[f[D+1]];D<c-1;)D++,t=f[D+1]=f[D]+1,v[D]=this[t];(g=a.yield1(k,v.slice()))===h?h.$v:g;D++;do t=0===D,f[D]++,D--;while(f[D+1]+c===this.length+D+1)}}return this});a.defn(u,"$compact",function(){for(var a=[],d=0,f=this.length,g;d<f;d++)(g=this[d])!==m&&a.push(g);return a});
a.defn(u,"$compact!",function(){for(var a=this.length,d=0,f=this.length;d<f;d++)this[d]===m&&(this.splice(d,1),f--,d--);return this.length===a?m:this});a.defn(u,"$concat",function(a){var d;a=(d=r.get("Array")["$==="](a))===m||d.$$is_boolean&&1!=d?r.get("Opal").$coerce_to(a,r.get("Array"),"to_ary").$to_a():a.$to_a();d=0;for(var f=a.length;d<f;d++)this.push(a[d]);return this});a.defn(u,"$delete",y=function(d){var f,g=y.$$p||m;y.$$p=null;for(var e=this.length,k=0,c=e;k<c;k++)this[k]["$=="](d)&&(this.splice(k,
1),c--,k--);return this.length===e?g!==m?(f=a.yieldX(g,[]))===h?h.$v:f:m:d});a.defn(u,"$delete_at",function(a){a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return m;var d=this[a];this.splice(a,1);return d});a.defn(u,"$delete_if",E=function(){var a,d,f=E.$$p||m;E.$$p=null;if(f===m)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"delete_if");a=0;for(var g=this.length,e;a<g;a++){if((e=f(this[a]))===
h)return h.$v;!1!==e&&e!==m&&(this.splice(a,1),g--,a--)}return this});a.defn(u,"$drop",function(a){0>a&&this.$raise(r.get("ArgumentError"));return this.slice(a)});a.defn(u,"$each",B=function(){var d,f,g=B.$$p||m;B.$$p=null;if(g===m)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),d).call(this,"each");d=0;for(var e=this.length;d<e;d++)if(a.yield1(g,this[d])==h)return h.$v;return this});a.defn(u,"$each_index",J=function(){var d,f,g=J.$$p||m;J.$$p=null;if(g===m)return(d=
this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),d).call(this,"each_index");d=0;for(var e=this.length;d<e;d++)if(a.yield1(g,d)===h)return h.$v;return this});a.defn(u,"$empty?",function(){return 0===this.length});a.defn(u,"$eql?",function(a){function d(a,g){var e,k,c,v;if(!g.$$is_array)return!1;g=g.$to_a();if(a.length!==g.length)return!1;f[a.$object_id()]=!0;e=0;for(k=a.length;e<k;e++)if(c=a[e],v=g[e],c.$$is_array){if(v.$$is_array&&v.length!==c.length||!f.hasOwnProperty(c.$object_id())&&
!d(c,v))return!1}else if(!c["$eql?"](v))return!1;return!0}var f={};return d(this,a)});a.defn(u,"$fetch",F=function(a,d){var f=F.$$p||m;F.$$p=null;var g=a;a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];if(f!==m)return f(g);if(null!=d)return d;0===this.length?this.$raise(r.get("IndexError"),"index "+g+" outside of array bounds: 0...0"):this.$raise(r.get("IndexError"),"index "+g+" outside of array bounds: -"+this.length+"..."+this.length)});
a.defn(u,"$fill",v=function(){var d,f=v.$$p||m,g=m,e=m,k=m,c=m,e=m,c=arguments.length-0;0>c&&(c=0);e=Array(c);for(g=0;g<c;g++)e[g]=arguments[g+0];v.$$p=null;!1!==f&&f!==m?((d=2<e.length)===m||d.$$is_boolean&&1!=d||this.$raise(r.get("ArgumentError"),"wrong number of arguments ("+e.$length()+" for 0..2)"),d=a.to_ary(e),g=null==d[0]?m:d[0],e=null==d[1]?m:d[1]):((d=0==e.length)===m||d.$$is_boolean&&1!=d?(d=3<e.length)===m||d.$$is_boolean&&1!=d||this.$raise(r.get("ArgumentError"),"wrong number of arguments ("+
e.$length()+" for 1..3)"):this.$raise(r.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=a.to_ary(e),k=null==d[0]?m:d[0],g=null==d[1]?m:d[1],e=null==d[2]?m:d[2]);if((d=r.get("Range")["$==="](g))===m||d.$$is_boolean&&1!=d)if(!1!==g&&g!==m)if(c=r.get("Opal").$coerce_to(g,r.get("Integer"),"to_int"),(d=0>c)===m||d.$$is_boolean&&1!=d||(c+=this.length),(d=0>c)===m||d.$$is_boolean&&1!=d||(c=0),!1!==e&&e!==m){e=r.get("Opal").$coerce_to(e,r.get("Integer"),"to_int");if((d=0==e)!==m&&(!d.$$is_boolean||
1==d))return this;e+=c}else e=this.length;else c=0,e=this.length;else{!1!==e&&e!==m&&this.$raise(r.get("TypeError"),"length invalid with range");c=r.get("Opal").$coerce_to(g.$begin(),r.get("Integer"),"to_int");(d=0>c)===m||d.$$is_boolean&&1!=d||(c+=this.length);(d=0>c)===m||d.$$is_boolean&&1!=d||this.$raise(r.get("RangeError"),""+g.$inspect()+" out of range");e=r.get("Opal").$coerce_to(g.$end(),r.get("Integer"),"to_int");(d=0>e)===m||d.$$is_boolean&&1!=d||(e+=this.length);if((d=g["$exclude_end?"]())===
m||d.$$is_boolean&&1!=d)e+=1;if((d=e<=c)!==m&&(!d.$$is_boolean||1==d))return this}if((d=c>this.length)!==m&&(!d.$$is_boolean||1==d))for(g=this.length;g<e;g++)this[g]=m;(d=e>this.length)===m||d.$$is_boolean&&1!=d||(this.length=e);if(!1!==f&&f!==m)for(;c<e;c++){d=f(c);if(d===h)return h.$v;this[c]=d}else for(;c<e;c++)this[c]=k;return this});a.defn(u,"$first",function(a){if(null==a)return 0===this.length?m:this[0];a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&this.$raise(r.get("ArgumentError"),
"negative array size");return this.slice(0,a)});a.defn(u,"$flatten",function(a){function d(a,g){var e=[],k,c,v,D;a=a.$to_a();k=0;for(c=a.length;k<c;k++)if(v=a[k],r.get("Opal")["$respond_to?"](v,"to_ary"))if(D=v.$to_ary(),D===m)e.push(v);else switch(D.$$is_array||f.$raise(r.get("TypeError")),D===f&&f.$raise(r.get("ArgumentError")),g){case void 0:e.push.apply(e,d(D));break;case 0:e.push(D);break;default:e.push.apply(e,d(D,g-1))}else e.push(v);return e}var f=this;void 0!==a&&(a=r.get("Opal").$coerce_to(a,
r.get("Integer"),"to_int"));return d(f,a)});a.defn(u,"$flatten!",function(a){a=this.$flatten(a);if(this.length==a.length){for(var d=0,f=this.length;d<f&&this[d]===a[d];d++);if(d==f)return m}this.$replace(a);return this});a.defn(u,"$hash",function(){var d=void 0==a.hash_ids,f=["A"],g=this.$object_id(),e,k,c;try{d&&(a.hash_ids={});if(a.hash_ids.hasOwnProperty(g))return"self";for(c in a.hash_ids)if(a.hash_ids.hasOwnProperty(c)&&(e=a.hash_ids[c],this["$eql?"](e)))return"self";a.hash_ids[g]=this;for(k=
0;k<this.length;k++)e=this[k],f.push(e.$hash());return f.join(",")}finally{d&&delete a.hash_ids}});a.defn(u,"$include?",function(a){for(var d=0,f=this.length;d<f;d++)if(this[d]["$=="](a))return!0;return!1});a.defn(u,"$index",D=function(a){var d=D.$$p||m;D.$$p=null;var f,g;if(null!=a)for(f=0,g=this.length;f<g;f++){if(this[f]["$=="](a))return f}else if(d!==m)for(f=0,g=this.length;f<g;f++){if((a=d(this[f]))===h)return h.$v;if(!1!==a&&a!==m)return f}else return this.$enum_for("index");return m});a.defn(u,
"$insert",function(a){var d=arguments.length-1;0>d&&(d=0);for(var f=Array(d),g=0;g<d;g++)f[g]=arguments[g+1];a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");if(0<f.length){0>a&&(a+=this.length+1,0>a&&this.$raise(r.get("IndexError"),""+a+" is out of bounds"));if(a>this.length)for(d=this.length;d<a;d++)this.push(m);this.splice.apply(this,[a,0].concat(f))}return this});a.defn(u,"$inspect",function(){for(var a=[],d=this.$__id__(),f=0,g=this.length;f<g;f++){var e=this["$[]"](f);e.$__id__()===d?
a.push("[...]"):a.push(e.$inspect())}return"["+a.join(", ")+"]"});a.defn(u,"$join",function(a){var d;null==c[","]&&(c[","]=m);null==a&&(a=m);if((d=0===this.length)!==m&&(!d.$$is_boolean||1==d))return"";(d=a===m)===m||d.$$is_boolean&&1!=d||(a=c[","]);d=[];var f,g,e,k;f=0;for(g=this.length;f<g;f++){e=this[f];if(r.get("Opal")["$respond_to?"](e,"to_str")&&(k=e.$to_str(),k!==m)){d.push(k.$to_s());continue}if(r.get("Opal")["$respond_to?"](e,"to_ary")&&(k=e.$to_ary(),k===this&&this.$raise(r.get("ArgumentError")),
k!==m)){d.push(k.$join(a));continue}if(r.get("Opal")["$respond_to?"](e,"to_s")&&(k=e.$to_s(),k!==m)){d.push(k);continue}this.$raise(r.get("NoMethodError").$new(""+r.get("Opal").$inspect(e)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===m?d.join(""):d.join(r.get("Opal")["$coerce_to!"](a,r.get("String"),"to_str").$to_s())});a.defn(u,"$keep_if",K=function(){var a,d,f=K.$$p||m;K.$$p=null;if(f===m)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,
d),a).call(this,"keep_if");a=0;for(var g=this.length,e;a<g;a++){if((e=f(this[a]))===h)return h.$v;if(!1===e||e===m)this.splice(a,1),g--,a--}return this});a.defn(u,"$last",function(a){if(null==a)return 0===this.length?m:this[this.length-1];a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&this.$raise(r.get("ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)});a.defn(u,"$length",function(){return this.length});a.alias(u,"map",
"collect");a.alias(u,"map!","collect!");a.defn(u,"$permutation",N=function(d){var f,g,e,k=this,c=N.$$p||m,v=m,D=m;N.$$p=null;if(c===m)return(f=(g=k).$enum_for,f.$$p=(e=function(){return(e.$$s||this).$size()},e.$$s=k,e),f).call(g,"permutation",d);var t,y;d=void 0===d?k.length:r.get("Opal").$coerce_to(d,r.get("Integer"),"to_int");if(!(0>d||k.length<d))if(0===d)(f=a.yield1(c,[]))===h?h.$v:f;else if(1===d)for(d=0;d<k.length;d++)(f=a.yield1(c,[k[d]]))===h?h.$v:f;else v=r.get("Array").$new(d),D=r.get("Array").$new(k.length,
!1),t=function(d,f,g,e,c){k=this;for(var v=0;v<k.length;v++)if(e["$[]"](v)["$!"]())if(f[g]=v,g<d-1)e[v]=!0,t.call(k,d,f,g+1,e,c),e[v]=!1;else{y=[];for(var D=0;D<f.length;D++)y.push(k[f[D]]);a.yield1(c,y)}},c!==m?(f=k.slice(),t.call(f,d,v,0,D,c)):t.call(k,d,v,0,D,c);return k});a.defn(u,"$pop",function(a){var d;if((d=void 0===a)!==m&&(!d.$$is_boolean||1==d))return(d=0===this.length)===m||d.$$is_boolean&&1!=d?this.pop():m;a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");(d=0>a)===m||d.$$is_boolean&&
1!=d||this.$raise(r.get("ArgumentError"),"negative array size");return(d=0===this.length)===m||d.$$is_boolean&&1!=d?(d=a>this.length)===m||d.$$is_boolean&&1!=d?this.splice(this.length-a,this.length):this.splice(0,this.length):[]});a.defn(u,"$product",G=function(){var d,f=G.$$p||m,g=arguments.length-0;0>g&&(g=0);for(var e=Array(g),k=0;k<g;k++)e[k]=arguments[k+0];G.$$p=null;var g=f!==m?null:[],k=e.length+1,c=Array(k),v=Array(k),D=Array(k),t,y=1;D[0]=this;for(t=1;t<k;t++)D[t]=r.get("Opal").$coerce_to(e[t-
1],r.get("Array"),"to_ary");for(t=0;t<k;t++){e=D[t].length;if(0===e)return g||this;y*=e;2147483647<y&&this.$raise(r.get("RangeError"),"too big to product");v[t]=e;c[t]=0}a:for(;;){e=[];for(t=0;t<k;t++)e.push(D[t][c[t]]);g?g.push(e):(d=a.yield1(f,e))===h?h.$v:d;e=k-1;for(c[e]++;c[e]===v[e];){c[e]=0;if(0>--e)break a;c[e]++}}return g||this});a.defn(u,"$push",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),f=0;f<a;f++)d[f]=arguments[f+0];a=0;for(f=d.length;a<f;a++)this.push(d[a]);return this});
a.defn(u,"$rassoc",function(a){for(var d=0,f=this.length,g;d<f;d++)if(g=this[d],g.length&&void 0!==g[1]&&g[1]["$=="](a))return g;return m});a.defn(u,"$reject",L=function(){var a,d,f=L.$$p||m;L.$$p=null;if(f===m)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"reject");a=[];for(var g=0,e=this.length,k;g<e;g++){if((k=f(this[g]))===h)return h.$v;!1!==k&&k!==m||a.push(this[g])}return a});a.defn(u,"$reject!",O=function(){var a,d,f=O.$$p||m,g=m;O.$$p=
null;if(f===m)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"reject!");g=this.$length();(a=this.$delete_if,a.$$p=f.$to_proc(),a).call(this);return this.$length()["$=="](g)?m:this});a.defn(u,"$replace",function(a){var d;a=(d=r.get("Array")["$==="](a))===m||d.$$is_boolean&&1!=d?r.get("Opal").$coerce_to(a,r.get("Array"),"to_ary").$to_a():a.$to_a();this.splice(0,this.length);this.push.apply(this,a);return this});a.defn(u,"$reverse",function(){return this.slice(0).reverse()});
a.defn(u,"$reverse!",function(){return this.reverse()});a.defn(u,"$reverse_each",fa=function(){var a,d,f,g=fa.$$p||m;fa.$$p=null;if(g===m)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"reverse_each");(a=(f=this.$reverse()).$each,a.$$p=g.$to_proc(),a).call(f);return this});a.defn(u,"$rindex",ca=function(a){var d=ca.$$p||m;ca.$$p=null;var f;if(null!=a)for(f=this.length-1;0<=f&&!(f>=this.length);f--){if(this[f]["$=="](a))return f}else if(d!==m)for(f=
this.length-1;0<=f&&!(f>=this.length);f--){if((a=d(this[f]))===h)return h.$v;if(!1!==a&&a!==m)return f}else if(null==a)return this.$enum_for("rindex");return m});a.defn(u,"$rotate",function(a){null==a&&(a=1);a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");var d,f;if(1===this.length)return this.slice();if(0===this.length)return[];d=this.slice();f=a%d.length;a=d.slice(f);d=d.slice(0,f);return a.concat(d)});a.defn(u,"$rotate!",function(a){var d=m;null==a&&(a=1);if(0===this.length||1===this.length)return this;
a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");d=this.$rotate(a);return this.$replace(d)});(function(d,$super){function f(){}var g=f=l(d,$super,"SampleRandom",f),e=g.$$scope;g.$$proto.rng=m;a.defn(g,"$initialize",function(a){return this.rng=a});return(a.defn(g,"$rand",function(a){var d,f=m,f=e.get("Opal").$coerce_to(this.rng.$rand(a),e.get("Integer"),"to_int");(d=0>f)===m||d.$$is_boolean&&1!=d||this.$raise(e.get("RangeError"),"random value must be >= 0");((d=f<a)===m||d.$$is_boolean&&1!=
d)&&this.$raise(e.get("RangeError"),"random value must be less than Array size");return f}),m)&&"rand"})(r.base,null);a.defn(u,"$sample",function(a,d){var f,g=m,e=m;if((f=void 0===a)!==m&&(!f.$$is_boolean||1==f))return this.$at(r.get("Kernel").$rand(this.length));(f=void 0===d)===m||f.$$is_boolean&&1!=f?(a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int"),d=r.get("Opal").$coerce_to(d,r.get("Hash"),"to_hash")):(f=g=r.get("Opal")["$coerce_to?"](a,r.get("Hash"),"to_hash"))===m||f.$$is_boolean&&1!=
f?(d=m,a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int")):(d=g,a=m);(f=!1!==a&&a!==m?0>a:a)===m||f.$$is_boolean&&1!=f||this.$raise(r.get("ArgumentError"),"count must be greater than 0");!1!==d&&d!==m&&(e=d["$[]"]("random"));e=(f=!1!==e&&e!==m?e["$respond_to?"]("rand"):e)===m||f.$$is_boolean&&1!=f?r.get("Kernel"):r.get("SampleRandom").$new(e);if(!1===a||a===m)return this[e.$rand(this.length)];var k,c,v,D;a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[e.$rand(this.length)]];
case 2:return c=e.$rand(this.length),v=e.$rand(this.length),c===v&&(v=0===c?c+1:c-1),[this[c],this[v]];default:if(3<this.length/a){g=!1;k=0;f=r.get("Array").$new(a);c=1;for(f[0]=e.$rand(this.length);c<a;){D=e.$rand(this.length);for(v=0;v<c;){for(;D===f[v];){k++;if(100<k){g=!0;break}D=e.$rand(this.length)}if(g)break;v++}if(g)break;f[c]=D;c++}if(!g){for(c=0;c<a;)f[c]=this[f[c]],c++;return f}}f=this.slice();for(c=0;c<a;c++)g=e.$rand(this.length),k=f[c],f[c]=f[g],f[g]=k;return a===this.length?f:f["$[]"](0,
a)}});a.defn(u,"$select",Z=function(){var d,f,g=Z.$$p||m;Z.$$p=null;if(g===m)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),d).call(this,"select");d=[];for(var e=0,k=this.length,c,v;e<k;e++){c=this[e];if((v=a.yield1(g,c))===h)return h.$v;!1!==v&&v!==m&&d.push(c)}return d});a.defn(u,"$select!",Y=function(){var a,d,f=Y.$$p||m;Y.$$p=null;if(f===m)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"select!");var g=
this.length;(a=this.$keep_if,a.$$p=f.$to_proc(),a).call(this);return this.length===g?m:this});a.defn(u,"$shift",function(a){var d;if((d=void 0===a)!==m&&(!d.$$is_boolean||1==d))return(d=0===this.length)===m||d.$$is_boolean&&1!=d?this.shift():m;a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");(d=0>a)===m||d.$$is_boolean&&1!=d||this.$raise(r.get("ArgumentError"),"negative array size");return(d=0===this.length)===m||d.$$is_boolean&&1!=d?this.splice(0,a):[]});a.alias(u,"size","length");a.defn(u,
"$shuffle",function(a){return this.$dup()["$shuffle!"](a)});a.defn(u,"$shuffle!",function(a){var d,f=this.length,g;void 0!==a&&(a=r.get("Opal")["$coerce_to?"](a,r.get("Hash"),"to_hash"),a!==m&&(a=a["$[]"]("random"),a!==m&&a["$respond_to?"]("rand")&&(d=a)));for(;f;)d?(a=d.$rand(f).$to_int(),0>a&&this.$raise(r.get("RangeError"),"random number too small "+a),a>=f&&this.$raise(r.get("RangeError"),"random number too big "+a)):a=Math.floor(Math.random()*f),g=this[--f],this[f]=this[a],this[a]=g;return this});
a.alias(u,"slice","[]");a.defn(u,"$slice!",function(a,d){0>a&&(a+=this.length);return null!=d?this.splice(a,d):0>a||a>=this.length?m:this.splice(a,1)[0]});a.defn(u,"$sort",da=function(){var a,d=this,f=da.$$p||m;da.$$p=null;if((a=1<d.length)===m||a.$$is_boolean&&1!=a)return d;f===m&&(f=function(a,d){return a["$<=>"](d)});try{return d.slice().sort(function(a,g){var e=f(a,g);if(e===h)throw h;e===m&&d.$raise(r.get("ArgumentError"),"comparison of "+a.$inspect()+" with "+g.$inspect()+" failed");return n(e,
0)?1:("number"===typeof e?0>e:e["$<"](0))?-1:0})}catch(g){if(g===h)return h.$v;throw g;}});a.defn(u,"$sort!",P=function(){var a,d,f=P.$$p||m;P.$$p=null;f=f!==m?(a=(d=this.slice()).$sort,a.$$p=f.$to_proc(),a).call(d):this.slice().$sort();a=this.length=0;for(d=f.length;a<d;a++)this.push(f[a]);return this});a.defn(u,"$take",function(a){0>a&&this.$raise(r.get("ArgumentError"));return this.slice(0,a)});a.defn(u,"$take_while",M=function(){var a=M.$$p||m;M.$$p=null;for(var d=[],f=0,g=this.length,e,k;f<g;f++){e=
this[f];if((k=a(e))===h)return h.$v;if(!1===k||k===m)break;d.push(e)}return d});a.defn(u,"$to_a",function(){return this});a.alias(u,"to_ary","to_a");a.defn(u,"$to_h",function(){var d,f=this.length,g,k,c=e([],{});for(d=0;d<f;d++)g=r.get("Opal")["$coerce_to?"](this[d],r.get("Array"),"to_ary"),g.$$is_array||this.$raise(r.get("TypeError"),"wrong element type "+g.$class()+" at "+d+" (expected array)"),2!==g.length&&this.$raise(r.get("ArgumentError"),"wrong array length at "+d+" (expected 2, was "+g.$length()+
")"),k=g[0],g=g[1],a.hash_put(c,k,g);return c});a.alias(u,"to_s","inspect");a.defn(u,"$transpose",function(){var a,d,f=m,g=m;if((a=this["$empty?"]())!==m&&(!a.$$is_boolean||1==a))return[];f=[];g=m;(a=this.$each,a.$$p=(d=function(a){var e=d.$$s||this,k,c,v;null==a&&(a=m);a=(k=r.get("Array")["$==="](a))===m||k.$$is_boolean&&1!=k?r.get("Opal").$coerce_to(a,r.get("Array"),"to_ary").$to_a():a.$to_a();!1!==(k=g)&&k!==m?k:g=a.length;(k=a.length["$!="](g))===m||k.$$is_boolean&&1!=k||e.$raise(r.get("IndexError"),
"element size differs ("+a.length+" should be "+g);return(k=(c=a.length).$times,k.$$p=(v=function(d){var g,e,k,c=m;null==d&&(d=m);c=(g=d,e=f,!1!==(k=e["$[]"](g))&&k!==m?k:e["$[]="](g,[]));return c["$<<"](a.$at(d))},v.$$s=e,v),k).call(c)},d.$$s=this,d),a).call(this);return f});a.defn(u,"$uniq",R=function(){var d=R.$$p||m;R.$$p=null;var f=e([],{}),g,k,c,v;if(d===m)for(g=0,k=this.length;g<k;g++)c=this[g],void 0===a.hash_get(f,c)&&a.hash_put(f,c,c);else for(g=0,k=this.length;g<k;g++)c=this[g],v=a.yield1(d,
c),void 0===a.hash_get(f,v)&&a.hash_put(f,v,c);return f.$values()});a.defn(u,"$uniq!",V=function(){var d=V.$$p||m;V.$$p=null;var f=this.length,g=e([],{}),k,c,v,D;k=0;for(c=f;k<c;k++)v=this[k],D=d===m?v:a.yield1(d,v),void 0===a.hash_get(g,D)?a.hash_put(g,D,v):(this.splice(k,1),c--,k--);return this.length===f?m:this});a.defn(u,"$unshift",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),f=0;f<a;f++)d[f]=arguments[f+0];for(a=d.length-1;0<=a;a--)this.unshift(d[a]);return this});a.defn(u,
"$values_at",function(){var a,d,f=m,g=arguments.length-0;0>g&&(g=0);for(var e=Array(g),k=0;k<g;k++)e[k]=arguments[k+0];f=[];(a=e.$each,a.$$p=(d=function(a){var g=d.$$s||this,e,k,c,v=m,D=m,v=m;null==a&&(a=m);if((e=a["$kind_of?"](r.get("Range")))===m||e.$$is_boolean&&1!=e)return v=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int"),f["$<<"](g.$at(v));v=r.get("Opal").$coerce_to(a.$last(),r.get("Integer"),"to_int");D=r.get("Opal").$coerce_to(a.$first(),r.get("Integer"),"to_int");if(0>D)return D+=g.length,
m;0>v&&(v+=g.length);a["$exclude_end?"]()&&v--;return v<D?m:(e=(k=D).$upto,e.$$p=(c=function(a){var d=c.$$s||this;null==a&&(a=m);return f["$<<"](d.$at(a))},c.$$s=g,c),e).call(k,v)},d.$$s=this,d),a).call(e);return f});return(a.defn(u,"$zip",W=function(){var a,d=W.$$p||m,f=arguments.length-0;0>f&&(f=0);for(var g=Array(f),e=0;e<f;e++)g[e]=arguments[e+0];W.$$p=null;var f=[],e=this.length,k,c,v,D;v=0;for(D=g.length;v<D;v++)k=g[v],k.$$is_array||(g[v]=(!1!==(a=r.get("Opal")["$coerce_to?"](k,r.get("Array"),
"to_ary"))&&a!==m?a:r.get("Opal")["$coerce_to!"](k,r.get("Enumerator"),"each")).$to_a());for(c=0;c<e;c++){a=[this[c]];v=0;for(D=g.length;v<D;v++)k=g[v][c],null==k&&(k=m),a[v+1]=k;f[c]=a}if(d!==m){for(c=0;c<e;c++)d(f[c]);return m}return f}),m)&&"zip"}(a.base,Array)};
Opal.modules["corelib/hash"]=function(a){a.dynamic_require_severity="warning";var n=a.top,q=a.nil,m=a.breaker,h=a.klass;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $== $coerce_to! $lambda? $abs $arity $call $enum_for $size $inspect $flatten $eql? $default $to_proc $dup $=== $default_proc $default_proc= $default= $alias_method".split(" "));n.$require("corelib/enumerable");return function(l,$super){function c(){}var n=c=h(l,$super,"Hash",c),b=n.$$proto,w=n.$$scope,x,u,p,
r,g,k,t,C,z,f,d,y,E,B;b.proc=b.none=q;n.$include(w.get("Enumerable"));b.$$is_hash=!0;a.defs(n,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),f=0;f<a;f++)d[f]=arguments[f+0];var f=d.length,b;if(1===f){a=w.get("Opal")["$coerce_to?"](d["$[]"](0),w.get("Hash"),"to_hash");if(a!==q)return this.$allocate()["$merge!"](a);d=w.get("Opal")["$coerce_to?"](d["$[]"](0),w.get("Array"),"to_ary");d===q&&this.$raise(w.get("ArgumentError"),"odd number of arguments for Hash");f=d.length;a=this.$allocate();
for(b=0;b<f;b++)if(d[b].$$is_array)switch(d[b].length){case 1:a.$store(d[b][0],q);break;case 2:a.$store(d[b][0],d[b][1]);break;default:this.$raise(w.get("ArgumentError"),"invalid number of elements ("+d[b].length+" for 1..2)")}return a}0!==f%2&&this.$raise(w.get("ArgumentError"),"odd number of arguments for Hash");a=this.$allocate();for(b=0;b<f;b+=2)a.$store(d[b],d[b+1]);return a});a.defs(n,"$allocate",function(){var d=new this.$$alloc;a.hash_init(d);d.none=q;d.proc=q;return d});a.defs(n,"$try_convert",
function(a){return w.get("Opal")["$coerce_to?"](a,w.get("Hash"),"to_hash")});a.defn(n,"$initialize",x=function(a){var d=x.$$p||q;x.$$p=null;void 0!==a&&d!==q&&this.$raise(w.get("ArgumentError"),"wrong number of arguments (1 for 0)");this.none=void 0===a?q:a;this.proc=d;return this});a.defn(n,"$==",function(d){if(this===d)return!0;if(!d.$$is_hash||this.keys.length!==d.keys.length)return!1;for(var f=0,b=this.keys,g=b.length,k,c;f<g;f++)if(k=b[f],k.$$is_string?(c=this.smap[k],k=d.smap[k]):(c=k.value,
k=a.hash_get(d,k.key)),void 0===k||!c["$eql?"](k))return!1;return!0});a.defn(n,"$[]",function(d){var f=a.hash_get(this,d);return void 0!==f?f:this.$default(d)});a.defn(n,"$[]=",function(d,f){a.hash_put(this,d,f);return f});a.defn(n,"$assoc",function(a){for(var d=0,f=this.keys,b=f.length,g;d<b;d++)if(g=f[d],g.$$is_string){if(g["$=="](a))return[g,this.smap[g]]}else if(g.key["$=="](a))return[g.key,g.value];return q});a.defn(n,"$clear",function(){a.hash_init(this);return this});a.defn(n,"$clone",function(){var d=
new this.$$class.$$alloc;a.hash_init(d);a.hash_clone(this,d);return d});a.defn(n,"$default",function(a){return void 0!==a&&this.proc!==q?this.proc.$call(this,a):this.none});a.defn(n,"$default=",function(a){this.proc=q;return this.none=a});a.defn(n,"$default_proc",function(){return this.proc});a.defn(n,"$default_proc=",function(a){a!==q&&(a=w.get("Opal")["$coerce_to!"](a,w.get("Proc"),"to_proc"),a["$lambda?"]()&&2!==a.$arity().$abs()&&this.$raise(w.get("TypeError"),"default_proc takes two arguments"));
this.none=q;return this.proc=a});a.defn(n,"$delete",u=function(d){var f=u.$$p||q;u.$$p=null;var b=a.hash_delete(this,d);return void 0!==b?b:f!==q?f.$call(d):q});a.defn(n,"$delete_if",p=function(){var d,f,b=p.$$p||q;p.$$p=null;if(!1===b||b===q)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),d).call(this,"delete_if");d=0;for(var g=this.keys,k=g.length,c,t;d<k;d++){c=g[d];c.$$is_string?t=this.smap[c]:(t=c.value,c=c.key);t=b(c,t);if(t===m)return m.$v;!1!==t&&t!==
q&&void 0!==a.hash_delete(this,c)&&(k--,d--)}return this});a.alias(n,"dup","clone");a.defn(n,"$each",r=function(){var d,f,b=r.$$p||q;r.$$p=null;if(!1===b||b===q)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),d).call(this,"each");d=0;for(var g=this.keys,k=g.length,c,t;d<k;d++)if(c=g[d],c.$$is_string?t=this.smap[c]:(t=c.value,c=c.key),c=a.yield1(b,[c,t]),c===m)return m.$v;return this});a.defn(n,"$each_key",g=function(){var a,d,f=g.$$p||q;g.$$p=null;if(!1===f||
f===q)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"each_key");a=0;for(var b=this.keys,k=b.length,c;a<k;a++)if(c=b[a],f(c.$$is_string?c:c.key)===m)return m.$v;return this});a.alias(n,"each_pair","each");a.defn(n,"$each_value",k=function(){var a,d,f=k.$$p||q;k.$$p=null;if(!1===f||f===q)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d),a).call(this,"each_value");a=0;for(var b=this.keys,g=b.length,c;a<g;a++)if(c=
b[a],f(c.$$is_string?this.smap[c]:c.value)===m)return m.$v;return this});a.defn(n,"$empty?",function(){return 0===this.keys.length});a.alias(n,"eql?","==");a.defn(n,"$fetch",t=function(d,f){var b=t.$$p||q;t.$$p=null;var g=a.hash_get(this,d);return void 0!==g?g:b!==q?(g=b(d),g===m?m.$v:g):void 0!==f?f:this.$raise(w.get("KeyError"),"key not found: "+d.$inspect())});a.defn(n,"$flatten",function(a){null==a&&(a=1);a=w.get("Opal")["$coerce_to!"](a,w.get("Integer"),"to_int");for(var d=[],f=0,b=this.keys,
g=b.length,k,c;f<g;f++)k=b[f],k.$$is_string?c=this.smap[k]:(c=k.value,k=k.key),d.push(k),c.$$is_array?1===a?d.push(c):d=d.concat(c.$flatten(a-2)):d.push(c);return d});a.defn(n,"$has_key?",function(d){return void 0!==a.hash_get(this,d)});a.defn(n,"$has_value?",function(a){for(var d=0,f=this.keys,b=f.length,g;d<b;d++)if(g=f[d],(g.$$is_string?this.smap[g]:g.value)["$=="](a))return!0;return!1});a.defn(n,"$hash",function(){var d=void 0===a.hash_ids,f=this.$object_id(),b=["Hash"],g,k;try{d&&(a.hash_ids=
{});if(a.hash_ids.hasOwnProperty(f))return"self";for(g in a.hash_ids)if(a.hash_ids.hasOwnProperty(g)&&(k=a.hash_ids[g],this["$eql?"](k)))return"self";a.hash_ids[f]=this;for(var f=0,c=this.keys,t=c.length;f<t;f++)g=c[f],g.$$is_string?b.push([g,this.smap[g].$hash()]):b.push([g.key_hash,g.value.$hash()]);return b.sort().join()}finally{d&&delete a.hash_ids}});a.alias(n,"include?","has_key?");a.defn(n,"$index",function(a){for(var d=0,f=this.keys,b=f.length,g,k;d<b;d++)if(g=f[d],g.$$is_string?k=this.smap[g]:
(k=g.value,g=g.key),k["$=="](a))return g;return q});a.defn(n,"$indexes",function(){var d=arguments.length-0;0>d&&(d=0);for(var f=Array(d),b=0;b<d;b++)f[b]=arguments[b+0];for(var d=[],b=0,g=f.length,k;b<g;b++)k=f[b],k=a.hash_get(this,k),void 0===k?d.push(this.$default()):d.push(k);return d});a.alias(n,"indices","indexes");var J;a.defn(n,"$inspect",function(){var a=void 0===J,d=this.$object_id(),f=[];try{a&&(J={});if(J.hasOwnProperty(d))return"{...}";J[d]=!0;for(var d=0,b=this.keys,g=b.length,k,c;d<
g;d++)k=b[d],k.$$is_string?c=this.smap[k]:(c=k.value,k=k.key),f.push(k.$inspect()+"=>"+c.$inspect());return"{"+f.join(", ")+"}"}finally{a&&(J=void 0)}});a.defn(n,"$invert",function(){for(var d=a.hash(),f=0,b=this.keys,g=b.length,k,c;f<g;f++)k=b[f],k.$$is_string?c=this.smap[k]:(c=k.value,k=k.key),a.hash_put(d,c,k);return d});a.defn(n,"$keep_if",C=function(){var d,f,b=C.$$p||q;C.$$p=null;if(!1===b||b===q)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),d).call(this,
"keep_if");d=0;for(var g=this.keys,k=g.length,c,t;d<k;d++){c=g[d];c.$$is_string?t=this.smap[c]:(t=c.value,c=c.key);t=b(c,t);if(t===m)return m.$v;!1!==t&&t!==q||void 0===a.hash_delete(this,c)||(k--,d--)}return this});a.alias(n,"key","index");a.alias(n,"key?","has_key?");a.defn(n,"$keys",function(){for(var a=[],d=0,f=this.keys,b=f.length,g;d<b;d++)g=f[d],g.$$is_string?a.push(g):a.push(g.key);return a});a.defn(n,"$length",function(){return this.keys.length});a.alias(n,"member?","has_key?");a.defn(n,
"$merge",z=function(a){var d,f,b=z.$$p||q;z.$$p=null;return(d=(f=this.$dup())["$merge!"],d.$$p=b.$to_proc(),d).call(f,a)});a.defn(n,"$merge!",f=function(d){var b=f.$$p||q;f.$$p=null;w.get("Hash")["$==="](d)||(d=w.get("Opal")["$coerce_to!"](d,w.get("Hash"),"to_hash"));var g,k=d.keys,c=k.length,t,y,h;if(b===q){for(g=0;g<c;g++)t=k[g],t.$$is_string?h=d.smap[t]:(h=t.value,t=t.key),a.hash_put(this,t,h);return this}for(g=0;g<c;g++)t=k[g],t.$$is_string?h=d.smap[t]:(h=t.value,t=t.key),y=a.hash_get(this,t),
void 0===y?a.hash_put(this,t,h):a.hash_put(this,t,b(t,y,h));return this});a.defn(n,"$rassoc",function(a){for(var d=0,f=this.keys,b=f.length,g,k;d<b;d++)if(g=f[d],g.$$is_string?k=this.smap[g]:(k=g.value,g=g.key),k["$=="](a))return[g,k];return q});a.defn(n,"$rehash",function(){a.hash_rehash(this);return this});a.defn(n,"$reject",d=function(){var f,b,g=d.$$p||q;d.$$p=null;if(!1===g||g===q)return(f=this.$enum_for,f.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),f).call(this,"reject");f=
a.hash();for(var k=0,c=this.keys,t=c.length,y,h,C;k<t;k++){y=c[k];y.$$is_string?h=this.smap[y]:(h=y.value,y=y.key);C=g(y,h);if(C===m)return m.$v;!1!==C&&C!==q||a.hash_put(f,y,h)}return f});a.defn(n,"$reject!",y=function(){var d,f,b=y.$$p||q;y.$$p=null;if(!1===b||b===q)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),d).call(this,"reject!");d=!1;for(var g=0,k=this.keys,c=k.length,t,h;g<c;g++){t=k[g];t.$$is_string?h=this.smap[t]:(h=t.value,t=t.key);h=b(t,h);if(h===
m)return m.$v;!1!==h&&h!==q&&void 0!==a.hash_delete(this,t)&&(d=!0,c--,g--)}return d?this:q});a.defn(n,"$replace",function(d){var f;d=w.get("Opal")["$coerce_to!"](d,w.get("Hash"),"to_hash");a.hash_init(this);for(var b=0,g=d.keys,k=g.length,c,t;b<k;b++)c=g[b],c.$$is_string?t=d.smap[c]:(t=c.value,c=c.key),a.hash_put(this,c,t);(f=d.$default_proc())===q||f.$$is_boolean&&1!=f?(f=[d.$default()],d=this,d["$default="].apply(d,f)):(f=[d.$default_proc()],d=this,d["$default_proc="].apply(d,f));f[f.length-1];
return this});a.defn(n,"$select",E=function(){var d,f,b=E.$$p||q;E.$$p=null;if(!1===b||b===q)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),d).call(this,"select");d=a.hash();for(var g=0,k=this.keys,c=k.length,t,y,h;g<c;g++){t=k[g];t.$$is_string?y=this.smap[t]:(y=t.value,t=t.key);h=b(t,y);if(h===m)return m.$v;!1!==h&&h!==q&&a.hash_put(d,t,y)}return d});a.defn(n,"$select!",B=function(){var d,f,b=B.$$p||q;B.$$p=null;if(!1===b||b===q)return(d=this.$enum_for,d.$$p=
(f=function(){return(f.$$s||this).$size()},f.$$s=this,f),d).call(this,"select!");d=q;for(var g=0,k=this.keys,c=k.length,t,y;g<c;g++){t=k[g];t.$$is_string?y=this.smap[t]:(y=t.value,t=t.key);y=b(t,y);if(y===m)return m.$v;if(!1===y||y===q)void 0!==a.hash_delete(this,t)&&(c--,g--),d=this}return d});a.defn(n,"$shift",function(){var d=this.keys;return 0<d.length?(d=d[0],d=d.$$is_string?d:d.key,[d,a.hash_delete(this,d)]):this.$default(q)});a.alias(n,"size","length");n.$alias_method("store","[]=");a.defn(n,
"$to_a",function(){for(var a=[],d=0,f=this.keys,b=f.length,g,k;d<b;d++)g=f[d],g.$$is_string?k=this.smap[g]:(k=g.value,g=g.key),a.push([g,k]);return a});a.defn(n,"$to_h",function(){if(this.$$class===a.Hash)return this;var d=new a.Hash.$$alloc;a.hash_init(d);a.hash_clone(this,d);return d});a.defn(n,"$to_hash",function(){return this});a.alias(n,"to_s","inspect");a.alias(n,"update","merge!");a.alias(n,"value?","has_value?");a.alias(n,"values_at","indexes");return(a.defn(n,"$values",function(){for(var a=
[],d=0,f=this.keys,b=f.length,g;d<b;d++)g=f[d],g.$$is_string?a.push(this.smap[g]):a.push(g.value);return a}),q)&&"values"}(a.base,null)};
Opal.modules["corelib/number"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}
a.dynamic_require_severity="warning";var c=a.top,A=a.nil,b=a.breaker,w=a.slice,x=a.klass;a.add_stubs("$require $bridge $raise $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $-@ $size $<= $>=".split(" "));c.$require("corelib/numeric");(function(c,$super){function r(){}var g=r=x(c,$super,"Number",r),k=g.$$scope,t,C,z,f,d,y,E,B,J,F;k.get("Opal").$bridge(g,Number);Number.prototype.$$is_number=
!0;a.defn(g,"$coerce",function(a){if(a!==A){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[k.get("Opal")["$coerce_to!"](a,k.get("Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(k.get("TypeError"),"can't convert "+a.$class()+" into Float")});a.defn(g,"$__id__",function(){return 2*this+1});a.alias(g,"object_id","__id__");a.defn(g,"$+",function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)});a.defn(g,"$-",function(a){return a.$$is_number?
this-a:this.$__coerced__("-",a)});a.defn(g,"$*",function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)});a.defn(g,"$/",function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)});a.alias(g,"fdiv","/");a.defn(g,"$%",function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(k.get("ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)});a.defn(g,"$&",function(a){return a.$$is_number?this&a:this.$__coerced__("&",
a)});a.defn(g,"$|",function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)});a.defn(g,"$^",function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)});a.defn(g,"$<",function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)});a.defn(g,"$<=",function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)});a.defn(g,"$>",function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)});a.defn(g,"$>=",function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)});a.defn(g,
"$<=>",function(d){try{return d.$$is_number?isNaN(this)||isNaN(d)?A:this>d?1:this<d?-1:0:this.$__coerced__("<=>",d)}catch(f){if(a.rescue(f,[k.get("ArgumentError")]))try{return A}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw f;}});a.defn(g,"$<<",function(a){a=k.get("Opal")["$coerce_to!"](a,k.get("Integer"),"to_int");return 0<a?this<<a:this>>-a});a.defn(g,"$>>",function(a){a=k.get("Opal")["$coerce_to!"](a,k.get("Integer"),"to_int");return 0<a?this>>a:this<<-a});a.defn(g,"$[]",function(a){a=
k.get("Opal")["$coerce_to!"](a,k.get("Integer"),"to_int");return a<k.get("Integer").$$scope.get("MIN")||a>k.get("Integer").$$scope.get("MAX")?0:0>this?(~this+1>>a)%2:(this>>a)%2});a.defn(g,"$+@",function(){return+this});a.defn(g,"$-@",function(){return-this});a.defn(g,"$~",function(){return~this});a.defn(g,"$**",function(a){var d,f,b;return(d=k.get("Integer")["$==="](a))===A||d.$$is_boolean&&1!=d?(d=q(this,0)?!1!==(b=k.get("Float")["$==="](a))&&b!==A?b:k.get("Rational")["$==="](a):q(this,0))===A||
d.$$is_boolean&&1!=d?(d=null!=a.$$is_number)===A||d.$$is_boolean&&1!=d?this.$__coerced__("**",a):Math.pow(this,a):k.get("Complex").$new(this,0)["$**"](a.$to_f()):(d=!1!==(f=k.get("Integer")["$==="](this)["$!"]())&&f!==A?f:n(a,0))===A||d.$$is_boolean&&1!=d?k.get("Rational").$new(this,1)["$**"](a):Math.pow(this,a)});a.defn(g,"$==",function(a){return a.$$is_number?this==Number(a):a["$respond_to?"]("==")?a["$=="](this):!1});a.defn(g,"$abs",function(){return Math.abs(this)});a.defn(g,"$abs2",function(){return Math.abs(this*
this)});a.defn(g,"$angle",function(){var a;return(a=this["$nan?"]())===A||a.$$is_boolean&&1!=a?0==this?0<1/this?0:Math.PI:0>this?Math.PI:0:this});a.alias(g,"arg","angle");a.alias(g,"phase","angle");a.defn(g,"$bit_length",function(){var a;((a=k.get("Integer")["$==="](this))===A||a.$$is_boolean&&1!=a)&&this.$raise(k.get("NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;a=0;for(var d=0>this?~this:this;0!=d;)a+=1,d>>>=1;return a});
a.defn(g,"$ceil",function(){return Math.ceil(this)});a.defn(g,"$chr",function(a){return String.fromCharCode(this)});a.defn(g,"$denominator",t=function(){var d=w.call(arguments,0),f,b,g=t.$$p;t.$$p=null;return(f=!1!==(b=this["$nan?"]())&&b!==A?b:this["$infinite?"]())===A||f.$$is_boolean&&1!=f?a.find_super_dispatcher(this,"denominator",t,g).apply(this,d):1});a.defn(g,"$downto",C=function(a){var d,f,g=C.$$p||A;C.$$p=null;if(g===A)return(d=this.$enum_for,d.$$p=(f=function(){var d=f.$$s||this,b;((b=k.get("Numeric")["$==="](a))===
A||b.$$is_boolean&&1!=b)&&d.$raise(k.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed");return n(a,d)?0:m(h(d,a),1)},f.$$s=this,f),d).call(this,"downto",a);a.$$is_number||this.$raise(k.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(d=this;d>=a;d--)if(g(d)===b)return b.$v;return this});a.alias(g,"eql?","==");a.defn(g,"$equal?",function(a){var d;return!1!==(d=this["$=="](a))&&d!==A?d:isNaN(this)&&isNaN(a)});a.defn(g,"$even?",function(){return 0===
this%2});a.defn(g,"$floor",function(){return Math.floor(this)});a.defn(g,"$gcd",function(a){var d;((d=k.get("Integer")["$==="](a))===A||d.$$is_boolean&&1!=d)&&this.$raise(k.get("TypeError"),"not an integer");d=Math.abs(this);for(a=Math.abs(a);0<d;){var f=d;d=a%d;a=f}return a});a.defn(g,"$gcdlcm",function(a){return[this.$gcd(),this.$lcm()]});a.defn(g,"$hash",function(){return"Numeric:"+this.toString()});a.defn(g,"$integer?",function(){return 0===this%1});a.defn(g,"$is_a?",z=function(d){var f=w.call(arguments,
0),b,g=z.$$p;z.$$p=null;return((b=d["$=="](k.get("Fixnum"))?k.get("Integer")["$==="](this):d["$=="](k.get("Fixnum")))===A||b.$$is_boolean&&1!=b)&&((b=d["$=="](k.get("Integer"))?k.get("Integer")["$==="](this):d["$=="](k.get("Integer")))===A||b.$$is_boolean&&1!=b)&&((b=d["$=="](k.get("Float"))?k.get("Float")["$==="](this):d["$=="](k.get("Float")))===A||b.$$is_boolean&&1!=b)?a.find_super_dispatcher(this,"is_a?",z,g).apply(this,f):!0});a.alias(g,"kind_of?","is_a?");a.defn(g,"$instance_of?",f=function(d){var b=
w.call(arguments,0),g,e=f.$$p;f.$$p=null;return((g=d["$=="](k.get("Fixnum"))?k.get("Integer")["$==="](this):d["$=="](k.get("Fixnum")))===A||g.$$is_boolean&&1!=g)&&((g=d["$=="](k.get("Integer"))?k.get("Integer")["$==="](this):d["$=="](k.get("Integer")))===A||g.$$is_boolean&&1!=g)&&((g=d["$=="](k.get("Float"))?k.get("Float")["$==="](this):d["$=="](k.get("Float")))===A||g.$$is_boolean&&1!=g)?a.find_super_dispatcher(this,"instance_of?",f,e).apply(this,b):!0});a.defn(g,"$lcm",function(a){var d;((d=k.get("Integer")["$==="](a))===
A||d.$$is_boolean&&1!=d)&&this.$raise(k.get("TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))});a.alias(g,"magnitude","abs");a.alias(g,"modulo","%");a.defn(g,"$next",function(){return this+1});a.defn(g,"$nonzero?",function(){return 0==this?A:this});a.defn(g,"$numerator",d=function(){var f=w.call(arguments,0),b,g,k=d.$$p;d.$$p=null;return(b=!1!==(g=this["$nan?"]())&&g!==A?g:this["$infinite?"]())===A||b.$$is_boolean&&1!=b?a.find_super_dispatcher(this,"numerator",d,
k).apply(this,f):this});a.defn(g,"$odd?",function(){return 0!==this%2});a.defn(g,"$ord",function(){return this});a.defn(g,"$pred",function(){return this-1});a.defn(g,"$quo",y=function(d){var f=w.call(arguments,0),b,g=y.$$p;y.$$p=null;return(b=k.get("Integer")["$==="](this))===A||b.$$is_boolean&&1!=b?l(this,d):a.find_super_dispatcher(this,"quo",y,g).apply(this,f)});a.defn(g,"$rationalize",function(d){var f,b=A,g=A;1<arguments.length&&this.$raise(k.get("ArgumentError"),"wrong number of arguments ("+
arguments.length+" for 0..1)");if((f=k.get("Integer")["$==="](this))===A||f.$$is_boolean&&1!=f){if((f=this["$infinite?"]())===A||f.$$is_boolean&&1!=f){if((f=this["$nan?"]())===A||f.$$is_boolean&&1!=f){if((f=null==d)===A||f.$$is_boolean&&1!=f)return this.$to_r().$rationalize(d);f=a.to_ary(k.get("Math").$frexp(this));b=null==f[0]?A:f[0];g=null==f[1]?A:f[1];b=k.get("Math").$ldexp(b,k.get("Float").$$scope.get("MANT_DIG")).$to_i();g=h(g,k.get("Float").$$scope.get("MANT_DIG"));return k.get("Rational").$new(e(2,
b),1["$<<"](h(1,g))).$rationalize(k.get("Rational").$new(1,1["$<<"](h(1,g))))}return this.$raise(k.get("FloatDomainError"),"NaN")}return this.$raise(k.get("FloatDomainError"),"Infinity")}return k.get("Rational").$new(this,1)});a.defn(g,"$round",function(d){var f,b,g=A;if((f=k.get("Integer")["$==="](this))===A||f.$$is_boolean&&1!=f){(f=(b=this["$nan?"](),!1!==b&&b!==A?null==d:b))===A||f.$$is_boolean&&1!=f||this.$raise(k.get("FloatDomainError"),"NaN");d=k.get("Opal")["$coerce_to!"](d||0,k.get("Integer"),
"to_int");if("number"===typeof d?0>=d:d["$<="](0))(f=this["$nan?"]())===A||f.$$is_boolean&&1!=f?(f=this["$infinite?"]())===A||f.$$is_boolean&&1!=f||this.$raise(k.get("FloatDomainError"),"Infinity"):this.$raise(k.get("RangeError"),"NaN");else{if(d["$=="](0))return Math.round(this);if((f=!1!==(b=this["$nan?"]())&&b!==A?b:this["$infinite?"]())!==A&&(!f.$$is_boolean||1==f))return this}f=a.to_ary(k.get("Math").$frexp(this));var g=null==f[1]?A:f[1],e=h(m(k.get("Float").$$scope.get("DIG"),2),n(g,0)?l(g,
4):h(l(g,3),1));return("number"===typeof d&&"number"===typeof e?d>=e:d["$>="](e))?this:q(d,(n(g,0)?m(l(g,3),1):l(g,4))["$-@"]())?0:Math.round(this*Math.pow(10,d))/Math.pow(10,d)}if((f=null==d)!==A&&(!f.$$is_boolean||1==f))return this;(f=(b=k.get("Float")["$==="](d),!1!==b&&b!==A?d["$infinite?"]():b))===A||f.$$is_boolean&&1!=f||this.$raise(k.get("RangeError"),"Infinity");d=k.get("Opal")["$coerce_to!"](d,k.get("Integer"),"to_int");q(d,k.get("Integer").$$scope.get("MIN"))&&this.$raise(k.get("RangeError"),
"out of bounds");if((f=0<=d)!==A&&(!f.$$is_boolean||1==f))return this;d=d["$-@"]();if(.415241*d-.125>this.$size())return 0;d=Math.pow(10,d);e=Math.floor((Math.abs(e)+d/2)/d)*d;return 0>this?-e:e});a.defn(g,"$step",E=function(a,d){var f,b=E.$$p||A;null==d&&(d=1);E.$$p=null;if(!1===b||b===A)return this.$enum_for("step",a,d);(f=0==d)===A||f.$$is_boolean&&1!=f||this.$raise(k.get("ArgumentError"),"step cannot be 0");f=this;if(Infinity===a||-Infinity===a)return b(f),this;if(0<d)for(;f<=a;)b(f),f+=d;else for(;f>=
a;)b(f),f+=d;return this});a.alias(g,"succ","next");a.defn(g,"$times",B=function(){var a=B.$$p||A;B.$$p=null;if(!1===a||a===A)return this.$enum_for("times");for(var d=0;d<this;d++)if(a(d)===b)return b.$v;return this});a.defn(g,"$to_f",function(){return this});a.defn(g,"$to_i",function(){return parseInt(this,10)});a.alias(g,"to_int","to_i");a.defn(g,"$to_r",function(){var d,f=A,b=A;return(d=k.get("Integer")["$==="](this))===A||d.$$is_boolean&&1!=d?(d=a.to_ary(k.get("Math").$frexp(this)),f=null==d[0]?
A:d[0],b=null==d[1]?A:d[1],f=k.get("Math").$ldexp(f,k.get("Float").$$scope.get("MANT_DIG")).$to_i(),b=h(b,k.get("Float").$$scope.get("MANT_DIG")),e(f,k.get("Float").$$scope.get("RADIX")["$**"](b)).$to_r()):k.get("Rational").$new(this,1)});a.defn(g,"$to_s",function(a){var d,f;null==a&&(a=10);(d=!1!==(f=q(a,2))&&f!==A?f:n(a,36))===A||d.$$is_boolean&&1!=d||this.$raise(k.get("ArgumentError"),"base must be between 2 and 36");return this.toString(a)});a.alias(g,"truncate","to_i");a.alias(g,"inspect","to_s");
a.defn(g,"$divmod",J=function(d){var f=w.call(arguments,0),b,g,e=J.$$p;J.$$p=null;return(b=!1!==(g=this["$nan?"]())&&g!==A?g:d["$nan?"]())===A||b.$$is_boolean&&1!=b?(b=this["$infinite?"]())===A||b.$$is_boolean&&1!=b?a.find_super_dispatcher(this,"divmod",J,e).apply(this,f):this.$raise(k.get("FloatDomainError"),"Infinity"):this.$raise(k.get("FloatDomainError"),"NaN")});a.defn(g,"$upto",F=function(a){var d,f,g=F.$$p||A;F.$$p=null;if(g===A)return(d=this.$enum_for,d.$$p=(f=function(){var d=f.$$s||this,
b;((b=k.get("Numeric")["$==="](a))===A||b.$$is_boolean&&1!=b)&&d.$raise(k.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed");return q(a,d)?0:m(h(a,d),1)},f.$$s=this,f),d).call(this,"upto",a);a.$$is_number||this.$raise(k.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(d=this;d<=a;d++)if(g(d)===b)return b.$v;return this});a.defn(g,"$zero?",function(){return 0==this});a.defn(g,"$size",function(){return 4});a.defn(g,"$nan?",function(){return isNaN(this)});
a.defn(g,"$finite?",function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)});a.defn(g,"$infinite?",function(){return Infinity==this?1:-Infinity==this?-1:A});a.defn(g,"$positive?",function(){return Infinity==this||0<1/this});return(a.defn(g,"$negative?",function(){return-Infinity==this||0>1/this}),A)&&"negative?"})(a.base,a.get("Numeric"));a.cdecl(a,"Fixnum",a.get("Number"));(function(b,$super){function e(){}var g=e=x(b,$super,"Integer",e),k=g.$$scope;a.defs(g,"$===",function(a){return a.$$is_number?
0===a%1:!1});a.cdecl(k,"MAX",Math.pow(2,30)-1);return a.cdecl(k,"MIN",-Math.pow(2,30))})(a.base,a.get("Numeric"));return function(b,$super){function e(){}var g=e=x(b,$super,"Float",e),k=g.$$scope,c;a.defs(g,"$===",function(a){return!!a.$$is_number});a.cdecl(k,"INFINITY",Infinity);a.cdecl(k,"MAX",Number.MAX_VALUE);a.cdecl(k,"MIN",Number.MIN_VALUE);a.cdecl(k,"NAN",NaN);a.cdecl(k,"DIG",15);a.cdecl(k,"MANT_DIG",53);a.cdecl(k,"RADIX",2);return(c="undefined"!==typeof Number.EPSILON)===A||c.$$is_boolean&&
1!=c?a.cdecl(k,"EPSILON",2.220446049250313E-16):a.cdecl(k,"EPSILON",Number.EPSILON)}(a.base,a.get("Numeric"))};
Opal.modules["corelib/range"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="warning";var m=a.top,h=a.nil,l=a.breaker,e=a.slice,c=a.klass;a.add_stubs("$require $include $attr_reader $<=> $raise $include? $<= $< $enum_for $succ $! $== $=== $exclude_end? $eql? $begin $end $- $abs $to_i $inspect".split(" "));m.$require("corelib/enumerable");return function(m,
$super){function w(){}var x=w=c(m,$super,"Range",w),u=x.$$proto,p=x.$$scope,r,g,k;u.begin=u.exclude=u.end=h;x.$include(p.get("Enumerable"));u.$$is_range=!0;x.$attr_reader("begin","end");a.defn(x,"$initialize",function(a,g,k){var f;null==k&&(k=!1);((f=a["$<=>"](g))===h||f.$$is_boolean&&1!=f)&&this.$raise(p.get("ArgumentError"));this.begin=a;this.end=g;return this.exclude=k});a.defn(x,"$==",function(a){return a.$$is_range?this.exclude===a.exclude&&this.begin==a.begin&&this.end==a.end:!1});a.defn(x,
"$===",function(a){return this["$include?"](a)});a.defn(x,"$cover?",function(a){var g;return n(this.begin,a)?(g=this.exclude)===h||g.$$is_boolean&&1!=g?n(a,this.end):q(a,this.end):n(this.begin,a)});a.defn(x,"$each",r=function(){var g,k,e=r.$$p||h,f=h,d=h;r.$$p=null;if(e===h)return this.$enum_for("each");f=this.begin;for(d=this.end;q(f,d);){if(a.yield1(e,f)===l)return l.$v;f=f.$succ()}return(g=(k=this.exclude["$!"](),!1!==k&&k!==h?f["$=="](d):k))===h||g.$$is_boolean&&1!=g||a.yield1(e,f)!==l?this:l.$v});
a.defn(x,"$eql?",function(a){var g,k;return(g=p.get("Range")["$==="](a))===h||g.$$is_boolean&&1!=g?!1:(g=(k=this.exclude["$==="](a["$exclude_end?"]()),!1!==k&&k!==h?this.begin["$eql?"](a.$begin()):k),!1!==g&&g!==h?this.end["$eql?"](a.$end()):g)});a.defn(x,"$exclude_end?",function(){return this.exclude});a.alias(x,"first","begin");a.alias(x,"include?","cover?");a.alias(x,"last","end");a.defn(x,"$max",g=function(){var k=e.call(arguments,0),c=g.$$p,p=c||h;g.$$p=null;return p!==h?a.find_super_dispatcher(this,
"max",g,c).apply(this,k):this.exclude?this.end-1:this.end});a.alias(x,"member?","cover?");a.defn(x,"$min",k=function(){var g=e.call(arguments,0),c=k.$$p,p=c||h;k.$$p=null;return p!==h?a.find_super_dispatcher(this,"min",k,c).apply(this,g):this.begin});a.alias(x,"member?","include?");a.defn(x,"$size",function(){var a,g,k=h,f=h,d=h,k=this.begin,f=this.end;(a=this.exclude)===h||a.$$is_boolean&&1!=a||(f="number"===typeof f?f-1:f["$-"](1));if((a=(g=p.get("Numeric")["$==="](k),!1!==g&&g!==h?p.get("Numeric")["$==="](f):
g))===h||a.$$is_boolean&&1!=a)return h;if(q(f,k))return 0;d=p.get("Float").$$scope.get("INFINITY");return(a=!1!==(g=d["$=="](k.$abs()))&&g!==h?g:f.$abs()["$=="](d))===h||a.$$is_boolean&&1!=a?(Math.abs(f-k)+1).$to_i():d});a.defn(x,"$step",function(a){return this.$raise(p.get("NotImplementedError"))});a.defn(x,"$to_s",function(){return this.begin.$inspect()+(this.exclude?"...":"..")+this.end.$inspect()});return a.alias(x,"inspect","to_s")}(a.base,null)};
Opal.modules["corelib/proc"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.breaker,m=a.slice,h=a.klass;a.add_stubs(["$raise","$coerce_to!"]);return function(l,$super){function c(){}var A=c=h(l,$super,"Proc",c),b=A.$$proto,w=A.$$scope,x,u;b.$$is_proc=!0;b.$$is_lambda=!1;a.defs(A,"$new",x=function(){var a=x.$$p||n;x.$$p=null;!1!==a&&a!==n||this.$raise(w.get("ArgumentError"),"tried to create a Proc object without a block");return a});a.defn(A,"$call",u=function(){var b=u.$$p||n,c=
arguments.length-0;0>c&&(c=0);for(var g=Array(c),k=0;k<c;k++)g[k]=arguments[k+0];u.$$p=null;b!==n&&(this.$$p=b);b=this.$$is_lambda?this.apply(null,g):a.yieldX(this,g);return b===q?q.$v:b});a.alias(A,"[]","call");a.alias(A,"===","call");a.alias(A,"yield","call");a.defn(A,"$to_proc",function(){return this});a.defn(A,"$lambda?",function(){return!!this.$$is_lambda});a.defn(A,"$arity",function(){return this.$$is_curried?-1:this.$$arity?this.$$arity:this.length});a.defn(A,"$source_location",function(){return n});
a.defn(A,"$binding",function(){this.$$is_curried&&this.$raise(w.get("ArgumentError"),"Can't create Binding");return n});a.defn(A,"$parameters",function(){return this.$$is_curried?[["rest"]]:n});a.defn(A,"$curry",function(a){function b(){var k=m.call(arguments),c=k.length;c>a&&g.$$is_lambda&&!g.$$is_curried&&g.$raise(w.get("ArgumentError"),"wrong number of arguments ("+c+" for "+a+")");if(c>=a)return g.$call.apply(g,k);c=function(){return b.apply(null,k.concat(m.call(arguments)))};c.$$is_lambda=g.$$is_lambda;
c.$$is_curried=!0;return c}var g=this;void 0===a?a=g.length:(a=w.get("Opal")["$coerce_to!"](a,w.get("Integer"),"to_int"),g.$$is_lambda&&a!==g.length&&g.$raise(w.get("ArgumentError"),"wrong number of arguments ("+a+" for "+g.length+")"));b.$$is_lambda=g.$$is_lambda;b.$$is_curried=!0;return b});a.defn(A,"$dup",function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},g;for(g in this)this.hasOwnProperty(g)&&(b[g]=this[g]);return b});return a.alias(A,"clone","dup")}(a.base,
Function)};
Opal.modules["corelib/method"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.slice,m=a.klass;a.add_stubs(["$attr_reader","$class","$arity","$new","$name"]);(function(h,$super){function e(){}var c=e=m(h,$super,"Method",e),A=c.$$proto,b=c.$$scope,w;A.method=A.receiver=A.owner=A.name=n;c.$attr_reader("owner","receiver","name");a.defn(c,"$initialize",function(a,b,e){this.receiver=a;this.owner=a.$class();this.name=e;return this.method=b});a.defn(c,"$arity",function(){return this.method.$arity()});a.defn(c,
"$call",w=function(){var a=w.$$p||n,b=arguments.length-0;0>b&&(b=0);for(var e=Array(b),c=0;c<b;c++)e[c]=arguments[c+0];w.$$p=null;this.method.$$p=a;return this.method.apply(this.receiver,e)});a.alias(c,"[]","call");a.defn(c,"$unbind",function(){return b.get("UnboundMethod").$new(this.owner,this.method,this.name)});a.defn(c,"$to_proc",function(){var a=this,b=function(){return a.$call.apply(a,q.call(arguments))};b.$$unbound=a.method;b.$$is_lambda=!0;return b});return(a.defn(c,"$inspect",function(){return"#<Method: "+
this.receiver.$class()+"#"+this.name+">"}),n)&&"inspect"})(a.base,null);return function(h,$super){function e(){}var c=e=m(h,$super,"UnboundMethod",e),q=c.$$proto,b=c.$$scope;q.method=q.name=q.owner=n;c.$attr_reader("owner","name");a.defn(c,"$initialize",function(a,b,e){this.owner=a;this.method=b;return this.name=e});a.defn(c,"$arity",function(){return this.method.$arity()});a.defn(c,"$bind",function(a){return b.get("Method").$new(a,this.method,this.name)});return(a.defn(c,"$inspect",function(){return"#<UnboundMethod: "+
this.owner.$name()+"#"+this.name+">"}),n)&&"inspect"}(a.base,null)};Opal.modules["corelib/variables"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.gvars,m=a.hash2;a.add_stubs(["$new"]);q["&"]=q["~"]=q["`"]=q["'"]=n;q.LOADED_FEATURES=q['"']=a.loaded_features;q.LOAD_PATH=q[":"]=[];q["/"]="\n";q[","]=n;a.cdecl(a,"ARGV",[]);a.cdecl(a,"ARGF",a.get("Object").$new());a.cdecl(a,"ENV",m([],{}));q.VERBOSE=!1;q.DEBUG=!1;return q.SAFE=0};
Opal.modules["opal/mini"]=function(a){a.dynamic_require_severity="warning";var n=a.top;a.add_stubs(["$require"]);n.$require("opal/base");n.$require("corelib/nil");n.$require("corelib/boolean");n.$require("corelib/string");n.$require("corelib/comparable");n.$require("corelib/enumerable");n.$require("corelib/enumerator");n.$require("corelib/array");n.$require("corelib/hash");n.$require("corelib/number");n.$require("corelib/range");n.$require("corelib/proc");n.$require("corelib/method");n.$require("corelib/regexp");
return n.$require("corelib/variables")};
Opal.modules["corelib/array/inheritance"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.slice,m=a.klass;a.add_stubs("$new $allocate $initialize $to_proc $__send__ $clone $respond_to? $== $eql? $inspect $hash $* $class $slice $uniq $flatten $- $+".split(" "));(function(h,$super){function e(){}var c=e=m(h,$super,"Array",e),q=c.$$scope;return(a.defs(c,"$inherited",function(a){var e=n,e=q.get("Class").$new(q.get("Array").$$scope.get("Wrapper"));a.$$proto=e.$$proto;a.$$proto.$$class=
a;a.$$alloc=e.$$alloc;a.$$parent=q.get("Array").$$scope.get("Wrapper");a.$allocate=e.$allocate;a.$new=e.$new;a["$[]"]=e["$[]"]}),n)&&"inherited"})(a.base,null);return function(h,$super){function e(){}var c=e=m(h,$super,"Wrapper",e),A=c.$$proto,b=c.$$scope,w,x,u,p,r;A.literal=n;A.$$is_array=!0;a.defs(c,"$allocate",w=function(b){var k=n;null==b&&(b=[]);w.$$p=null;k=a.find_super_dispatcher(this,"allocate",w,null,e).apply(this,[]);k.literal=b;return k});a.defs(c,"$new",x=function(){var b,k,e=x.$$p||n,
c=n,c=arguments.length-0;0>c&&(c=0);for(var h=Array(c),f=0;f<c;f++)h[f]=arguments[f+0];x.$$p=null;c=this.$allocate();(b=(k=c).$initialize,b.$$p=e.$to_proc(),b).apply(k,a.to_a(h));return c});a.defs(c,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),e=0;e<a;e++)b[e]=arguments[e+0];return this.$allocate(b)});a.defn(c,"$initialize",u=function(){var g,k,e=u.$$p||n,c=arguments.length-0;0>c&&(c=0);for(var h=Array(c),f=0;f<c;f++)h[f]=arguments[f+0];u.$$p=null;return this.literal=(g=
(k=b.get("Array")).$new,g.$$p=e.$to_proc(),g).apply(k,a.to_a(h))});a.defn(c,"$method_missing",p=function(){var b,k,e=p.$$p||n,c=n,c=arguments.length-0;0>c&&(c=0);for(var h=Array(c),f=0;f<c;f++)h[f]=arguments[f+0];p.$$p=null;c=(b=(k=this.literal).$__send__,b.$$p=e.$to_proc(),b).apply(k,a.to_a(h));return(b=c===this.literal)===n||b.$$is_boolean&&1!=b?c:this});a.defn(c,"$initialize_copy",function(a){return this.literal=a.literal.$clone()});a.defn(c,"$respond_to?",r=function(b){var k=q.call(arguments,
0),e,c=r.$$p;r.$$p=null;return!1!==(e=a.find_super_dispatcher(this,"respond_to?",r,c).apply(this,k))&&e!==n?e:this.literal["$respond_to?"](b)});a.defn(c,"$==",function(a){return this.literal["$=="](a)});a.defn(c,"$eql?",function(a){return this.literal["$eql?"](a)});a.defn(c,"$to_a",function(){return this.literal});a.defn(c,"$to_ary",function(){return this});a.defn(c,"$inspect",function(){return this.literal.$inspect()});a.defn(c,"$hash",function(){return this.literal.$hash()});a.defn(c,"$*",function(a){var b=
this.literal;a="number"===typeof b&&"number"===typeof a?b*a:b["$*"](a);return a.$$is_array?this.$class().$allocate(a):a});a.defn(c,"$[]",function(a,b){var e=this.literal.$slice(a,b);return e.$$is_array&&(a.$$is_range||void 0!==b)?this.$class().$allocate(e):e});a.alias(c,"slice","[]");a.defn(c,"$uniq",function(){return this.$class().$allocate(this.literal.$uniq())});a.defn(c,"$flatten",function(a){return this.$class().$allocate(this.literal.$flatten(a))});a.defn(c,"$-",function(a){var b=this.literal;
return"number"===typeof b&&"number"===typeof a?b-a:b["$-"](a)});return(a.defn(c,"$+",function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)}),n)&&"+"}(a.get("Array"),null)};
Opal.modules["corelib/string/inheritance"]=function(a){a.dynamic_require_severity="warning";var n=a.top,q=a.nil,m=a.slice,h=a.klass,l=a.gvars;a.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $inspect $+ $* $map $split $enum_for $each_line $to_a $%".split(" "));n.$require("corelib/string");(function(e,$super){function l(){}var b=l=h(e,$super,"String",l),m=b.$$scope;return(a.defs(b,"$inherited",function(a){var b=q,b=m.get("Class").$new(m.get("String").$$scope.get("Wrapper"));
a.$$proto=b.$$proto;a.$$proto.$$class=a;a.$$alloc=b.$$alloc;a.$$parent=m.get("String").$$scope.get("Wrapper");a.$allocate=b.$allocate;a.$new=b.$new}),q)&&"inherited"})(a.base,null);return function(e,$super){function n(){}var b=n=h(e,$super,"Wrapper",n),w=b.$$proto,x,u,p,r,g,k;w.literal=q;w.$$is_string=!0;a.defs(b,"$allocate",x=function(b){var g=q;null==b&&(b="");x.$$p=null;g=a.find_super_dispatcher(this,"allocate",x,null,n).apply(this,[]);g.literal=b;return g});a.defs(b,"$new",u=function(){var b,
g,e=u.$$p||q,f=q,f=arguments.length-0;0>f&&(f=0);for(var d=Array(f),k=0;k<f;k++)d[k]=arguments[k+0];u.$$p=null;f=this.$allocate();(b=(g=f).$initialize,b.$$p=e.$to_proc(),b).apply(g,a.to_a(d));return f});a.defs(b,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),g=0;g<a;g++)b[g]=arguments[g+0];return this.$allocate(b)});a.defn(b,"$initialize",function(a){null==a&&(a="");return this.literal=a});a.defn(b,"$method_missing",p=function(){var b,g,e=p.$$p||q,f=q,f=arguments.length-0;
0>f&&(f=0);for(var d=Array(f),k=0;k<f;k++)d[k]=arguments[k+0];p.$$p=null;f=(b=(g=this.literal).$__send__,b.$$p=e.$to_proc(),b).apply(g,a.to_a(d));return(b=null!=f.$$is_string)===q||b.$$is_boolean&&1!=b?f:(b=f==this.literal)===q||b.$$is_boolean&&1!=b?this.$class().$allocate(f):this});a.defn(b,"$initialize_copy",function(a){return this.literal=a.literal.$clone()});a.defn(b,"$respond_to?",r=function(b){var g=m.call(arguments,0),e,f=r.$$p;r.$$p=null;return!1!==(e=a.find_super_dispatcher(this,"respond_to?",
r,f).apply(this,g))&&e!==q?e:this.literal["$respond_to?"](b)});a.defn(b,"$==",function(a){return this.literal["$=="](a)});a.alias(b,"eql?","==");a.alias(b,"===","==");a.defn(b,"$to_s",function(){return this.literal});a.alias(b,"to_str","to_s");a.defn(b,"$inspect",function(){return this.literal.$inspect()});a.defn(b,"$+",function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)});a.defn(b,"$*",function(a){var b=this.literal;a="number"===typeof b&&"number"===typeof a?
b*a:b["$*"](a);return a.$$is_string?this.$class().$allocate(a):a});a.defn(b,"$split",function(a,b){var g,f,d;return(g=(f=this.literal.$split(a,b)).$map,g.$$p=(d=function(a){var f=d.$$s||this;null==a&&(a=q);return f.$class().$allocate(a)},d.$$s=this,d),g).call(f)});a.defn(b,"$replace",function(a){return this.literal=a});a.defn(b,"$each_line",g=function(b){var e,k,f,d=g.$$p||q;null==l["/"]&&(l["/"]=q);null==b&&(b=l["/"]);g.$$p=null;return d===q?this.$enum_for("each_line",b):(e=(k=this.literal).$each_line,
e.$$p=(f=function(b){var g=f.$$s||this,e;null==b&&(b=q);return e=a.yield1(d,g.$class().$allocate(b)),e},f.$$s=this,f),e).call(k,b)});a.defn(b,"$lines",k=function(a){var b,g=k.$$p||q,f=q;null==l["/"]&&(l["/"]=q);null==a&&(a=l["/"]);k.$$p=null;f=(b=this.$each_line,b.$$p=g.$to_proc(),b).call(this,a);return!1!==g&&g!==q?this:f.$to_a()});return(a.defn(b,"$%",function(a){return this.literal["$%"](a)}),q)&&"%"}(a.get("String"),null)};
Opal.modules["corelib/string/encoding"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var q,m,h,l,e,c,A,b=a.top,w=a.nil,x=a.breaker,u=a.klass,p=a.hash2;a.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $upcase $const_get $=== $== $name $include? $names $constants $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $nil? $getbyte".split(" "));
b.$require("corelib/string");(function(b,$super){function e(){}var c=e=u(b,$super,"Encoding",e),h=c.$$proto,l=c.$$scope,f;h.ascii=h.dummy=h.name=w;a.defs(c,"$register",f=function(a,b){var e,k,c,t,h=f.$$p||w,D=w,C=w;null==b&&(b=p([],{}));f.$$p=null;D=n([a],!1!==(e=b["$[]"]("aliases"))&&e!==w?e:[]);C=(e=(k=l.get("Class")).$new,e.$$p=h.$to_proc(),e).call(k,this).$new(a,D,!1!==(e=b["$[]"]("ascii"))&&e!==w?e:!1,!1!==(e=b["$[]"]("dummy"))&&e!==w?e:!1);return(e=(c=D).$each,e.$$p=(t=function(a){var d=t.$$s||
this;null==a&&(a=w);return d.$const_set(a.$sub("-","_"),C)},t.$$s=this,t),e).call(c)});a.defs(c,"$find",function(d){try{var f,b,e,k=w,k=d.$upcase();(f=(b=this.$constants()).$each,f.$$p=(e=function(d){var f=e.$$s||this,b,c,y=w;null==d&&(d=w);y=f.$const_get(d);if((b=l.get("Encoding")["$==="](y))===w||b.$$is_boolean&&1!=b||(b=!1!==(c=y.$name()["$=="](k))&&c!==w?c:y.$names()["$include?"](k))===w||b.$$is_boolean&&1!=b)return w;a.ret(y)},e.$$s=this,e),f).call(b);return this.$raise(l.get("ArgumentError"),
"unknown encoding name - "+d)}catch(c){if(c===a.returner)return c.$v;throw c;}});(function(a){return a.$attr_accessor("default_external")})(a.get_singleton_class(c));c.$attr_reader("name","names");a.defn(c,"$initialize",function(a,f,b,e){this.name=a;this.names=f;this.ascii=b;return this.dummy=e});a.defn(c,"$ascii_compatible?",function(){return this.ascii});a.defn(c,"$dummy?",function(){return this.dummy});a.defn(c,"$to_s",function(){return this.name});a.defn(c,"$inspect",function(){var a;return"#<Encoding:"+
this.name+((a=this.dummy)===w||a.$$is_boolean&&1!=a?w:" (dummy)")+">"});a.defn(c,"$each_byte",function(){return this.$raise(l.get("NotImplementedError"))});a.defn(c,"$getbyte",function(){return this.$raise(l.get("NotImplementedError"))});a.defn(c,"$bytesize",function(){return this.$raise(l.get("NotImplementedError"))});(function(a,$super){function f(){}f=u(a,$super,"EncodingError",f);return w})(l.base,l.get("StandardError"));return function(a,$super){function f(){}f=u(a,$super,"CompatibilityError",
f);return w}(l.base,l.get("EncodingError"))})(a.base,null);(q=(m=a.get("Encoding")).$register,q.$$p=(h=function(){var b=h.$$s||this,g;a.def(b,"$each_byte",g=function(b){var e,c=g.$$p||w;g.$$p=null;for(var h=0,f=b.length;h<f;h++){var d=b.charCodeAt(h);if(127>=d)(e=a.yield1(c,d))===x?x.$v:e;else for(var d=encodeURIComponent(b.charAt(h)).substr(1).split("%"),y=0,p=d.length;y<p;y++)(e=a.yield1(c,parseInt(d[y],16)))===x?x.$v:e}});return(a.def(b,"$bytesize",function(){return this.$bytes().$length()}),w)&&
"bytesize"},h.$$s=b,h),q).call(m,"UTF-8",p(["aliases","ascii"],{aliases:["CP65001"],ascii:!0}));(q=(l=a.get("Encoding")).$register,q.$$p=(e=function(){var b=e.$$s||this,g;a.def(b,"$each_byte",g=function(b){var e,c=g.$$p||w;g.$$p=null;for(var h=0,f=b.length;h<f;h++){var d=b.charCodeAt(h);(e=a.yield1(c,d&255))===x?x.$v:e;(e=a.yield1(c,d>>8))===x?x.$v:e}});return(a.def(b,"$bytesize",function(){return this.$bytes().$length()}),w)&&"bytesize"},e.$$s=b,e),q).call(l,"UTF-16LE");(q=(c=a.get("Encoding")).$register,
q.$$p=(A=function(){var b=A.$$s||this,g;a.def(b,"$each_byte",g=function(b){var e,c=g.$$p||w;g.$$p=null;for(var h=0,f=b.length;h<f;h++)(e=a.yield1(c,b.charCodeAt(h)&255))===x?x.$v:e});return(a.def(b,"$bytesize",function(){return this.$bytes().$length()}),w)&&"bytesize"},A.$$s=b,A),q).call(c,"ASCII-8BIT",p(["aliases","ascii"],{aliases:["BINARY"],ascii:!0}));return function(b,$super){function e(){}var c=e=u(b,$super,"String",e),h=c.$$scope,p;c.$$proto.encoding=w;String.prototype.encoding=h.get("Encoding").$$scope.get("UTF_16LE");
a.defn(c,"$bytes",function(){return this.$each_byte().$to_a()});a.defn(c,"$bytesize",function(){return this.encoding.$bytesize(this)});a.defn(c,"$each_byte",p=function(){var a,d,b=p.$$p||w;p.$$p=null;if(b===w)return this.$enum_for("each_byte");(a=(d=this.encoding).$each_byte,a.$$p=b.$to_proc(),a).call(d,this);return this});a.defn(c,"$encode",function(a){return this.$dup().$force_encoding(a)});a.defn(c,"$encoding",function(){return this.encoding});a.defn(c,"$force_encoding",function(a){var d;a=h.get("Opal")["$coerce_to!"](a,
h.get("String"),"to_str");a=h.get("Encoding").$find(a);if(a["$=="](this.encoding))return this;(d=a["$nil?"]())===w||d.$$is_boolean&&1!=d||this.$raise(h.get("ArgumentError"),"unknown encoding name - "+a);d=new String(this);d.encoding=a;return d});return(a.defn(c,"$getbyte",function(a){return this.encoding.$getbyte(this,a)}),w)&&"getbyte"}(a.base,null)};
Opal.modules["corelib/math"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.module;a.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(m){m=q(m,"Math");var h=m.$$scope,l;a.cdecl(h,"E",Math.E);a.cdecl(h,"PI",Math.PI);a.cdecl(h,"DomainError",h.get("Class").$new(h.get("StandardError")));a.defs(m,"$checked",function(a){var c=arguments.length-1;0>c&&(c=0);for(var l=Array(c),b=0;b<c;b++)l[b]=
arguments[b+1];if(isNaN(l[0])||2==l.length&&isNaN(l[1]))return NaN;c=Math[a].apply(null,l);isNaN(c)&&this.$raise(h.get("DomainError"),'Numerical argument is out of domain - "'+a+'"');return c});a.defs(m,"$float!",function(e){try{return this.$Float(e)}catch(c){if(a.rescue(c,[h.get("ArgumentError")]))try{return this.$raise(h.get("Opal").$type_error(e,h.get("Float")))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw c;}});a.defs(m,"$integer!",function(e){try{return this.$Integer(e)}catch(c){if(a.rescue(c,
[h.get("ArgumentError")]))try{return this.$raise(h.get("Opal").$type_error(e,h.get("Integer")))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw c;}});m.$module_function();a.defn(m,"$acos",function(a){return h.get("Math").$checked("acos",h.get("Math")["$float!"](a))});if((l="undefined"!==typeof Math.acosh)===n||l.$$is_boolean&&1!=l)Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))};a.defn(m,"$acosh",function(a){return h.get("Math").$checked("acosh",h.get("Math")["$float!"](a))});
a.defn(m,"$asin",function(a){return h.get("Math").$checked("asin",h.get("Math")["$float!"](a))});if((l="undefined"!==typeof Math.asinh)===n||l.$$is_boolean&&1!=l)Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))};a.defn(m,"$asinh",function(a){return h.get("Math").$checked("asinh",h.get("Math")["$float!"](a))});a.defn(m,"$atan",function(a){return h.get("Math").$checked("atan",h.get("Math")["$float!"](a))});a.defn(m,"$atan2",function(a,c){return h.get("Math").$checked("atan2",h.get("Math")["$float!"](a),
h.get("Math")["$float!"](c))});if((l="undefined"!==typeof Math.atanh)===n||l.$$is_boolean&&1!=l)Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))};a.defn(m,"$atanh",function(a){return h.get("Math").$checked("atanh",h.get("Math")["$float!"](a))});if((l="undefined"!==typeof Math.cbrt)===n||l.$$is_boolean&&1!=l)Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var c=a,h=0;.125>c;)c*=8,h--;for(;1<c;)c*=.125,h++;for(c=(-.46946116*c+1.072302)*c+.3812513;0>h;)c*=.5,h++;for(;0<h;)c*=
2,h--;c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);return 2/3*c+1/3*a/(c*c)};a.defn(m,"$cbrt",function(a){return h.get("Math").$checked("cbrt",h.get("Math")["$float!"](a))});a.defn(m,"$cos",function(a){return h.get("Math").$checked("cos",h.get("Math")["$float!"](a))});if((l="undefined"!==typeof Math.cosh)===n||l.$$is_boolean&&1!=l)Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2};a.defn(m,"$cosh",function(a){return h.get("Math").$checked("cosh",h.get("Math")["$float!"](a))});
if((l="undefined"!==typeof Math.erf)===n||l.$$is_boolean&&1!=l)Math.erf=function(a){var c=1;0>a&&(c=-1);a=Math.abs(a);var h=1/(1+.3275911*a);return c*(1-((((1.061405429*h+-1.453152027)*h+1.421413741)*h+-.284496736)*h+.254829592)*h*Math.exp(-a*a))};a.defn(m,"$erf",function(a){return h.get("Math").$checked("erf",h.get("Math")["$float!"](a))});if((l="undefined"!==typeof Math.erfc)===n||l.$$is_boolean&&1!=l)Math.erfc=function(a){var c=Math.abs(a),h=1/(.5*c+1),c=h*Math.exp(-c*c-1.26551223+h*(h*(h*(h*(h*
(h*(h*(h*(.17087277*h+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-c:c};a.defn(m,"$erfc",function(a){return h.get("Math").$checked("erfc",h.get("Math")["$float!"](a))});a.defn(m,"$exp",function(a){return h.get("Math").$checked("exp",h.get("Math")["$float!"](a))});a.defn(m,"$frexp",function(a){a=h.get("Math")["$float!"](a);if(isNaN(a))return[NaN,0];var c=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,c),c]});a.defn(m,
"$gamma",function(a){a=h.get("Math")["$float!"](a);var c,l,b,m;b=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(h.get("DomainError"),'Numerical argument is out of domain - "gamma"');
if(h.get("Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;l=a-2;for(--a;1<l;)a*=l,l--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*h.get("Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return l=a*a,c=l*a,b=c*a,m=b*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*l)-139/(51840*c)-571/(2488320*b)+163879/(209018880*m)+5246819/(75246796800*m*a));--a;l=b[0];for(c=1;c<b.length;++c)l+=b[c]/
(a+c);c=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,a+.5)*Math.exp(-c)*l});if((l="undefined"!==typeof Math.hypot)===n||l.$$is_boolean&&1!=l)Math.hypot=function(a,c){return Math.sqrt(a*a+c*c)};a.defn(m,"$hypot",function(a,c){return h.get("Math").$checked("hypot",h.get("Math")["$float!"](a),h.get("Math")["$float!"](c))});a.defn(m,"$ldexp",function(a,c){a=h.get("Math")["$float!"](a);c=h.get("Math")["$integer!"](c);isNaN(c)&&this.$raise(h.get("RangeError"),"float NaN out of range of integer");
return a*Math.pow(2,c)});a.defn(m,"$lgamma",function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(h.get("Math").$gamma(a))),0>h.get("Math").$gamma(a)?-1:1]});a.defn(m,"$log",function(a,c){var l;(l=h.get("String")["$==="](a))===n||l.$$is_boolean&&1!=l||this.$raise(h.get("Opal").$type_error(a,h.get("Float")));if((l=null==c)===n||l.$$is_boolean&&1!=l){(l=h.get("String")["$==="](c))===n||l.$$is_boolean&&1!=l||this.$raise(h.get("Opal").$type_error(c,h.get("Float")));l=h.get("Math").$checked("log",h.get("Math")["$float!"](a));
var b=h.get("Math").$checked("log",h.get("Math")["$float!"](c));return"number"===typeof l&&"number"===typeof b?l/b:l["$/"](b)}return h.get("Math").$checked("log",h.get("Math")["$float!"](a))});if((l="undefined"!==typeof Math.log10)===n||l.$$is_boolean&&1!=l)Math.log10=function(a){return Math.log(a)/Math.LN10};a.defn(m,"$log10",function(a){var c;(c=h.get("String")["$==="](a))===n||c.$$is_boolean&&1!=c||this.$raise(h.get("Opal").$type_error(a,h.get("Float")));return h.get("Math").$checked("log10",h.get("Math")["$float!"](a))});
if((l="undefined"!==typeof Math.log2)===n||l.$$is_boolean&&1!=l)Math.log2=function(a){return Math.log(a)/Math.LN2};a.defn(m,"$log2",function(a){var c;(c=h.get("String")["$==="](a))===n||c.$$is_boolean&&1!=c||this.$raise(h.get("Opal").$type_error(a,h.get("Float")));return h.get("Math").$checked("log2",h.get("Math")["$float!"](a))});a.defn(m,"$sin",function(a){return h.get("Math").$checked("sin",h.get("Math")["$float!"](a))});if((l="undefined"!==typeof Math.sinh)===n||l.$$is_boolean&&1!=l)Math.sinh=
function(a){return(Math.exp(a)-Math.exp(-a))/2};a.defn(m,"$sinh",function(a){return h.get("Math").$checked("sinh",h.get("Math")["$float!"](a))});a.defn(m,"$sqrt",function(a){return h.get("Math").$checked("sqrt",h.get("Math")["$float!"](a))});a.defn(m,"$tan",function(a){var c;a=h.get("Math")["$float!"](a);return(c=a["$infinite?"]())===n||c.$$is_boolean&&1!=c?h.get("Math").$checked("tan",h.get("Math")["$float!"](a)):h.get("Float").$$scope.get("NAN")});if((l="undefined"!==typeof Math.tanh)===n||l.$$is_boolean&&
1!=l)Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))};a.defn(m,"$tanh",function(a){return h.get("Math").$checked("tanh",h.get("Math")["$float!"](a))})}(a.base)};
Opal.modules["corelib/complex"]=function(a){function n(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function m(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}a.dynamic_require_severity="warning";var l=a.top,e=a.nil,c=a.klass,A=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $to_s $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $infinite?".split(" "));
l.$require("corelib/numeric");(function(b,$super){function l(){}var u=l=c(b,$super,"Complex",l),p=u.$$proto,r=u.$$scope;p.real=p.imag=e;a.defs(u,"$rect",function(a,b){var c,h,l,f;null==b&&(b=0);((c=(h=(l=(f=r.get("Numeric")["$==="](a),!1!==f&&f!==e?a["$real?"]():f),!1!==l&&l!==e?r.get("Numeric")["$==="](b):l),!1!==h&&h!==e?b["$real?"]():h))===e||c.$$is_boolean&&1!=c)&&this.$raise(r.get("TypeError"),"not a real");return this.$new(a,b)});(function(b){return a.alias(b,"rectangular","rect")})(a.get_singleton_class(u));
a.defs(u,"$polar",function(a,b){var c,h,l,f;null==b&&(b=0);((c=(h=(l=(f=r.get("Numeric")["$==="](a),!1!==f&&f!==e?a["$real?"]():f),!1!==l&&l!==e?r.get("Numeric")["$==="](b):l),!1!==h&&h!==e?b["$real?"]():h))===e||c.$$is_boolean&&1!=c)&&this.$raise(r.get("TypeError"),"not a real");return this.$new(n(a,r.get("Math").$cos(b)),n(a,r.get("Math").$sin(b)))});u.$attr_reader("real","imag");a.defn(u,"$initialize",function(a,b){null==b&&(b=0);this.real=a;return this.imag=b});a.defn(u,"$coerce",function(a){var b,
c;return(b=r.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==e?a["$real?"]():c))===e||b.$$is_boolean&&1!=b?this.$raise(r.get("TypeError"),""+a.$class()+" can't be coerced into Complex"):[r.get("Complex").$new(a,0),this]:[a,this]});a.defn(u,"$==",function(a){var b,c;return(b=r.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==e?a["$real?"]():c))===e||b.$$is_boolean&&1!=b?a["$=="](this):this.real["$=="](a)?
this.imag["$=="](0):this.real["$=="](a):this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real())});a.defn(u,"$-@",function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())});a.defn(u,"$+",function(a){var b,c;return(b=r.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==e?a["$real?"]():c))===e||b.$$is_boolean&&1!=b?this.$__coerced__("+",a):this.$Complex(q(this.real,a),this.imag):this.$Complex(q(this.real,a.$real()),
q(this.imag,a.$imag()))});a.defn(u,"$-",function(a){var b,c;return(b=r.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==e?a["$real?"]():c))===e||b.$$is_boolean&&1!=b?this.$__coerced__("-",a):this.$Complex(m(this.real,a),this.imag):this.$Complex(m(this.real,a.$real()),m(this.imag,a.$imag()))});a.defn(u,"$*",function(a){var b,c;return(b=r.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==e?a["$real?"]():
c))===e||b.$$is_boolean&&1!=b?this.$__coerced__("*",a):this.$Complex(n(this.real,a),n(this.imag,a)):this.$Complex(m(n(this.real,a.$real()),n(this.imag,a.$imag())),q(n(this.real,a.$imag()),n(this.imag,a.$real())))});a.defn(u,"$/",function(a){var b,c,l,p,f;return(b=r.get("Complex")["$==="](a))===e||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==e?a["$real?"]():c))===e||b.$$is_boolean&&1!=b?this.$__coerced__("/",a):this.$Complex(this.real.$quo(a),this.imag.$quo(a)):(b=!1!==(c=!1!==
(l=!1!==(p=(f=r.get("Number")["$==="](this.real),!1!==f&&f!==e?this.real["$nan?"]():f))&&p!==e?p:(f=r.get("Number")["$==="](this.imag),!1!==f&&f!==e?this.imag["$nan?"]():f))&&l!==e?l:(p=r.get("Number")["$==="](a.$real()),!1!==p&&p!==e?a.$real()["$nan?"]():p))&&c!==e?c:(l=r.get("Number")["$==="](a.$imag()),!1!==l&&l!==e?a.$imag()["$nan?"]():l))===e||b.$$is_boolean&&1!=b?h(n(this,a.$conj()),a.$abs2()):r.get("Complex").$new(r.get("Float").$$scope.get("NAN"),r.get("Float").$$scope.get("NAN"))});a.defn(u,
"$**",function(b){var c,t,l,p,f=e,d=e,y=e,E=e,B=e,E=y=d=f=B=f=e;if(b["$=="](0))return r.get("Complex").$new(1,0);if((c=r.get("Complex")["$==="](b))===e||c.$$is_boolean&&1!=c){if((c=r.get("Integer")["$==="](b))===e||c.$$is_boolean&&1!=c){if((c=!1!==(t=r.get("Float")["$==="](b))&&t!==e?t:r.get("Rational")["$==="](b))===e||c.$$is_boolean&&1!=c)return this.$__coerced__("**",b);c=a.to_ary(this.$polar());f=null==c[0]?e:c[0];d=null==c[1]?e:c[1];return r.get("Complex").$polar(f["$**"](b),n(d,b))}if("number"===
typeof b?0<b:b["$>"](0)){f=B=this;for(d=m(b,1);(t=d["$!="](0))!==e&&(!t.$$is_boolean||1==t);){for(;(l=(p=a.to_ary(d.$divmod(2)),y=null==p[0]?e:p[0],E=null==p[1]?e:p[1],E["$=="](0)))!==e&&(!l.$$is_boolean||1==l);)B=this.$Complex(m(n(B.$real(),B.$real()),n(B.$imag(),B.$imag())),n(n(2,B.$real()),B.$imag())),d=y;f=n(f,B);d=m(d,1)}return f}return h(r.get("Rational").$new(1,1),this)["$**"](b["$-@"]())}c=a.to_ary(this.$polar());f=null==c[0]?e:c[0];d=null==c[1]?e:c[1];y=b.$real();E=b.$imag();B=r.get("Math").$exp(m(n(y,
r.get("Math").$log(f)),n(E,d)));f=q(n(d,y),n(E,r.get("Math").$log(f)));return r.get("Complex").$polar(B,f)});a.defn(u,"$abs",function(){return r.get("Math").$hypot(this.real,this.imag)});a.defn(u,"$abs2",function(){return q(n(this.real,this.real),n(this.imag,this.imag))});a.defn(u,"$angle",function(){return r.get("Math").$atan2(this.imag,this.real)});a.alias(u,"arg","angle");a.defn(u,"$conj",function(){return this.$Complex(this.real,this.imag["$-@"]())});a.alias(u,"conjugate","conj");a.defn(u,"$denominator",
function(){return this.real.$denominator().$lcm(this.imag.$denominator())});a.alias(u,"divide","/");a.defn(u,"$eql?",function(a){var b,c;return b=(c=r.get("Complex")["$==="](a),!1!==c&&c!==e?this.real.$class()["$=="](this.imag.$class()):c),!1!==b&&b!==e?this["$=="](a):b});a.defn(u,"$fdiv",function(a){var b;((b=r.get("Numeric")["$==="](a))===e||b.$$is_boolean&&1!=b)&&this.$raise(r.get("TypeError"),""+a.$class()+" can't be coerced into Complex");return h(this,a)});a.defn(u,"$hash",function(){return"Complex:"+
this.real+":"+this.imag});a.alias(u,"imaginary","imag");a.defn(u,"$inspect",function(){return"("+this.$to_s()+")"});a.alias(u,"magnitude","abs");a.defn(u,"$numerator",function(){var a=e,a=this.$denominator();return this.$Complex(n(this.real.$numerator(),h(a,this.real.$denominator())),n(this.imag.$numerator(),h(a,this.imag.$denominator())))});a.alias(u,"phase","arg");a.defn(u,"$polar",function(){return[this.$abs(),this.$arg()]});a.alias(u,"quo","/");a.defn(u,"$rationalize",function(a){var b;1<arguments.length&&
this.$raise(r.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");(b=this.imag["$!="](0))===e||b.$$is_boolean&&1!=b||this.$raise(r.get("RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)});a.defn(u,"$real?",function(){return!1});a.defn(u,"$rect",function(){return[this.real,this.imag]});a.alias(u,"rectangular","rect");a.defn(u,"$to_f",function(){this.imag["$=="](0)||this.$raise(r.get("RangeError"),"can't convert "+this+" into Float");
return this.real.$to_f()});a.defn(u,"$to_i",function(){this.imag["$=="](0)||this.$raise(r.get("RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()});a.defn(u,"$to_r",function(){this.imag["$=="](0)||this.$raise(r.get("RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()});a.defn(u,"$to_s",function(){var a,b,c,h=e,h=this.real.$inspect(),h=(a=!1!==(b=(c=r.get("Number")["$==="](this.imag),!1!==c&&c!==e?this.imag["$nan?"]():c))&&b!==e?b:this.imag["$positive?"]())===
e||a.$$is_boolean&&1!=a?q(h,"-"):q(h,"+"),h=q(h,this.imag.$abs().$inspect());(a=(b=r.get("Number")["$==="](this.imag),!1!==b&&b!==e?!1!==(c=this.imag["$nan?"]())&&c!==e?c:this.imag["$infinite?"]():b))===e||a.$$is_boolean&&1!=a||(h=q(h,"*"));return q(h,"i")});return a.cdecl(r,"I",u.$new(0,1))})(a.base,a.get("Numeric"));return function(b){b=A(b,"Kernel");var c=b.$$scope;a.defn(b,"$Complex",function(a,b){null==b&&(b=e);return!1!==b&&b!==e?c.get("Complex").$new(a,b):c.get("Complex").$new(a,0)})}(a.base)};
Opal.modules["corelib/rational"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var e=a.top,c=a.nil,A=a.klass,
b=a.module;a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $attr_reader $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $to_s $<= $truncate $send $convert".split(" "));e.$require("corelib/numeric");(function(b,$super){function e(){}var p=e=A(b,$super,"Rational",e),r=p.$$proto,g=p.$$scope;r.num=r.den=c;a.defs(p,"$reduce",function(a,b){var e=c;a=a.$to_i();b=b.$to_i();if(b["$=="](0))this.$raise(g.get("ZeroDivisionError"),
"divided by 0");else if(n(b,0))a=a["$-@"](),b=b["$-@"]();else if(b["$=="](1))return this.$new(a,b);e=a.$gcd(b);return this.$new(q(a,e),q(b,e))});a.defs(p,"$convert",function(a,b){var e,h,f;(e=!1!==(h=a["$nil?"]())&&h!==c?h:b["$nil?"]())===c||e.$$is_boolean&&1!=e||this.$raise(g.get("TypeError"),"cannot convert nil into Rational");if((e=(h=g.get("Integer")["$==="](a),!1!==h&&h!==c?g.get("Integer")["$==="](b):h))!==c&&(!e.$$is_boolean||1==e))return this.$reduce(a,b);(e=!1!==(h=!1!==(f=g.get("Float")["$==="](a))&&
f!==c?f:g.get("String")["$==="](a))&&h!==c?h:g.get("Complex")["$==="](a))===c||e.$$is_boolean&&1!=e||(a=a.$to_r());(e=!1!==(h=!1!==(f=g.get("Float")["$==="](b))&&f!==c?f:g.get("String")["$==="](b))&&h!==c?h:g.get("Complex")["$==="](b))===c||e.$$is_boolean&&1!=e||(b=b.$to_r());return(e=(h=b["$equal?"](1),!1!==h&&h!==c?g.get("Integer")["$==="](a)["$!"]():h))===c||e.$$is_boolean&&1!=e?(e=(h=g.get("Numeric")["$==="](a),!1!==h&&h!==c?g.get("Numeric")["$==="](b):h))===c||e.$$is_boolean&&1!=e?this.$reduce(a,
b):q(a,b):g.get("Opal")["$coerce_to!"](a,g.get("Rational"),"to_r")});p.$attr_reader("numerator","denominator");a.defn(p,"$initialize",function(a,b){this.num=a;return this.den=b});a.defn(p,"$numerator",function(){return this.num});a.defn(p,"$denominator",function(){return this.den});a.defn(p,"$coerce",function(a){var b=c,b=a;return g.get("Rational")["$==="](b)?[a,this]:g.get("Integer")["$==="](b)?[a.$to_r(),this]:g.get("Float")["$==="](b)?[a,this.$to_f()]:c});a.defn(p,"$==",function(a){var b=c,b=a;
return g.get("Rational")["$==="](b)?this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):g.get("Integer")["$==="](b)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):g.get("Float")["$==="](b)?this.$to_f()["$=="](a):a["$=="](this)});a.defn(p,"$<=>",function(a){var b=c,b=a;return g.get("Rational")["$==="](b)?m(h(this.num,a.$denominator()),h(this.den,a.$numerator()))["$<=>"](0):g.get("Integer")["$==="](b)?m(this.num,h(this.den,a))["$<=>"](0):g.get("Float")["$==="](b)?
this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)});a.defn(p,"$+",function(a){var b=c,e=b=c;b=a;g.get("Rational")["$==="](b)?(b=l(h(this.num,a.$denominator()),h(this.den,a.$numerator())),e=h(this.den,a.$denominator()),a=this.$Rational(b,e)):a=g.get("Integer")["$==="](b)?this.$Rational(l(this.num,h(a,this.den)),this.den):g.get("Float")["$==="](b)?l(this.$to_f(),a):this.$__coerced__("+",a);return a});a.defn(p,"$-",function(a){var b=c,e=b=c;b=a;g.get("Rational")["$==="](b)?(b=m(h(this.num,a.$denominator()),
h(this.den,a.$numerator())),e=h(this.den,a.$denominator()),a=this.$Rational(b,e)):a=g.get("Integer")["$==="](b)?this.$Rational(m(this.num,h(a,this.den)),this.den):g.get("Float")["$==="](b)?m(this.$to_f(),a):this.$__coerced__("-",a);return a});a.defn(p,"$*",function(a){var b=c,e=b=c;b=a;g.get("Rational")["$==="](b)?(b=h(this.num,a.$numerator()),e=h(this.den,a.$denominator()),a=this.$Rational(b,e)):a=g.get("Integer")["$==="](b)?this.$Rational(h(this.num,a),this.den):g.get("Float")["$==="](b)?h(this.$to_f(),
a):this.$__coerced__("*",a);return a});a.defn(p,"$/",function(a){var b=c,e=b=c;b=a;g.get("Rational")["$==="](b)?(b=h(this.num,a.$denominator()),e=h(this.den,a.$numerator()),a=this.$Rational(b,e)):a=g.get("Integer")["$==="](b)?a["$=="](0)?q(this.$to_f(),0):this.$Rational(this.num,h(this.den,a)):g.get("Float")["$==="](b)?q(this.$to_f(),a):this.$__coerced__("/",a);return a});a.defn(p,"$**",function(a){var b,e=c,e=a;return g.get("Integer")["$==="](e)?(b=this["$=="](0)?n(a,0):this["$=="](0))===c||b.$$is_boolean&&
1!=b?("number"===typeof a?0<a:a["$>"](0))?this.$Rational(this.num["$**"](a),this.den["$**"](a)):n(a,0)?this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(1,1):g.get("Float").$$scope.get("INFINITY"):g.get("Float")["$==="](e)?this.$to_f()["$**"](a):g.get("Rational")["$==="](e)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?n(a,0)?this.$Rational(this.den["$**"](a.$numerator().$abs()),this.num["$**"](a.$numerator().$abs())):this.$Rational(this.num["$**"](a.$numerator()),
this.den["$**"](a.$numerator())):(b=this["$=="](0)?n(a,0):this["$=="](0))===c||b.$$is_boolean&&1!=b?this.$to_f()["$**"](a):this.$raise(g.get("ZeroDivisionError"),"divided by 0"):this.$__coerced__("**",a)});a.defn(p,"$abs",function(){return this.$Rational(this.num.$abs(),this.den.$abs())});a.defn(p,"$ceil",function(a){null==a&&(a=0);return a["$=="](0)?q(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)});a.alias(p,"divide","/");a.defn(p,"$floor",function(a){null==a&&(a=0);
return a["$=="](0)?q(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",a)});a.defn(p,"$hash",function(){return"Rational:"+this.num+":"+this.den});a.defn(p,"$inspect",function(){return"("+this.$to_s()+")"});a.alias(p,"quo","/");a.defn(p,"$rationalize",function(a){1<arguments.length&&this.$raise(g.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==a)return this;for(var b=a.$abs(),c=m(this,b),b=l(this,b),e=0,f=1,d=1,h=0,p,n,r;;){p=c.$ceil();
if("number"===typeof p&&"number"===typeof b?p<=b:p["$<="](b))break;r=p-1;p=r*f+e;n=r*h+d;e=q(1,m(b,r));b=q(1,m(c,r));c=e;e=f;d=h;f=p;h=n}return this.$Rational(p*f+e,p*h+d)});a.defn(p,"$round",function(a){var b=c,g=c,b=c;null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;b=l(h(this.num.$abs(),2),this.den);g=h(this.den,2);b=q(b,g).$truncate();return n(this.num,0)?b["$-@"]():b});a.defn(p,"$to_f",function(){return q(this.num,
this.den)});a.defn(p,"$to_i",function(){return this.$truncate()});a.defn(p,"$to_r",function(){return this});a.defn(p,"$to_s",function(){return""+this.num+"/"+this.den});a.defn(p,"$truncate",function(a){null==a&&(a=0);return a["$=="](0)?n(this.num,0)?this.$ceil():this.$floor():this.$with_precision("truncate",a)});return(a.defn(p,"$with_precision",function(a,b){var e,l=c,f=c;((e=g.get("Integer")["$==="](b))===c||e.$$is_boolean&&1!=e)&&this.$raise(g.get("TypeError"),"not an Integer");l=10["$**"](b);
f=h(this,l);return n(b,1)?q(f.$send(a),l).$to_i():this.$Rational(f.$send(a),l)}),c)&&"with_precision"})(a.base,a.get("Numeric"));return function(c){c=b(c,"Kernel");var e=c.$$scope;a.defn(c,"$Rational",function(a,b){null==b&&(b=1);return e.get("Rational").$convert(a,b)})}(a.base)};
Opal.modules["corelib/time"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}a.dynamic_require_severity="warning";var l=a.top,e=a.nil,c=a.slice,A=a.klass,b=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
l.$require("corelib/comparable");return function(l,$super){function u(){}function p(a,d,b,c,k,h){a=a.$$is_string?parseInt(a,10):g.get("Opal")["$coerce_to!"](a,g.get("Integer"),"to_int");if(d===e)d=1;else if(!d.$$is_number)if(d["$respond_to?"]("to_str"))switch(d=d.$to_str(),d.toLowerCase()){case "jan":d=1;break;case "feb":d=2;break;case "mar":d=3;break;case "apr":d=4;break;case "may":d=5;break;case "jun":d=6;break;case "jul":d=7;break;case "aug":d=8;break;case "sep":d=9;break;case "oct":d=10;break;
case "nov":d=11;break;case "dec":d=12;break;default:d=d.$to_i()}else d=g.get("Opal")["$coerce_to!"](d,g.get("Integer"),"to_int");(1>d||12<d)&&r.$raise(g.get("ArgumentError"),"month out of range: "+d);--d;b=b===e?1:b.$$is_string?parseInt(b,10):g.get("Opal")["$coerce_to!"](b,g.get("Integer"),"to_int");(1>b||31<b)&&r.$raise(g.get("ArgumentError"),"day out of range: "+b);c=c===e?0:c.$$is_string?parseInt(c,10):g.get("Opal")["$coerce_to!"](c,g.get("Integer"),"to_int");(0>c||24<c)&&r.$raise(g.get("ArgumentError"),
"hour out of range: "+c);k=k===e?0:k.$$is_string?parseInt(k,10):g.get("Opal")["$coerce_to!"](k,g.get("Integer"),"to_int");(0>k||59<k)&&r.$raise(g.get("ArgumentError"),"min out of range: "+k);h===e?h=0:h.$$is_number||(h=h.$$is_string?parseInt(h,10):g.get("Opal")["$coerce_to!"](h,g.get("Integer"),"to_int"));(0>h||60<h)&&r.$raise(g.get("ArgumentError"),"sec out of range: "+h);return[a,d,b,c,k,h]}var r=u=A(l,$super,"Time",u),g=r.$$scope;r.$include(g.get("Comparable"));var k="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
t="Sun Mon Tue Wed Thu Fri Sat".split(" "),C="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),z="January February March April May June July August September October November December".split(" ");a.defs(r,"$at",function(a,d){var b;if(g.get("Time")["$==="](a))return void 0!==d&&this.$raise(g.get("TypeError"),"can't convert Time into an exact number"),b=new Date(a.getTime()),b.is_utc=a.is_utc,b;a.$$is_number||(a=g.get("Opal")["$coerce_to!"](a,g.get("Integer"),"to_int"));if(void 0===d)return new Date(1E3*
a);d.$$is_number||(d=g.get("Opal")["$coerce_to!"](d,g.get("Integer"),"to_int"));return new Date(1E3*a+d/1E3)});a.defs(r,"$new",function(a,d,b,c,k,h,l){null==d&&(d=e);null==b&&(b=e);null==c&&(c=e);null==k&&(k=e);null==h&&(h=e);null==l&&(l=e);if(void 0===a)return new Date;l!==e&&this.$raise(g.get("ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");h=p(a,d,b,c,k,h);a=h[0];d=h[1];b=h[2];c=h[3];k=h[4];h=h[5];d=new Date(a,d,b,c,k,0,1E3*h);100>a&&d.setFullYear(a);return d});
a.defs(r,"$local",function(a,d,b,g,k,h,l,v,D,t){null==d&&(d=e);null==b&&(b=e);null==g&&(g=e);null==k&&(k=e);null==h&&(h=e);null==l&&(l=e);null==v&&(v=e);null==D&&(D=e);null==t&&(t=e);var m;10===arguments.length&&(m=c.call(arguments),a=m[5],d=m[4],b=m[3],g=m[2],k=m[1],h=m[0]);m=p(a,d,b,g,k,h);a=m[0];d=m[1];b=m[2];g=m[3];k=m[4];h=m[5];m=new Date(a,d,b,g,k,0,1E3*h);100>a&&m.setFullYear(a);return m});a.defs(r,"$gm",function(a,d,b,g,k,h,l,v,D,t){null==d&&(d=e);null==b&&(b=e);null==g&&(g=e);null==k&&(k=
e);null==h&&(h=e);null==l&&(l=e);null==v&&(v=e);null==D&&(D=e);null==t&&(t=e);var m;10===arguments.length&&(m=c.call(arguments),a=m[5],d=m[4],b=m[3],g=m[2],k=m[1],h=m[0]);m=p(a,d,b,g,k,h);a=m[0];d=m[1];b=m[2];g=m[3];k=m[4];h=m[5];m=new Date(Date.UTC(a,d,b,g,k,0,1E3*h));100>a&&m.setUTCFullYear(a);m.is_utc=!0;return m});(function(f){a.alias(f,"mktime","local");return a.alias(f,"utc","gm")})(a.get_singleton_class(r));a.defs(r,"$now",function(){return this.$new()});a.defn(r,"$+",function(a){var d;(d=
g.get("Time")["$==="](a))===e||d.$$is_boolean&&1!=d||this.$raise(g.get("TypeError"),"time + time?");a.$$is_number||(a=g.get("Opal")["$coerce_to!"](a,g.get("Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a});a.defn(r,"$-",function(a){var d;if((d=g.get("Time")["$==="](a))!==e&&(!d.$$is_boolean||1==d))return(this.getTime()-a.getTime())/1E3;a.$$is_number||(a=g.get("Opal")["$coerce_to!"](a,g.get("Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;
return a});a.defn(r,"$<=>",function(a){var d,b=e;return(d=g.get("Time")["$==="](a))===e||d.$$is_boolean&&1!=d?(b=a["$<=>"](this),(d=b["$nil?"]())===e||d.$$is_boolean&&1!=d?("number"===typeof b?0<b:b["$>"](0))?-1:("number"===typeof b?0>b:b["$<"](0))?1:0:e):this.$to_f()["$<=>"](a.$to_f())});a.defn(r,"$==",function(a){return this.$to_f()===a.$to_f()});a.defn(r,"$asctime",function(){return this.$strftime("%a %b %e %H:%M:%S %Y")});a.alias(r,"ctime","asctime");a.defn(r,"$day",function(){return this.is_utc?
this.getUTCDate():this.getDate()});a.defn(r,"$yday",function(){var a=e,d=e,b=e,a=g.get("Time").$new(this.$year()).$to_i(),d=g.get("Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),b=86400;return n(q(m(d,a),b).$round(),1)});a.defn(r,"$isdst",function(){var a=new Date(this.getFullYear(),0,1),d=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),d.getTimezoneOffset())});a.alias(r,"dst?","isdst");a.defn(r,"$dup",function(){var a=e,a=new Date(this.getTime());
a.$copy_instance_variables(this);a.$initialize_dup(this);return a});a.defn(r,"$eql?",function(a){var d;return d=a["$is_a?"](g.get("Time")),!1!==d&&d!==e?this["$<=>"](a)["$zero?"]():d});a.defn(r,"$friday?",function(){return 5==this.$wday()});a.defn(r,"$hash",function(){return"Time:"+this.getTime()});a.defn(r,"$hour",function(){return this.is_utc?this.getUTCHours():this.getHours()});a.defn(r,"$inspect",function(){var a;return(a=this["$utc?"]())===e||a.$$is_boolean&&1!=a?this.$strftime("%Y-%m-%d %H:%M:%S %z"):
this.$strftime("%Y-%m-%d %H:%M:%S UTC")});a.alias(r,"mday","day");a.defn(r,"$min",function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()});a.defn(r,"$mon",function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1});a.defn(r,"$monday?",function(){return 1==this.$wday()});a.alias(r,"month","mon");a.defn(r,"$saturday?",function(){return 6==this.$wday()});a.defn(r,"$sec",function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()});a.defn(r,"$succ",function(){var a=new Date(this.getTime()+
1E3);a.is_utc=this.is_utc;return a});a.defn(r,"$usec",function(){return 1E3*this.getMilliseconds()});a.defn(r,"$zone",function(){var a=this.toString(),d;d=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join("");return"GMT"==d&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:d});a.defn(r,"$getgm",function(){var a=new Date(this.getTime());a.is_utc=!0;return a});a.alias(r,"getutc","getgm");a.defn(r,"$gmtime",function(){this.is_utc=!0;return this});a.alias(r,"utc","gmtime");a.defn(r,
"$gmt?",function(){return!0===this.is_utc});a.defn(r,"$gmt_offset",function(){return 60*-this.getTimezoneOffset()});a.defn(r,"$strftime",function(a){var d=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,f,g,c,e){c="";var h=-1!==f.indexOf("0"),l=-1===f.indexOf("-"),p=-1!==f.indexOf("_"),m=-1!==f.indexOf("^"),n=-1!==f.indexOf("#"),r=(f.match(":")||[]).length;g=parseInt(g,10);h&&p&&(f.indexOf("0")<f.indexOf("_")?h=!1:p=!1);switch(e){case "Y":c+=d.$year();break;case "C":h=!p;c+=
Math.round(d.$year()/100);break;case "y":h=!p;c+=d.$year()%100;break;case "m":h=!p;c+=d.$mon();break;case "B":c+=z[d.$mon()-1];break;case "b":case "h":p=!h;c+=C[d.$mon()-1];break;case "d":h=!p;c+=d.$day();break;case "e":p=!h;c+=d.$day();break;case "j":c+=d.$yday();break;case "H":h=!p;c+=d.$hour();break;case "k":p=!h;c+=d.$hour();break;case "I":h=!p;c+=d.$hour()%12||12;break;case "l":p=!h;c+=d.$hour()%12||12;break;case "P":c+=12<=d.$hour()?"pm":"am";break;case "p":c+=12<=d.$hour()?"PM":"AM";break;
case "M":h=!p;c+=d.$min();break;case "S":h=!p;c+=d.$sec();break;case "L":h=!p;g=isNaN(g)?3:g;c+=d.getMilliseconds();break;case "N":g=isNaN(g)?9:g;c+=d.getMilliseconds().toString().$rjust(3,"0");c=c.$ljust(g,"0");break;case "z":a=d.getTimezoneOffset();f=Math.floor(Math.abs(a)/60);e=Math.abs(a)%60;c=c+(0>a?"+":"-")+(10>f?"0":"");c+=f;0<r&&(c+=":");c+=10>e?"0":"";c+=e;1<r&&(c+=":00");break;case "Z":c+=d.$zone();break;case "A":c+=k[d.$wday()];break;case "a":c+=t[d.$wday()];break;case "u":c+=d.$wday()+
1;break;case "w":c+=d.$wday();break;case "V":c+=d.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":c+=d.$cweek_cyear()["$[]"](1);break;case "g":c+=d.$cweek_cyear()["$[]"](1)["$[]"](b(-2,-1,!1));break;case "s":c+=d.$to_i();break;case "n":c+="\n";break;case "t":c+="\t";break;case "%":c+="%";break;case "c":c+=d.$strftime("%a %b %e %T %Y");break;case "D":case "x":c+=d.$strftime("%m/%d/%y");break;case "F":c+=d.$strftime("%Y-%m-%d");break;case "v":c+=d.$strftime("%e-%^b-%4Y");break;case "r":c+=
d.$strftime("%I:%M:%S %p");break;case "R":c+=d.$strftime("%H:%M");break;case "T":case "X":c+=d.$strftime("%H:%M:%S");break;default:return a}m&&(c=c.toUpperCase());n&&(c=c.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));l&&(h||p)&&(c=c.$rjust(isNaN(g)?2:g,p?" ":"0"));return c})});a.defn(r,"$sunday?",function(){return 0==this.$wday()});a.defn(r,"$thursday?",function(){return 4==this.$wday()});a.defn(r,"$to_a",function(){return[this.$sec(),this.$min(),this.$hour(),
this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]});a.defn(r,"$to_f",function(){return this.getTime()/1E3});a.defn(r,"$to_i",function(){return parseInt(this.getTime()/1E3,10)});a.alias(r,"to_s","inspect");a.defn(r,"$tuesday?",function(){return 2==this.$wday()});a.alias(r,"tv_sec","sec");a.alias(r,"tv_usec","usec");a.alias(r,"utc?","gmt?");a.alias(r,"gmtoff","gmt_offset");a.alias(r,"utc_offset","gmt_offset");a.defn(r,"$wday",function(){return this.is_utc?
this.getUTCDay():this.getDay()});a.defn(r,"$wednesday?",function(){return 3==this.$wday()});a.defn(r,"$year",function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()});return(a.defn(r,"$cweek_cyear",function(){var a,d=e,b=e,c=b=b=d=e,c=e,d=g.get("Time").$new(this.$year(),1,1),b=d.$wday(),d=this.$year();(a=h(b,4)?b["$!="](0):h(b,4))===e||a.$$is_boolean&&1!=a?(b=m(m(b,7),1),b["$=="](-8)&&(b=-1)):b=m(b,1);b=q(n(this.$yday(),b),7).$ceil();if(h(b,0))return g.get("Time").$new(m(this.$year(),
1),12,31).$cweek_cyear();b["$=="](53)&&(c=g.get("Time").$new(this.$year(),12,31),c=c.$wday(),(a=h(c,3)?c["$!="](0):h(c,3))===e||a.$$is_boolean&&1!=a||(b=1,d=n(d,1)));return[b,d]}),e)&&"cweek_cyear"}(a.base,Date)};
Opal.modules["corelib/struct"]=function(a){function n(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function m(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="warning";var h=a.top,l=a.nil,e=a.slice,c=a.klass,A=a.hash2;a.add_stubs("$require $include $== $[] $upcase $const_set $new $unshift $each $define_struct_attribute $class_eval $to_proc $allocate $initialize $raise $<< $members $define_method $[]= $instance_eval $each_with_index $class $hash $=== $< $-@ $size $>= $include? $to_sym $coerce_to! $instance_of? $__id__ $eql? $enum_for $length $map $+ $join $inspect $each_pair $inject $flatten $to_a".split(" "));
h.$require("corelib/enumerable");return function(b,$super){function h(){}var u=h=c(b,$super,"Struct",h),p=u.$$scope,r,g,k;u.$include(p.get("Enumerable"));a.defs(u,"$new",r=function(b){var g=e.call(arguments,0),c,f,d,k=r.$$p,m=k||l,n=arguments.length-1;0>n&&(n=0);for(var q=Array(n),F=0;F<n;F++)q[F]=arguments[F+1];r.$$p=null;if(!this["$=="](p.get("Struct")))return a.find_super_dispatcher(this,"new",r,k,h).apply(this,g);if(b["$[]"](0)["$=="](b["$[]"](0).$upcase()))return p.get("Struct").$const_set(b,
this.$new.apply(this,a.to_a(q)));q.$unshift(b);return(c=(f=p.get("Class")).$new,c.$$p=(d=function(){var f=d.$$s||this,b,g,c;(b=(g=q).$each,b.$$p=(c=function(a){var d=c.$$s||this;null==a&&(a=l);return d.$define_struct_attribute(a)},c.$$s=f,c),b).call(g);!1!==m&&m!==l&&(b=f.$class_eval,b.$$p=m.$to_proc(),b).call(f);return function(d){a.defn(d,"$new",function(){var d,f=l,f=arguments.length-0;0>f&&(f=0);for(var b=Array(f),g=0;g<f;g++)b[g]=arguments[g+0];f=this.$allocate();f.$$data={};(d=f).$initialize.apply(d,
a.to_a(b));return f});return a.alias(d,"[]","new")}(a.get_singleton_class(f))},d.$$s=this,d),c).call(f,this)});a.defs(u,"$define_struct_attribute",function(a){var b,g,f;this["$=="](p.get("Struct"))&&this.$raise(p.get("ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);(b=this.$define_method,b.$$p=(g=function(){return(g.$$s||this)["$[]"](a)},g.$$s=this,g),b).call(this,a);return(b=this.$define_method,b.$$p=(f=function(d){var b=f.$$s||this;null==d&&(d=l);return b["$[]="](a,
d)},f.$$s=this,f),b).call(this,""+a+"=")});a.defs(u,"$members",function(){var a;null==this.members&&(this.members=l);this["$=="](p.get("Struct"))&&this.$raise(p.get("ArgumentError"),"the Struct class has no members");return!1!==(a=this.members)&&a!==l?a:this.members=[]});a.defs(u,"$inherited",function(a){var b,g,f=l;null==this.members&&(this.members=l);f=this.members;return(b=a.$instance_eval,b.$$p=(g=function(){return(g.$$s||this).members=f},g.$$s=this,g),b).call(a)});a.defn(u,"$initialize",function(){var a,
b,g,f=arguments.length-0;0>f&&(f=0);for(var d=Array(f),c=0;c<f;c++)d[c]=arguments[c+0];return(a=(b=this.$members()).$each_with_index,a.$$p=(g=function(a,f){var b=g.$$s||this;null==a&&(a=l);null==f&&(f=l);return b["$[]="](a,d["$[]"](f))},g.$$s=this,g),a).call(b)});a.defn(u,"$members",function(){return this.$class().$members()});a.defn(u,"$hash",function(){return p.get("Hash").$new(this.$$data).$hash()});a.defn(u,"$[]",function(a){var b;(b=p.get("Integer")["$==="](a))===l||b.$$is_boolean&&1!=b?(b=p.get("String")["$==="](a))===
l||b.$$is_boolean&&1!=b?this.$raise(p.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):((b=this.$members()["$include?"](a.$to_sym()))===l||b.$$is_boolean&&1!=b)&&this.$raise(p.get("NameError").$new("no member '"+a+"' in struct",a)):(n(a,this.$members().$size()["$-@"]())&&this.$raise(p.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$members().$size()+")"),q(a,this.$members().$size())&&this.$raise(p.get("IndexError"),"offset "+a+" too large for struct(size:"+
this.$members().$size()+")"),a=this.$members()["$[]"](a));a=p.get("Opal")["$coerce_to!"](a,p.get("String"),"to_str");return this.$$data[a]});a.defn(u,"$[]=",function(a,b){var g;(g=p.get("Integer")["$==="](a))===l||g.$$is_boolean&&1!=g?(g=p.get("String")["$==="](a))===l||g.$$is_boolean&&1!=g?this.$raise(p.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):((g=this.$members()["$include?"](a.$to_sym()))===l||g.$$is_boolean&&1!=g)&&this.$raise(p.get("NameError").$new("no member '"+
a+"' in struct",a)):(n(a,this.$members().$size()["$-@"]())&&this.$raise(p.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$members().$size()+")"),q(a,this.$members().$size())&&this.$raise(p.get("IndexError"),"offset "+a+" too large for struct(size:"+this.$members().$size()+")"),a=this.$members()["$[]"](a));a=p.get("Opal")["$coerce_to!"](a,p.get("String"),"to_str");return this.$$data[a]=b});a.defn(u,"$==",function(a){function b(a,g){var c,e,k;f[a.$__id__()]=!0;d[g.$__id__()]=!0;for(c in a.$$data)if(e=
a.$$data[c],k=g.$$data[c],p.get("Struct")["$==="](e)){if(!(f.hasOwnProperty(e.$__id__())&&d.hasOwnProperty(k.$__id__())||b(e,k)))return!1}else if(!e["$=="](k))return!1;return!0}var g;if((g=a["$instance_of?"](this.$class()))===l||g.$$is_boolean&&1!=g)return!1;var f={},d={};return b(this,a)});a.defn(u,"$eql?",function(a){function b(a,g){var c,e,k;f[a.$__id__()]=!0;d[g.$__id__()]=!0;for(c in a.$$data)if(e=a.$$data[c],k=g.$$data[c],p.get("Struct")["$==="](e)){if(!(f.hasOwnProperty(e.$__id__())&&d.hasOwnProperty(k.$__id__())||
b(e,k)))return!1}else if(!e["$eql?"](k))return!1;return!0}var g;if((g=a["$instance_of?"](this.$class()))===l||g.$$is_boolean&&1!=g)return!1;var f={},d={};return b(this,a)});a.defn(u,"$each",g=function(){var b,c,e,f,d=g.$$p||l;g.$$p=null;if(d===l)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),b).call(this,"each");(b=(e=this.$members()).$each,b.$$p=(f=function(b){var g=f.$$s||this,c;null==b&&(b=l);return c=a.yield1(d,g["$[]"](b)),c},f.$$s=this,f),b).call(e);return this});
a.defn(u,"$each_pair",k=function(){var b,g,c,f,d=k.$$p||l;k.$$p=null;if(d===l)return(b=this.$enum_for,b.$$p=(g=function(){return(g.$$s||this).$size()},g.$$s=this,g),b).call(this,"each_pair");(b=(c=this.$members()).$each,b.$$p=(f=function(b){var g=f.$$s||this,c;null==b&&(b=l);return c=a.yield1(d,[b,g["$[]"](b)]),c},f.$$s=this,f),b).call(c);return this});a.defn(u,"$length",function(){return this.$members().$length()});a.alias(u,"size","length");a.defn(u,"$to_a",function(){var a,b,g;return(a=(b=this.$members()).$map,
a.$$p=(g=function(a){var d=g.$$s||this;null==a&&(a=l);return d["$[]"](a)},g.$$s=this,g),a).call(b)});a.alias(u,"values","to_a");a.defn(u,"$inspect",function(){var a,b,g,f=l,f="#<struct ";this.$class()["$=="](p.get("Struct"))&&(f=m(f,""+this.$class()+" "));f=m(f,(a=(b=this.$each_pair()).$map,a.$$p=(g=function(a,f){null==a&&(a=l);null==f&&(f=l);return""+a+"="+f.$inspect()},g.$$s=this,g),a).call(b).$join(", "));return f=m(f,">")});a.alias(u,"to_s","inspect");a.defn(u,"$to_h",function(){var a,b,g;return(a=
(b=this.$members()).$inject,a.$$p=(g=function(a,d){var b=g.$$s||this;null==a&&(a=l);null==d&&(d=l);a["$[]="](d,b["$[]"](d));return a},g.$$s=this,g),a).call(b,A([],{}))});return(a.defn(u,"$values_at",function(){var a,b,g,f=arguments.length-0;0>f&&(f=0);for(var d=Array(f),c=0;c<f;c++)d[c]=arguments[c+0];d=(a=(b=d).$map,a.$$p=(g=function(a){null==a&&(a=l);return a.$$is_range?a.$to_a():a},g.$$s=this,g),a).call(b).$flatten();a=[];b=0;for(g=d.length;b<g;b++)d[b].$$is_number||this.$raise(p.get("TypeError"),
"no implicit conversion of "+d[b].$class()+" into Integer"),a.push(this["$[]"](d[b]));return a}),l)&&"values_at"}(a.base,null)};
Opal.modules["corelib/io"]=function(a){a.dynamic_require_severity="warning";var n,q,m=a.nil,h=a.klass,l=a.module,e=a.gvars;null==e.stdout&&(e.stdout=m);null==e.stderr&&(e.stderr=m);a.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $extend".split(" "));(function(c,$super){function b(){}var n=b=h(c,$super,"IO",b),q=n.$$proto,u=n.$$scope;q.tty=q.closed=m;a.cdecl(u,"SEEK_SET",0);a.cdecl(u,"SEEK_CUR",1);a.cdecl(u,"SEEK_END",2);a.defn(n,
"$tty?",function(){return this.tty});a.defn(n,"$closed?",function(){return this.closed});n.$attr_accessor("write_proc");a.defn(n,"$write",function(a){this.write_proc(a);return a.$size()});n.$attr_accessor("sync");(function(b){b=l(b,"Writable");a.defn(b,"$<<",function(a){this.$write(a);return this});a.defn(b,"$print",function(){var a,b;null==e[","]&&(e[","]=m);var c=arguments.length-0;0>c&&(c=0);for(var h=Array(c),l=0;l<c;l++)h[l]=arguments[l+0];this.$write((a=h.$map,a.$$p=(b=function(a){var f=b.$$s||
this;null==a&&(a=m);return f.$String(a)},b.$$s=this,b),a).call(h).$join(e[","]));return m});a.defn(b,"$puts",function(){var a,b,c=m;null==e["/"]&&(e["/"]=m);c=arguments.length-0;0>c&&(c=0);for(var h=Array(c),l=0;l<c;l++)h[l]=arguments[l+0];c=e["/"];(a=h["$empty?"]())===m||a.$$is_boolean&&1!=a?this.$write((a=h.$map,a.$$p=(b=function(a){var f=b.$$s||this;null==a&&(a=m);return f.$String(a).$chomp()},b.$$s=this,b),a).call(h).$concat([m]).$join(c)):this.$write(e["/"]);return m})})(u.base);return function(b){b=
l(b,"Readable");var c=b.$$scope;a.defn(b,"$readbyte",function(){return this.$getbyte()});a.defn(b,"$readchar",function(){return this.$getc()});a.defn(b,"$readline",function(a){null==e["/"]&&(e["/"]=m);return this.$raise(c.get("NotImplementedError"))});a.defn(b,"$readpartial",function(a,b){return this.$raise(c.get("NotImplementedError"))})}(u.base)})(a.base,null);a.cdecl(a,"STDERR",e.stderr=a.get("IO").$new());a.cdecl(a,"STDIN",e.stdin=a.get("IO").$new());a.cdecl(a,"STDOUT",e.stdout=a.get("IO").$new());
n=["object"===typeof process?function(a){process.stdout.write(a)}:function(a){console.log(a)}];q=e.stdout;q["$write_proc="].apply(q,n);n[n.length-1];n=["object"===typeof process?function(a){process.stderr.write(a)}:function(a){console.warn(a)}];q=e.stderr;q["$write_proc="].apply(q,n);n[n.length-1];e.stdout.$extend(a.get("IO").$$scope.get("Writable"));return e.stderr.$extend(a.get("IO").$$scope.get("Writable"))};
Opal.modules["corelib/main"]=function(a){a.dynamic_require_severity="warning";var n=a.top,q=a.nil;a.add_stubs(["$include"]);a.defs(n,"$to_s",function(){return"main"});return(a.defs(n,"$include",function(m){return a.get("Object").$include(m)}),q)&&"include"};
Opal.modules["corelib/dir"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.klass;a.add_stubs(["$[]"]);return function(m,$super){function l(){}var e=l=q(m,$super,"Dir",l);return function(c){var e=c.$$scope,b;a.defn(c,"$chdir",b=function(c){var e,l=b.$$p||n,p=n;b.$$p=null;try{return p=a.current_dir,a.current_dir=c,e=a.yieldX(l,[]),e}finally{a.current_dir=p}});a.defn(c,"$pwd",function(){return a.current_dir||"."});a.alias(c,"getwd","pwd");return(a.defn(c,"$home",function(){var a;return!1!==
(a=e.get("ENV")["$[]"]("HOME"))&&a!==n?a:"."}),n)&&"home"}(a.get_singleton_class(e))}(a.base,null)};
Opal.modules["corelib/file"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.klass,m=a.range;a.add_stubs("$join $compact $split $== $first $[]= $home $each $pop $<< $[] $gsub $find $=~".split(" "));return function(h,$super){function e(){}var c=e=q(h,$super,"File",e),A=c.$$scope;a.cdecl(A,"Separator",a.cdecl(A,"SEPARATOR","/"));a.cdecl(A,"ALT_SEPARATOR",n);a.cdecl(A,"PATH_SEPARATOR",":");return function(b){var c=b.$$scope;a.defn(b,"$expand_path",function(a,b){var e,h,g,k=n,m=n;null==
b&&(b=n);a=[b,a].$compact().$join(c.get("SEPARATOR"));k=a.$split(c.get("SEPARATOR"));m=[];if(k.$first()["$=="]("~"))k["$[]="](0,c.get("Dir").$home());(e=(h=k).$each,e.$$p=(g=function(a){null==a&&(a=n);return a["$=="]("..")?m.$pop():m["$<<"](a)},g.$$s=this,g),e).call(h);return m.$join(c.get("SEPARATOR"))});a.alias(b,"realpath","expand_path");a.defn(b,"$dirname",function(a){return this.$split(a)["$[]"](m(0,-2,!1))});a.defn(b,"$basename",function(a){return this.$split(a)["$[]"](-1)});a.defn(b,"$exist?",
function(b){return null!=a.modules[b]});a.alias(b,"exists?","exist?");a.defn(b,"$directory?",function(b){var e,h,m,g=n,g=n,g=[],k;for(k in a.modules)g.push(k);b=b.$gsub(new RegExp("(^."+c.get("SEPARATOR")+"+|"+c.get("SEPARATOR")+"+$)"));return g=(e=(h=g).$find,e.$$p=(m=function(a){null==a&&(a=n);return a["$=~"](new RegExp("^"+b))},m.$$s=this,m),e).call(h)});a.defn(b,"$join",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),e=0;e<a;e++)b[e]=arguments[e+0];return b.$join(c.get("SEPARATOR")).$gsub(new RegExp(""+
c.get("SEPARATOR")+"+"),c.get("SEPARATOR"))});return(a.defn(b,"$split",function(a){return a.$split(c.get("SEPARATOR"))}),n)&&"split"}(a.get_singleton_class(c))}(a.base,a.get("IO"))};
Opal.modules["corelib/process"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.klass;a.add_stubs(["$to_f","$now","$new"]);(function(m,$super){function l(){}var e=l=q(m,$super,"Process",l),c=e.$$scope;a.cdecl(c,"CLOCK_REALTIME",0);a.cdecl(c,"CLOCK_MONOTONIC",1);a.defs(e,"$pid",function(){return 0});a.defs(e,"$times",function(){var a=n,a=c.get("Time").$now().$to_f();return c.get("Benchmark").$$scope.get("Tms").$new(a,a,a,a,a)});return(a.defs(e,"$clock_gettime",function(a,b){return c.get("Time").$now().$to_f()}),
n)&&"clock_gettime"})(a.base,null);(function(m,$super){function l(){}var e=l=q(m,$super,"Signal",l);return(a.defs(e,"$trap",function(){return n}),n)&&"trap"})(a.base,null);return function(m,$super){function l(){}var e=l=q(m,$super,"GC",l);return(a.defs(e,"$start",function(){return n}),n)&&"start"}(a.base,null)};
Opal.modules["corelib/unsupported"]=function(a){function n(a){e[a]||(e[a]=!0,q.$warn(a))}a.dynamic_require_severity="warning";var q=a.top,m=a.nil,h=a.klass,l=a.module;a.add_stubs(["$warn","$raise","$%","$module_function"]);var e={};(function(c,$super){function b(){}var e=b=h(c,$super,"String",b),l=e.$$scope;a.defn(e,"$<<",function(){return this.$raise(l.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))});a.defn(e,"$capitalize!",function(){return this.$raise(l.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))});a.defn(e,"$chomp!",function(){return this.$raise(l.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))});a.defn(e,"$chop!",function(){return this.$raise(l.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))});a.defn(e,"$downcase!",function(){return this.$raise(l.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))});a.defn(e,"$gsub!",function(){return this.$raise(l.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))});a.defn(e,"$lstrip!",function(){return this.$raise(l.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))});a.defn(e,"$next!",function(){return this.$raise(l.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))});a.defn(e,"$reverse!",function(){return this.$raise(l.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))});a.defn(e,"$slice!",function(){return this.$raise(l.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))});a.defn(e,"$squeeze!",function(){return this.$raise(l.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))});a.defn(e,"$strip!",function(){return this.$raise(l.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))});a.defn(e,"$sub!",function(){return this.$raise(l.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))});a.defn(e,"$succ!",function(){return this.$raise(l.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))});a.defn(e,"$swapcase!",function(){return this.$raise(l.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))});a.defn(e,"$tr!",function(){return this.$raise(l.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))});a.defn(e,"$tr_s!",function(){return this.$raise(l.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))});return(a.defn(e,"$upcase!",function(){return this.$raise(l.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))}),m)&&"upcase!"})(a.base,null);(function(c){c=l(c,"Kernel");var e=c.$$scope;a.defn(c,"$freeze",function(){!0===m?this.$raise(e.get("NotImplementedError"),"Object freezing is not supported by Opal"):n("Object freezing is not supported by Opal");
return this});a.defn(c,"$frozen?",function(){!0===m?this.$raise(e.get("NotImplementedError"),"Object freezing is not supported by Opal"):n("Object freezing is not supported by Opal");return!1})})(a.base);(function(c){c=l(c,"Kernel");var e=c.$$scope;a.defn(c,"$taint",function(){!0===m?this.$raise(e.get("NotImplementedError"),"Object tainting is not supported by Opal"):n("Object tainting is not supported by Opal");return this});a.defn(c,"$untaint",function(){!0===m?this.$raise(e.get("NotImplementedError"),
"Object tainting is not supported by Opal"):n("Object tainting is not supported by Opal");return this});a.defn(c,"$tainted?",function(){!0===m?this.$raise(e.get("NotImplementedError"),"Object tainting is not supported by Opal"):n("Object tainting is not supported by Opal");return!1})})(a.base);(function(c){c=l(c,"Marshal");var e=c.$$scope;c.$module_function();a.defn(c,"$dump",function(){return this.$raise(e.get("NotImplementedError"),"Marshalling is not supported by Opal")});a.defn(c,"$load",function(){return this.$raise(e.get("NotImplementedError"),
"Marshalling is not supported by Opal")});a.defn(c,"$restore",function(){return this.$raise(e.get("NotImplementedError"),"Marshalling is not supported by Opal")})})(a.base);(function(c,$super){function b(){}var e=b=h(c,$super,"Module",b);a.defn(e,"$public",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];0===b.length&&(this.$$module_function=!1);return m});a.alias(e,"private","public");a.alias(e,"protected","public");a.alias(e,"nesting","public");a.defn(e,
"$private_class_method",function(){return this});a.alias(e,"public_class_method","private_class_method");a.defn(e,"$private_method_defined?",function(a){return!1});a.defn(e,"$private_constant",function(){return m});a.alias(e,"protected_method_defined?","private_method_defined?");a.alias(e,"public_instance_methods","instance_methods");return a.alias(e,"public_method_defined?","method_defined?")})(a.base,null);(function(c){c=l(c,"Kernel");a.defn(c,"$private_methods",function(){return[]});a.alias(c,
"private_instance_methods","private_methods")})(a.base);return function(c){c=l(c,"Kernel");var e=c.$$scope;a.defn(c,"$eval",function(){return this.$raise(e.get("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+e.get("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))})}(a.base)};
(function(a){a.dynamic_require_severity="warning";var n=a.top;a.add_stubs(["$require"]);n.$require("opal/base");n.$require("opal/mini");n.$require("corelib/array/inheritance");n.$require("corelib/string/inheritance");n.$require("corelib/string/encoding");n.$require("corelib/math");n.$require("corelib/complex");n.$require("corelib/rational");n.$require("corelib/time");n.$require("corelib/struct");n.$require("corelib/io");n.$require("corelib/main");n.$require("corelib/dir");n.$require("corelib/file");
n.$require("corelib/process");return n.$require("corelib/unsupported")})(Opal);
Opal.modules.set=function(a){function n(a,e){return"number"===typeof a&&"number"===typeof e?a<e:a["$<"](e)}function q(a,e){return"number"===typeof a&&"number"===typeof e?a<=e:a["$<="](e)}a.dynamic_require_severity="ignore";var m=a.nil,h=a.breaker,l=a.klass,e=a.module;(function(c,$super){function b(){}var e=b=l(c,$super,"Set",b),x=e.$$scope,u,p,r,g,k;e.$$proto.hash=m;e.$include(x.get("Enumerable"));a.defs(e,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),g=0;g<a;g++)b[g]=arguments[g+
0];return this.$new(b)});a.defn(e,"$initialize",u=function(a){var b,g,f,d=u.$$p||m;null==a&&(a=m);u.$$p=null;this.hash=x.get("Hash").$new();if((b=a["$nil?"]())!==m&&(!b.$$is_boolean||1==b))return m;((b=x.get("Enumerable")["$==="](a))===m||b.$$is_boolean&&1!=b)&&this.$raise(x.get("ArgumentError"),"value must be enumerable");return!1!==d&&d!==m?(b=(g=a).$each,b.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=m);return b.$add(d.$call(a))},f.$$s=this,f),b).call(g):this.$merge(a)});a.defn(e,"$dup",function(){var a=
m,a=this.$class().$new();return a.$merge(this)});a.defn(e,"$-",function(a){var b;((b=a["$respond_to?"]("each"))===m||b.$$is_boolean&&1!=b)&&this.$raise(x.get("ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)});a.alias(e,"difference","-");a.defn(e,"$inspect",function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"});a.defn(e,"$==",function(a){var b,g,f;return(b=this["$equal?"](a))===m||b.$$is_boolean&&1!=b?(b=a["$instance_of?"](this.$class()))===m||b.$$is_boolean&&1!=b?(b=
(g=a["$is_a?"](x.get("Set")),!1!==g&&g!==m?this.$size()["$=="](a.$size()):g))===m||b.$$is_boolean&&1!=b?!1:(b=(g=a)["$all?"],b.$$p=(f=function(a){var b=f.$$s||this;null==b.hash&&(b.hash=m);null==a&&(a=m);return b.hash["$include?"](a)},f.$$s=this,f),b).call(g):this.hash["$=="](a.$instance_variable_get("@hash")):!0});a.defn(e,"$add",function(a){this.hash["$[]="](a,!0);return this});a.alias(e,"<<","add");a.defn(e,"$classify",p=function(){var b,g,c,f,d=p.$$p||m,e=m;p.$$p=null;if(d===m)return this.$enum_for("classify");
e=(b=(g=x.get("Hash")).$new,b.$$p=(c=function(a,d){var f=c.$$s||this;null==a&&(a=m);null==d&&(d=m);return a["$[]="](d,f.$class().$new())},c.$$s=this,c),b).call(g);(b=this.$each,b.$$p=(f=function(f){var b;null==f&&(f=m);return e["$[]"]((b=a.yield1(d,f))===h?h.$v:b).$add(f)},f.$$s=this,f),b).call(this);return e});a.defn(e,"$collect!",r=function(){var b,g,c=r.$$p||m,f=m;r.$$p=null;if(c===m)return this.$enum_for("collect!");f=this.$class().$new();(b=this.$each,b.$$p=(g=function(d){var b;null==d&&(d=m);
return f["$<<"]((b=a.yield1(c,d))===h?h.$v:b)},g.$$s=this,g),b).call(this);return this.$replace(f)});a.alias(e,"map!","collect!");a.defn(e,"$delete",function(a){this.hash.$delete(a);return this});a.defn(e,"$delete?",function(a){var b;if((b=this["$include?"](a))===m||b.$$is_boolean&&1!=b)return m;this.$delete(a);return this});a.defn(e,"$delete_if",g=function(){try{var b,c,e,f,d,k=g.$$p||m;g.$$p=null;!1!==(b=k!==m)&&b!==m?b:a.ret(this.$enum_for("delete_if"));(b=(c=(f=this.$select,f.$$p=(d=function(d){var f;
null==d&&(d=m);return f=a.yield1(k,d),f},d.$$s=this,d),f).call(this)).$each,b.$$p=(e=function(a){var d=e.$$s||this;null==d.hash&&(d.hash=m);null==a&&(a=m);return d.hash.$delete(a)},e.$$s=this,e),b).call(c);return this}catch(h){if(h===a.returner)return h.$v;throw h;}});a.defn(e,"$add?",function(a){var b;return(b=this["$include?"](a))===m||b.$$is_boolean&&1!=b?this.$add(a):m});a.defn(e,"$each",k=function(){var a,b,g=k.$$p||m;k.$$p=null;if(g===m)return this.$enum_for("each");(a=(b=this.hash).$each_key,
a.$$p=g.$to_proc(),a).call(b);return this});a.defn(e,"$empty?",function(){return this.hash["$empty?"]()});a.defn(e,"$eql?",function(a){var b,g;return this.hash["$eql?"]((b=a.$instance_eval,b.$$p=(g=function(){var a=g.$$s||this;null==a.hash&&(a.hash=m);return a.hash},g.$$s=this,g),b).call(a))});a.defn(e,"$clear",function(){this.hash.$clear();return this});a.defn(e,"$include?",function(a){return this.hash["$include?"](a)});a.alias(e,"member?","include?");a.defn(e,"$merge",function(a){var b,g;(b=a.$each,
b.$$p=(g=function(a){var d=g.$$s||this;null==a&&(a=m);return d.$add(a)},g.$$s=this,g),b).call(a);return this});a.defn(e,"$replace",function(a){this.$clear();this.$merge(a);return this});a.defn(e,"$size",function(){return this.hash.$size()});a.alias(e,"length","size");a.defn(e,"$subtract",function(a){var b,g;(b=a.$each,b.$$p=(g=function(a){var d=g.$$s||this;null==a&&(a=m);return d.$delete(a)},g.$$s=this,g),b).call(a);return this});a.defn(e,"$|",function(a){var b;((b=a["$respond_to?"]("each"))===m||
b.$$is_boolean&&1!=b)&&this.$raise(x.get("ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)});a.defn(e,"$superset?",function(a){var b,g;!1!==(b=a["$is_a?"](x.get("Set")))&&b!==m?b:this.$raise(x.get("ArgumentError"),"value must be a set");return n(this.$size(),a.$size())?!1:(b=a["$all?"],b.$$p=(g=function(a){var d=g.$$s||this;null==a&&(a=m);return d["$include?"](a)},g.$$s=this,g),b).call(a)});a.alias(e,">=","superset?");a.defn(e,"$proper_superset?",function(a){var b,g;!1!==(b=
a["$is_a?"](x.get("Set")))&&b!==m?b:this.$raise(x.get("ArgumentError"),"value must be a set");return q(this.$size(),a.$size())?!1:(b=a["$all?"],b.$$p=(g=function(a){var d=g.$$s||this;null==a&&(a=m);return d["$include?"](a)},g.$$s=this,g),b).call(a)});a.alias(e,">","proper_superset?");a.defn(e,"$subset?",function(a){var b,g;!1!==(b=a["$is_a?"](x.get("Set")))&&b!==m?b:this.$raise(x.get("ArgumentError"),"value must be a set");return n(a.$size(),this.$size())?!1:(b=this["$all?"],b.$$p=(g=function(b){null==
b&&(b=m);return a["$include?"](b)},g.$$s=this,g),b).call(this)});a.alias(e,"<=","subset?");a.defn(e,"$proper_subset?",function(a){var b,g;!1!==(b=a["$is_a?"](x.get("Set")))&&b!==m?b:this.$raise(x.get("ArgumentError"),"value must be a set");return q(a.$size(),this.$size())?!1:(b=this["$all?"],b.$$p=(g=function(b){null==b&&(b=m);return a["$include?"](b)},g.$$s=this,g),b).call(this)});a.alias(e,"<","proper_subset?");a.alias(e,"+","|");a.alias(e,"union","|");return(a.defn(e,"$to_a",function(){return this.hash.$keys()}),
m)&&"to_a"})(a.base,null);return function(c){c=e(c,"Enumerable");var h=c.$$scope,b;a.defn(c,"$to_set",b=function(c){var e,l,p=b.$$p||m,n=arguments.length-1;0>n&&(n=0);for(var g=Array(n),k=0;k<n;k++)g[k]=arguments[k+1];null==c&&(c=h.get("Set"));b.$$p=null;return(e=(l=c).$new,e.$$p=p.$to_proc(),e).apply(l,[this].concat(a.to_a(g)))})}(a.base)};
Opal.modules.strscan=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.klass;return function(m,$super){function l(){}var e=l=q(m,$super,"StringScanner",l),c=e.$$proto;c.pos=c.string=c.working=c.matched=c.prev_pos=c.match=n;e.$attr_reader("pos");e.$attr_reader("matched");a.defn(e,"$initialize",function(a){this.string=a;this.pos=0;this.matched=n;this.working=a;return this.match=[]});e.$attr_reader("string");a.defn(e,"$beginning_of_line?",function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-
1)});a.alias(e,"bol?","beginning_of_line?");a.defn(e,"$scan",function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=n:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):n});a.defn(e,"$scan_until",function(a){a=this.$anchor(a);for(var b=this.pos,c=this.working,e;;)if(e=a.exec(c),b+=1,c=
c.substr(1),null==e){if(0===c.length)return this.matched=n}else return this.matched=this.string.substr(this.pos,b-this.pos-1+e[0].length),this.prev_pos=b-1,this.pos=b,this.working=c.substr(e[0].length),this.matched});a.defn(e,"$[]",function(a){var b=this.match;0>a&&(a+=b.length);return 0>a||a>=b.length||null==b[a]?n:b[a]});a.defn(e,"$check",function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=n:this.matched=a[0]});a.defn(e,"$check_until",function(a){var b=this.prev_pos,
c=this.pos;a=this.$scan_until(a);a!==n&&(this.matched=a.substr(-1),this.working=this.string.substr(c));this.prev_pos=b;this.pos=c;return a});a.defn(e,"$peek",function(a){return this.working.substring(0,a)});a.defn(e,"$eos?",function(){return 0===this.working.length});a.defn(e,"$exist?",function(a){a=a.exec(this.working);return null==a?n:0==a.index?0:a.index+1});a.defn(e,"$skip",function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=n;a=a[0];var b=a.length;this.matched=
a;this.prev_pos=this.pos;this.pos+=b;this.working=this.working.substring(b);return b});a.defn(e,"$skip_until",function(a){a=this.$scan_until(a);if(a===n)return n;this.matched=a.substr(-1);return a.length});a.defn(e,"$get_byte",function(){var a=n;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=n;return a});a.alias(e,"getch","get_byte");a.defn(e,"$match?",function(a){a=this.$anchor(a);a=a.exec(this.working);
if(null==a)return n;this.prev_pos=this.pos;return a[0].length});a.defn(e,"$pos=",function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)});a.defn(e,"$post_match",function(){return this.matched===n?n:this.string.substr(this.pos)});a.defn(e,"$pre_match",function(){return this.matched===n?n:this.string.substr(0,this.prev_pos)});a.defn(e,"$reset",function(){this.working=this.string;this.matched=n;return this.pos=0});a.defn(e,"$rest",function(){return this.working});
a.defn(e,"$rest?",function(){return 0!==this.working.length});a.defn(e,"$rest_size",function(){return this.$rest().$size()});a.defn(e,"$terminate",function(){var a;this.match=n;return a=[this.string.$length()],this["$pos="].apply(this,a),a[a.length-1]});a.defn(e,"$unscan",function(){this.pos=this.prev_pos;this.match=this.prev_pos=n;return this});e.$private();return(a.defn(e,"$anchor",function(a){return new RegExp("^"+a.toString().substr(1,a.toString().length-2))}),n)&&"anchor"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/dir"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.klass;return function(m,$super){function l(){}var e=l=q(m,$super,"Dir",l),c=e.$$scope;a.defs(e,"$pwd",function(){var a;return!1!==(a=c.get("ENV")["$[]"]("PWD"))&&a!==n?a:"."});a.defs(e,"$getwd",function(){var a;return!1!==(a=c.get("ENV")["$[]"]("PWD"))&&a!==n?a:"."});return(a.defs(e,"$home",function(){return c.get("ENV")["$[]"]("HOME")}),n)&&"home"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/file"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var q=a.nil,m=a.breaker,h=a.module,l=a.klass,e=a.gvars,c=a.range;(function(c){c=h(c,"Kernel");var b=c.$$scope,e;a.defn(c,"$open",e=function(c){var h,l,m=e.$$p||q,g=q,g=arguments.length-1;0>g&&(g=0);for(var k=Array(g),n=0;n<g;n++)k[n]=arguments[n+1];e.$$p=null;g=(h=b.get("File")).$new.apply(h,[c].concat(a.to_a(k)));return m!==q?(l=a.yield1(m,
g),l):g})})(a.base);(function(h,$super){function w(){}var x=w=l(h,$super,"File",w),u=x.$$proto,p=x.$$scope,r;u.eof=u.path=q;a.cdecl(p,"SEPARATOR","/");a.cdecl(p,"ALT_SEPARATOR",q);x.$attr_reader("eof");x.$attr_reader("lineno");x.$attr_reader("path");a.defn(x,"$initialize",function(a,c){this.path=a;this.contents=q;this.eof=!1;return this.lineno=0});a.defn(x,"$read",function(){var a,c=q;return(a=this.eof)===q||a.$$is_boolean&&1!=a?(c=p.get("File").$read(this.path),this.eof=!0,this.lineno=c.$size(),
c):""});a.defn(x,"$each_line",r=function(g){var c,h=r.$$p||q,l=q;null==e["/"]&&(e["/"]=q);null==g&&(g=e["/"]);r.$$p=null;if((c=this.eof)!==q&&(!c.$$is_boolean||1==c))return h!==q?this:[].$to_enum();if(h!==q){l=p.get("File").$read(this.path);this.eof=!1;this.lineno=0;for(var n=l.$chomp(),l=l.length!=n.length,n=n.split(g),f=0,d=n.length;f<d;f++)this.lineno+=1,f<d-1||l?(c=a.yield1(h,n[f]+g))===m?m.$v:c:(c=a.yield1(h,n[f]))===m?m.$v:c;this.eof=!0;return this}return this.$read().$each_line()});a.defs(x,
"$expand_path",function(a){return a});a.defs(x,"$join",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),e=0;e<a;e++)c[e]=arguments[e+0];a=p.get("SEPARATOR");return"number"===typeof c&&"number"===typeof a?c*a:c["$*"](a)});a.defs(x,"$basename",function(a){var e,h=q;return(e=h=a.$rindex(p.get("SEPARATOR")))===q||e.$$is_boolean&&1!=e?a:a["$[]"](c(n(h,1),-1,!1))});a.defs(x,"$dirname",function(a){var e,h=q;return(e=h=a.$rindex(p.get("SEPARATOR")))===q||e.$$is_boolean&&1!=e?".":a["$[]"](c(0,
"number"===typeof h?h-1:h["$-"](1),!1))});a.defs(x,"$extname",function(a){var e,h=q;if((e=a["$nil_or_empty?"]())!==q&&(!e.$$is_boolean||1==e))return"";h=a["$[]"](c(1,-1,!1)).$rindex(".");return(e=h["$nil?"]())===q||e.$$is_boolean&&1!=e?a["$[]"](c(n(h,1),-1,!1)):""});a.defs(x,"$file?",function(a){return!0});a.defs(x,"$readable?",function(a){return!0});return(a.defs(x,"$read",function(a){var c=q;return function(){c=p.get("JAVASCRIPT_PLATFORM");if("node"["$==="](c))return require("fs").readFileSync(a,
"utf8");if("java-nashorn"["$==="](c)){var e=Java.type("java.nio.file.Paths"),h=[];Java.type("java.nio.file.Files").readAllLines(e.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){h.push(a)});return h.join("\n")}if("browser"["$==="](c)){var h="",l=-1;try{e=new XMLHttpRequest,e.open("GET",a,!1),e.addEventListener("load",function(){l=this.status;if(0==l||200==l)h=this.responseText}),e.overrideMimeType("text/plain"),e.send()}catch(f){l=0}if(404==l||0==l&&""==h)throw p.get("IOError").$new("No such file or directory: "+
a);return h}return"standalone"["$==="](c)?read(a):""}()}),q)&&"read"})(a.base,null);return function(c,$super){function e(){}var h=e=l(c,$super,"IO",e),m=h.$$scope;return(a.defs(h,"$read",function(a){return m.get("File").$read(a)}),q)&&"read"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.klass;return function(m,$super){function l(){}var e=l=q(m,$super,"MatchData",l);e.$$proto.matches=n;return(a.defn(e,"$[]=",function(a,e){return this.matches["$[]="](a,e)}),n)&&"[]="}(a.base,null)};Opal.modules["asciidoctor/opal_ext/kernel"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.module;return function(m){m=q(m,"Kernel");a.defn(m,"$freeze",function(){return n})}(a.base)};
Opal.modules["asciidoctor/opal_ext/nashorn/io"]=function(a){a.dynamic_require_severity="ignore";var n,q;n=a.nil;a=a.gvars;null==a.stdout&&(a.stdout=n);null==a.stderr&&(a.stderr=n);n=[function(a){print(a)}];q=a.stdout;q["$write_proc="].apply(q,n);n[n.length-1];return n=[function(a){print(a)}],q=a.stderr,q["$write_proc="].apply(q,n),n[n.length-1]};
Opal.modules["asciidoctor/opal_ext"]=function(a){a.dynamic_require_severity="ignore";var n=a.top,q=a.nil,m=q;a.cdecl(a,"JAVASCRIPT_PLATFORM","undefined"!==typeof module&&module.exports?"node":"undefined"!==typeof XMLHttpRequest?"browser":"undefined"!==typeof Java&&Java.type?"java-nashorn":"undefined"!==typeof java?"java-rhino":"standalone");n.$require("strscan");n.$require("asciidoctor/opal_ext/dir");n.$require("asciidoctor/opal_ext/file");n.$require("asciidoctor/opal_ext/match_data");n.$require("asciidoctor/opal_ext/kernel");
m=a.get("JAVASCRIPT_PLATFORM");a="java-nashorn"["$==="](m)?n.$require("asciidoctor/opal_ext/nashorn/io"):q;return a};Opal.modules["asciidoctor/version"]=function(a){a.dynamic_require_severity="ignore";var n=a.module,n=n(a.base,"Asciidoctor").$$scope;a.cdecl(n,"VERSION","1.5.3")};
Opal.modules["asciidoctor/timings"]=function(a){function n(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function m(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="ignore";var h=a.nil,l=a.module,e=a.klass,c=a.hash2,A=a.gvars;return function(b){(function(b,$super){function l(){}var p=l=e(b,$super,"Timings",l),r=p.$$proto;r.timers=r.log=h;a.defn(p,"$initialize",
function(){this.log=c([],{});return this.timers=c([],{})});a.defn(p,"$start",function(b){return this.timers["$[]="](b,a.get("Time").$now())});a.defn(p,"$record",function(b){return this.log["$[]="](b,n(a.get("Time").$now(),this.timers.$delete(b)))});a.defn(p,"$read_parse",function(){var a,b=h;return q(b=m(!1!==(a=this.log["$[]"]("read"))&&a!==h?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==h?a:0),0)?b:h});a.defn(p,"$convert",function(){var a;return!1!==(a=this.log["$[]"]("convert"))&&a!==h?a:0});a.defn(p,
"$read_parse_convert",function(){var a,b=h;return q(b=m(m(!1!==(a=this.log["$[]"]("read"))&&a!==h?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==h?a:0),!1!==(a=this.log["$[]"]("convert"))&&a!==h?a:0),0)?b:h});a.defn(p,"$total",function(){var a,b=h;return q(b=m(m(m(!1!==(a=this.log["$[]"]("read"))&&a!==h?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==h?a:0),!1!==(a=this.log["$[]"]("convert"))&&a!==h?a:0),!1!==(a=this.log["$[]"]("write"))&&a!==h?a:0),0)?b:h});return(a.defn(p,"$print_report",function(a,b){null==
A.stdout&&(A.stdout=h);null==a&&(a=A.stdout);null==b&&(b=h);!1!==b&&b!==h&&a.$puts("Input file: "+b);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))}),h)&&"print_report"})(l(b,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/core_ext/object/nil_or_empty"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.klass;(function(m,$super){function l(){}var e=l=q(m,$super,"NilClass",l),c;return(c=e["$respond_to?"]("nil_or_empty?"))===n||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?","nil?"):n})(a.base,null);(function(m,$super){function l(){}var e=l=q(m,$super,"String",l),c;return(c=e["$respond_to?"]("nil_or_empty?"))===n||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?","empty?"):n})(a.base,
null);(function(m,$super){function l(){}var e=l=q(m,$super,"Array",l),c;return(c=e["$respond_to?"]("nil_or_empty?"))===n||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?","empty?"):n})(a.base,null);(function(m,$super){function l(){}var e=l=q(m,$super,"Hash",l),c;return(c=e["$respond_to?"]("nil_or_empty?"))===n||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?","empty?"):n})(a.base,null);return function(m,$super){function l(){}var e=l=q(m,$super,"Numeric",l),c;return(c=e["$respond_to?"]("nil_or_empty?"))===
n||c.$$is_boolean&&1!=c?a.alias(e,"nil_or_empty?","nil?"):n}(a.base,null)};Opal.modules["asciidoctor/core_ext"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil;a.top.$require("asciidoctor/core_ext/object/nil_or_empty");if(a.get("RUBY_ENGINE")["$=="]("opal"))return n};
Opal.modules["asciidoctor/helpers"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.module,m=a.range,h=a.gvars;return function(l){(function(e){e=q(e,"Helpers");var c=e.$$scope;a.defs(e,"$require_library",function(c,b,e){var h=n,l=n;null==b&&(b=!0);null==e&&(e="abort");try{return this.$require(c)}catch(p){if(a.rescue(p,[a.get("LoadError")])){h=p;try{if(!1!==b&&b!==n)return b["$=="](!0)&&(b=c),l=e,"abort"["$==="](l)?this.$fail("asciidoctor: FAILED: required gem '"+b+"' is not installed. Processing aborted."):
"warn"["$==="](l)?this.$warn("asciidoctor: WARNING: optional gem '"+b+"' is not installed. Functionality disabled."):n;l=e;return"abort"["$==="](l)?this.$fail("asciidoctor: FAILED: "+h.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](l)?this.$warn("asciidoctor: WARNING: "+h.$message().$chomp(".")+". Functionality disabled."):n}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else throw p;}});a.defs(e,"$normalize_lines",function(c){return c.$class()["$=="](a.get("String"))?this.$normalize_lines_from_string(c):
this.$normalize_lines_array(c)});a.defs(e,"$normalize_lines_array",function(e){var b,h,l,q,p,r,g=n,k=n,t=n,C=n;if((b=e["$empty?"]())!==n&&(!b.$$is_boolean||1==b))return[];g=(k=e["$[]"](0))["$[]"](m(0,2,!1)).$bytes().$to_a();if((b=c.get("COERCE_ENCODING"))===n||b.$$is_boolean&&1!=b){if(g["$=="](c.get("BOM_BYTES_UTF_8")))e["$[]="](0,k["$[]"](m(3,-1,!1)));return(b=e.$map,b.$$p=(r=function(a){null==a&&(a=n);return a.$rstrip()},r.$$s=this,r),b).call(e)}t=a.get("Encoding").$$scope.get("UTF_8");if((C=g["$[]"](m(0,
1,!1)))["$=="](c.get("BOM_BYTES_UTF_16LE")))return(b=(h=e.$join().$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](m(1,-1,!1)).$encode(t).$lines()).$map,b.$$p=(l=function(a){null==a&&(a=n);return a.$rstrip()},l.$$s=this,l),b).call(h);if(C["$=="](c.get("BOM_BYTES_UTF_16BE")))return e["$[]="](0,k.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](m(1,-1,!1))),(b=e.$map,b.$$p=(q=function(b){null==b&&(b=n);return""+b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE")).$encode(t).$rstrip()},
q.$$s=this,q),b).call(e);if(g["$[]"](m(0,2,!1))["$=="](c.get("BOM_BYTES_UTF_8")))e["$[]="](0,k.$force_encoding(t)["$[]"](m(1,-1,!1)));return(b=e.$map,b.$$p=(p=function(a){null==a&&(a=n);return a.$encoding()["$=="](t)?a.$rstrip():a.$force_encoding(t).$rstrip()},p.$$s=this,p),b).call(e)});a.defs(e,"$normalize_lines_from_string",function(e){var b,h,l,q=n,p=n,r=n;if((b=e["$nil_or_empty?"]())!==n&&(!b.$$is_boolean||1==b))return[];(b=c.get("COERCE_ENCODING"))===n||b.$$is_boolean&&1!=b?e["$[]"](m(0,2,!1)).$bytes().$to_a()["$=="](c.get("BOM_BYTES_UTF_8"))&&
(e=e["$[]"](m(3,-1,!1))):(q=a.get("Encoding").$$scope.get("UTF_8"),p=e["$[]"](m(0,2,!1)).$bytes().$to_a(),(r=p["$[]"](m(0,1,!1)))["$=="](c.get("BOM_BYTES_UTF_16LE"))?e=e.$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](m(1,-1,!1)).$encode(q):r["$=="](c.get("BOM_BYTES_UTF_16BE"))?e=e.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](m(1,-1,!1)).$encode(q):p["$[]"](m(0,2,!1))["$=="](c.get("BOM_BYTES_UTF_8"))?e=e.$encoding()["$=="](q)?e["$[]"](m(1,-1,!1)):e.$force_encoding(q)["$[]"](m(1,
-1,!1)):e.$encoding()["$=="](q)||(e=e.$force_encoding(q)));return(b=(h=e.$each_line()).$map,b.$$p=(l=function(a){null==a&&(a=n);return a.$rstrip()},l.$$s=this,l),b).call(h)});a.defs(e,"$uriish?",function(a){var b;return b=a["$include?"](":"),!1!==b&&b!==n?a["$=~"](c.get("UriSniffRx")):b});a.defs(e,"$uri_prefix",function(a){var b,e;return(b=(e=a["$include?"](":"),!1!==e&&e!==n?a["$=~"](c.get("UriSniffRx")):e))===n||b.$$is_boolean&&1!=b?n:(b=h["~"])===n?n:b["$[]"](0)});a.cdecl(c,"REGEXP_ENCODE_URI_CHARS",
/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(e,"$encode_uri",function(a){var b,e;return(b=a.$gsub,b.$$p=(e=function(){var a=e.$$s||this,b,c,l,g;return(b=(c=((g=h["~"])===n?n:g["$[]"](0)).$each_byte()).$map,b.$$p=(l=function(a){var b=l.$$s||this;null==a&&(a=n);return b.$sprintf("%%%02X",a)},l.$$s=a,l),b).call(c).$join()},e.$$s=this,e),b).call(a,c.get("REGEXP_ENCODE_URI_CHARS"))});a.defs(e,"$rootname",function(c){var b,e=n;return(b=(e=a.get("File").$extname(c))["$empty?"]())===n||b.$$is_boolean&&1!=b?c["$[]"](m(0,
e.$length()["$-@"](),!0)):c});a.defs(e,"$basename",function(c,b){var e;null==b&&(b=!1);return!1!==b&&b!==n?a.get("File").$basename(c,!1!==(e=a.get("File").$extname(c))&&e!==n?e:""):a.get("File").$basename(c)});a.defs(e,"$mkdir_p",function(c){var b,e,h=n;return(b=a.get("File")["$directory?"](c))===n||b.$$is_boolean&&1!=b?(h=a.get("File").$dirname(c),(b=(e=a.get("File")["$directory?"](h=a.get("File").$dirname(c))["$!"](),!1!==e&&e!==n?h["$!="]("."):e))===n||b.$$is_boolean&&1!=b||this.$mkdir_p(h),a.get("Dir").$mkdir(c)):
n})})(q(l,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/substitutors"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var l=a.nil,e=a.breaker,c=a.slice,A=a.module,b=a.hash2,w=a.gvars,x=a.range;return function(u){(function(p){p=
A(p,"Substitutors");var r=p.$$scope;a.cdecl(r,"SPECIAL_CHARS",b(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"}));a.cdecl(r,"SPECIAL_CHARS_PATTERN",new RegExp("["+r.get("SPECIAL_CHARS").$keys().$join()+"]"));a.cdecl(r,"SUBS",b("basic normal verbatim title header pass".split(" "),{basic:["specialcharacters"],normal:"specialcharacters quotes attributes replacements macros post_replacements".split(" "),verbatim:["specialcharacters","callouts"],title:"specialcharacters quotes replacements macros attributes post_replacements".split(" "),
header:["specialcharacters","attributes"],pass:[]}));a.cdecl(r,"COMPOSITE_SUBS",b(["none","normal","verbatim","specialchars"],{none:[],normal:r.get("SUBS")["$[]"]("normal"),verbatim:r.get("SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]}));a.cdecl(r,"SUB_SYMBOLS",b("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.cdecl(r,"SUB_OPTIONS",b(["block","inline"],{block:n(n(r.get("COMPOSITE_SUBS").$keys(),
r.get("SUBS")["$[]"]("normal")),["callouts"]),inline:n(r.get("COMPOSITE_SUBS").$keys(),r.get("SUBS")["$[]"]("normal"))}));a.cdecl(r,"SUB_HIGHLIGHT",["coderay","pygments"]);a.cdecl(r,"PASS_START","\u0096");a.cdecl(r,"PASS_END","\u0097");a.cdecl(r,"PASS_MATCH",/\u0096(\d+)\u0097/);a.cdecl(r,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/);p.$attr_reader("passthroughs");a.defn(p,"$apply_subs",function(b,c,e){var h,m,f,d,y,p=l,B=l,J=l,F=l;null==this.passthroughs&&
(this.passthroughs=l);null==c&&(c="normal");null==e&&(e=!1);if((h=c["$!"]())!==l&&(!h.$$is_boolean||1==h))return b;c["$=="]("normal")?c=r.get("SUBS")["$[]"]("normal"):!1!==e&&e!==l&&((h=a.get("Symbol")["$==="](c))===l||h.$$is_boolean&&1!=h?(p=[],(h=(m=c).$each,h.$$p=(f=function(a){var d;null==a&&(a=l);return(d=r.get("COMPOSITE_SUBS")["$has_key?"](a))===l||d.$$is_boolean&&1!=d?p["$<<"](a):p=n(p,r.get("COMPOSITE_SUBS")["$[]"](a))},f.$$s=this,f),h).call(m),c=p):c=!1!==(h=r.get("COMPOSITE_SUBS")["$[]"](c))&&
h!==l?h:[c]);if((h=c["$empty?"]())!==l&&(!h.$$is_boolean||1==h))return b;B=(h=J=a.get("Array")["$==="](b))===l||h.$$is_boolean&&1!=h?b:q(b,r.get("EOL"));(h=F=c["$include?"]("macros"))===l||h.$$is_boolean&&1!=h||(B=this.$extract_passthroughs(B),(h=this.passthroughs["$empty?"]())===l||h.$$is_boolean&&1!=h||(F=!1));(h=(d=c).$each,h.$$p=(y=function(a){var d=y.$$s||this,b,f=l;null==a&&(a=l);f=a;return"specialcharacters"["$==="](f)?B=d.$sub_specialchars(B):"quotes"["$==="](f)?B=d.$sub_quotes(B):"attributes"["$==="](f)?
B=q(d.$sub_attributes(B.$split(r.get("EOL"))),r.get("EOL")):"replacements"["$==="](f)?B=d.$sub_replacements(B):"macros"["$==="](f)?B=d.$sub_macros(B):"highlight"["$==="](f)?B=d.$highlight_source(B,c["$include?"]("callouts")):"callouts"["$==="](f)?(b=c["$include?"]("highlight"))===l||b.$$is_boolean&&1!=b?B=d.$sub_callouts(B):l:"post_replacements"["$==="](f)?B=d.$sub_post_replacements(B):d.$warn("asciidoctor: WARNING: unknown substitution type "+a)},y.$$s=this,y),h).call(d);!1!==F&&F!==l&&(B=this.$restore_passthroughs(B));
return!1!==J&&J!==l?B.$split(r.get("EOL")):B});a.defn(p,"$apply_normal_subs",function(b){var c;return this.$apply_subs((c=a.get("Array")["$==="](b))===l||c.$$is_boolean&&1!=c?b:q(b,r.get("EOL")))});a.defn(p,"$apply_title_subs",function(a){return this.$apply_subs(a,r.get("SUBS")["$[]"]("title"))});a.defn(p,"$apply_header_subs",function(a){return this.$apply_subs(a,r.get("SUBS")["$[]"]("header"))});a.defn(p,"$extract_passthroughs",function(g){var c,e,p,n,f,d,y,E,B=l,J=l,F=l,v=l;null==this.document&&
(this.document=l);B=this.document.$compat_mode();(c=!1!==(e=!1!==(p=g["$include?"]("++"))&&p!==l?p:g["$include?"]("$$"))&&e!==l?e:g["$include?"]("ss:"))===l||c.$$is_boolean&&1!=c||(g=(c=(e=g).$gsub,c.$$p=(n=function(){var d=n.$$s||this,f,c=l,g=l,e=l,k=e=l,v=l,y=l,p=l,c=l;null==d.passthroughs&&(d.passthroughs=l);null==w["~"]&&(w["~"]=l);c=w["~"];g=l;if((f=(e=c["$[]"](4))["$nil_or_empty?"]())===l||f.$$is_boolean&&1!=f){if((f=!1!==B&&B!==l?e["$=="]("++"):B)!==l&&(!f.$$is_boolean||1==f))return(f=c["$[]"](2)["$nil_or_empty?"]())===
l||f.$$is_boolean&&1!=f?""+c["$[]"](1)+"["+c["$[]"](2)+"]"+c["$[]"](3)+"++"+d.$extract_passthroughs(c["$[]"](5))+"++":""+c["$[]"](1)+c["$[]"](3)+"++"+d.$extract_passthroughs(c["$[]"](5))+"++";k=c["$[]"](2);(f=a.get("RUBY_ENGINE_OPAL"))===l||f.$$is_boolean&&1!=f||k["$=="]("")&&(k=l);v=c["$[]"](3).$size();y=c["$[]"](5);p=!1;if(!1!==k&&k!==l){if(m(v,0))return""+c["$[]"](1)+"["+k+"]"+q("\\",h(v,1))+e+c["$[]"](5)+e+")";c["$[]"](1)["$=="]("\\")?(g="["+k+"]",k=l):((f=e["$=="]("++")?k["$end_with?"]("x-"):
e["$=="]("++"))===l||f.$$is_boolean&&1!=f||(p=!0,k=k["$[]"](x(0,-2,!0))),k=d.$parse_attributes(k))}else if(m(v,0))return""+c["$[]"](1)+"["+k+"]"+q("\\",h(v,1))+e+c["$[]"](5)+e;c=e["$=="]("+++")?[]:["specialcharacters"];e=d.passthroughs.$size();if(!1!==k&&k!==l)if(!1!==p&&p!==l)d.passthroughs["$[]="](e,b(["text","subs","type","attributes"],{text:y,subs:r.get("SUBS")["$[]"]("normal"),type:"monospaced",attributes:k}));else d.passthroughs["$[]="](e,b(["text","subs","type","attributes"],{text:y,subs:c,
type:"unquoted",attributes:k}));else d.passthroughs["$[]="](e,b(["text","subs"],{text:y,subs:c}))}else{if(c["$[]"](6)["$=="]("\\"))return c["$[]"](0)["$[]"](x(1,-1,!1));d.passthroughs["$[]="](e=d.passthroughs.$size(),b(["text","subs"],{text:d.$unescape_brackets(c["$[]"](8)),subs:(f=c["$[]"](7)["$nil_or_empty?"]())===l||f.$$is_boolean&&1!=f?d.$resolve_pass_subs(c["$[]"](7)):[]}))}return""+g+r.get("PASS_START")+e+r.get("PASS_END")},n.$$s=this,n),c).call(e,r.get("PassInlineMacroRx")));c=a.to_ary(r.get("PassInlineRx")["$[]"](B));
J=null==c[0]?l:c[0];F=null==c[1]?l:c[1];v=null==c[2]?l:c[2];(c=!1!==(p=g["$include?"](J))&&p!==l?p:(f=!1!==F&&F!==l)?g["$include?"](F):F)===l||c.$$is_boolean&&1!=c||(g=(c=(p=g).$gsub,c.$$p=(d=function(){var f=d.$$s||this,c,g=l,e=l,k=l,h=l,v=l,y=l,p=l,v=g=l;null==f.passthroughs&&(f.passthroughs=l);null==w["~"]&&(w["~"]=l);g=w["~"];e=g["$[]"](1);k=g["$[]"](2);h=(c=g["$[]"](3)["$start_with?"]("\\"))===l||c.$$is_boolean&&1!=c?l:"\\";v=g["$[]"](4);y=g["$[]"](5);(c=a.get("RUBY_ENGINE_OPAL"))===l||c.$$is_boolean&&
1!=c||k["$=="]("")&&(k=l);!1!==B&&B!==l?p=!0:(c=p=!1!==k&&k!==l?k["$end_with?"]("x-"):k)===l||c.$$is_boolean&&1!=c||(k=k["$[]"](x(0,-2,!0)));if(!1!==k&&k!==l){if((c=v["$=="]("`")?p["$!"]():v["$=="]("`"))!==l&&(!c.$$is_boolean||1==c))return""+e+"["+k+"]"+h+"`"+f.$extract_passthroughs(y)+"`";if(!1!==h&&h!==l)return""+e+"["+k+"]"+g["$[]"](3)["$[]"](x(1,-1,!1));e["$=="]("\\")?(e="["+k+"]",k=l):k=f.$parse_attributes(k)}else{if((c=v["$=="]("`")?p["$!"]():v["$=="]("`"))!==l&&(!c.$$is_boolean||1==c))return""+
e+h+"`"+f.$extract_passthroughs(y)+"`";if(!1!==h&&h!==l)return""+e+g["$[]"](3)["$[]"](x(1,-1,!1))}g=f.passthroughs.$size();if(!1!==B&&B!==l)f.passthroughs["$[]="](g,b(["text","subs","attributes","type"],{text:y,subs:["specialcharacters"],attributes:k,type:"monospaced"}));else if(!1!==k&&k!==l)if(!1!==p&&p!==l)v=v["$=="]("`")?["specialcharacters"]:r.get("SUBS")["$[]"]("normal"),f.passthroughs["$[]="](g,b(["text","subs","attributes","type"],{text:y,subs:v,attributes:k,type:"monospaced"}));else f.passthroughs["$[]="](g,
b(["text","subs","attributes","type"],{text:y,subs:["specialcharacters"],attributes:k,type:"unquoted"}));else f.passthroughs["$[]="](g,b(["text","subs"],{text:y,subs:["specialcharacters"]}));return""+e+r.get("PASS_START")+g+r.get("PASS_END")},d.$$s=this,d),c).call(p,v));(c=(f=g["$include?"](":"),!1!==f&&f!==l?!1!==(y=g["$include?"]("stem:"))&&y!==l?y:g["$include?"]("math:"):f))===l||c.$$is_boolean&&1!=c||(g=(c=(f=g).$gsub,c.$$p=(E=function(){var a=E.$$s||this,d,f=l,c=l,g=l,e=l,k=f=l;null==a.document&&
(a.document=l);null==a.passthroughs&&(a.passthroughs=l);null==w["~"]&&(w["~"]=l);f=w["~"];if((d=f["$[]"](0)["$start_with?"]("\\"))!==l&&(!d.$$is_boolean||1==d))return f["$[]"](0)["$[]"](x(1,-1,!1));(c=f["$[]"](1).$to_sym())["$=="]("stem")&&(c=((d=(g=a.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===l||d.$$is_boolean&&1!=d?g:"asciimath").$to_sym());e=a.$unescape_brackets(f["$[]"](3));f=(d=f["$[]"](2)["$nil_or_empty?"]())===l||d.$$is_boolean&&1!=d?a.$resolve_pass_subs(f["$[]"](2)):
(d=a.document["$basebackend?"]("html"))===l||d.$$is_boolean&&1!=d?[]:["specialcharacters"];a.passthroughs["$[]="](k=a.passthroughs.$size(),b(["text","subs","type"],{text:e,subs:f,type:c}));return""+r.get("PASS_START")+k+r.get("PASS_END")},E.$$s=this,E),c).call(f,r.get("StemInlineMacroRx")));return g});a.defn(p,"$restore_passthroughs",function(a,c){var e,h,p,f;null==this.passthroughs&&(this.passthroughs=l);null==c&&(c=!0);try{return(e=(h=!1!==c&&c!==l)?!1!==(p=this.passthroughs["$empty?"]())&&p!==
l?p:a["$include?"](r.get("PASS_START"))["$!"]():c)===l||e.$$is_boolean&&1!=e?(e=(h=a).$gsub,e.$$p=(f=function(){var a=f.$$s||this,c,g=l,e=l,k=l,h=l;null==a.passthroughs&&(a.passthroughs=l);null==w["~"]&&(w["~"]=l);g=a.passthroughs["$[]"](w["~"]["$[]"](1).$to_i());e=(c=k=g["$[]"]("subs"))===l||c.$$is_boolean&&1!=c?g["$[]"]("text"):a.$apply_subs(g["$[]"]("text"),k);(c=h=g["$[]"]("type"))===l||c.$$is_boolean&&1!=c||(e=r.get("Inline").$new(a,"quoted",e,b(["type","attributes"],{type:h,attributes:g["$[]"]("attributes")})).$convert());
return(c=e["$include?"](r.get("PASS_START")))===l||c.$$is_boolean&&1!=c?e:a.$restore_passthroughs(e,!1)},f.$$s=this,f),e).call(h,r.get("PASS_MATCH")):a}finally{!1!==c&&c!==l&&this.passthroughs.$clear()}});a.defn(p,"$sub_specialchars",function(a){var b,c;return(b=r.get("SUPPORTS_GSUB_RESULT_HASH"))===l||b.$$is_boolean&&1!=b?(b=a.$gsub,b.$$p=(c=function(){var a;return r.get("SPECIAL_CHARS")["$[]"]((a=w["~"])===l?l:a["$[]"](0))},c.$$s=this,c),b).call(a,r.get("SPECIAL_CHARS_PATTERN")):a.$gsub(r.get("SPECIAL_CHARS_PATTERN"),
r.get("SPECIAL_CHARS"))});a.alias(p,"sub_specialcharacters","sub_specialchars");a.defn(p,"$sub_quotes",function(b){var c,e,h,p,f,d=l;null==this.document&&(this.document=l);(c=a.get("RUBY_ENGINE_OPAL"))===l||c.$$is_boolean&&1!=c?(d=""+b,(c=(p=r.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,c.$$p=(f=function(a,b,c){var g=f.$$s||this,e,k,h;null==a&&(a=l);null==b&&(b=l);null==c&&(c=l);return(e=(k=d)["$gsub!"],e.$$p=(h=function(){var d=h.$$s||this;null==w["~"]&&(w["~"]=l);return d.$convert_quoted_text(w["~"],
a,b)},h.$$s=g,h),e).call(k,c)},f.$$s=this,f),c).call(p)):(d=b,(c=(e=r.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,c.$$p=(h=function(a,b,f){var c=h.$$s||this,g,e,k;null==a&&(a=l);null==b&&(b=l);null==f&&(f=l);return d=(g=(e=d).$gsub,g.$$p=(k=function(){var d=k.$$s||this;null==w["~"]&&(w["~"]=l);return d.$convert_quoted_text(w["~"],a,b)},k.$$s=c,k),g).call(e,f)},h.$$s=this,h),c).call(e));return d});a.defn(p,"$sub_replacements",function(b){var c,e,h,p,f,d=l;(c=a.get("RUBY_ENGINE_OPAL"))===
l||c.$$is_boolean&&1!=c?(d=""+b,(c=(p=r.get("REPLACEMENTS")).$each,c.$$p=(f=function(a,b,c){var g=f.$$s||this,e,k,h;null==a&&(a=l);null==b&&(b=l);null==c&&(c=l);return(e=(k=d)["$gsub!"],e.$$p=(h=function(){var a=h.$$s||this;null==w["~"]&&(w["~"]=l);return a.$do_replacement(w["~"],b,c)},h.$$s=g,h),e).call(k,a)},f.$$s=this,f),c).call(p)):(d=b,(c=(e=r.get("REPLACEMENTS")).$each,c.$$p=(h=function(a,b,f){var c=h.$$s||this,g,e,k;null==a&&(a=l);null==b&&(b=l);null==f&&(f=l);return d=(g=(e=d).$gsub,g.$$p=
(k=function(){var a=k.$$s||this;null==w["~"]&&(w["~"]=l);return a.$do_replacement(w["~"],b,f)},k.$$s=c,k),g).call(e,a)},h.$$s=this,h),c).call(e));return d});a.defn(p,"$do_replacement",function(a,b,c){var e,h=l,h=l;(e=(h=a["$[]"](0))["$include?"]("\\"))===l||e.$$is_boolean&&1!=e?(h=c,a="none"["$==="](h)?b:"leading"["$==="](h)?""+a["$[]"](1)+b:"bounding"["$==="](h)?""+a["$[]"](1)+b+a["$[]"](2):l):a=h.$tr("\\","");return a});a.defn(p,"$sub_attributes",function(c,k){var h,p,m,f=l,d=l,y=l,E=l;null==this.document&&
(this.document=l);null==k&&(k=b([],{}));if((h=c["$nil_or_empty?"]())!==l&&(!h.$$is_boolean||1==h))return c;(h=f=a.get("String")["$==="](c))===l||h.$$is_boolean&&1!=h||(c=[c]);d=this.document.$attributes();y=l;E=[];(h=(p=c).$each,h.$$p=(m=function(b){var f=m.$$s||this,c,g,h,p,t=l,G=l;null==b&&(b=l);G=t=!1;(c=b["$include?"]("{"))===l||c.$$is_boolean&&1!=c||(b=(c=(g=b).$gsub,c.$$p=(h=function(){var b=h.$$s||this,f,c,g=l,v=l,p=l,m=l,F=l,K=l,q=l,B=l,E=l;null==b.document&&(b.document=l);null==w["~"]&&(w["~"]=
l);g=w["~"];if((f=!1!==(c=g["$[]"](1)["$=="]("\\"))&&c!==l?c:g["$[]"](4)["$=="]("\\"))===l||f.$$is_boolean&&1!=f){if((f=g["$[]"](3)["$nil_or_empty?"]()["$!"]())===l||f.$$is_boolean&&1!=f)return(f=d["$key?"](E=g["$[]"](2).$downcase()))===l||f.$$is_boolean&&1!=f?(f=r.get("INTRINSIC_ATTRIBUTES")["$key?"](E))===l||f.$$is_boolean&&1!=f?function(){F=!1!==(f=y)&&f!==l?f:y=!1!==(c=k["$[]"]("attribute_missing"))&&c!==l?c:d.$fetch("attribute-missing",r.get("Compliance").$attribute_missing());if("skip"["$==="](F))return g["$[]"](0);
if("drop-line"["$==="](F))return b.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+E),t=!0,e.$v="",e;if("warn"["$==="](F))return b.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+E),g["$[]"](0);G=!0;return""}():r.get("INTRINSIC_ATTRIBUTES")["$[]"](E):d["$[]"](E);v=n((p=g["$[]"](3)).$length(),1);m=g["$[]"](2)["$[]"](x(v,-1,!1));return function(){F=p;if("set"["$==="](F)){K=m.$split(":");f=a.to_ary(r.get("Parser").$store_attribute(K["$[]"](0),
!1!==(c=K["$[]"](1))&&c!==l?c:"",b.document));q=null==f[1]?l:f[1];if((!1===q||q===l)&&d.$fetch("attribute-undefined",r.get("Compliance").$attribute_undefined())["$=="]("drop-line"))return t=!0,e.$v="",e;G=!0;return""}if("counter"["$==="](F)||"counter2"["$==="](F))return K=m.$split(":"),B=b.document.$counter(K["$[]"](0),K["$[]"](1)),p["$=="]("counter2")?(G=!0,""):B;b.$warn("asciidoctor: WARNING: illegal attribute directive: "+g["$[]"](3));return g["$[]"](0)}()}return"{"+g["$[]"](2)+"}"},h.$$s=f,h),
c).call(g,r.get("AttributeReferenceRx")));return(c=!1!==(p=t)&&p!==l?p:!1!==G&&G!==l?b["$empty?"]():G)===l||c.$$is_boolean&&1!=c?E["$<<"](b):l},m.$$s=this,m),h).call(p);return!1!==f&&f!==l?q(E,r.get("EOL")):E});a.defn(p,"$sub_macros",function(g){var e,h,p,m,f,d,y,n,q,J,F,v,D,K,N,G,L,O,u,ca,Z=l,A=l,da=l,P=l,M=l,R=l;null==this.document&&(this.document=l);if((e=g["$nil_or_empty?"]())!==l&&(!e.$$is_boolean||1==e))return g;Z=b([],{});Z["$[]="]("square_bracket",g["$include?"]("["));Z["$[]="]("round_bracket",
g["$include?"]("("));Z["$[]="]("colon",A=g["$include?"](":"));Z["$[]="]("macroish",(e=Z["$[]"]("square_bracket"),!1!==e&&e!==l?A:e));Z["$[]="]("macroish_short_form",(e=(h=Z["$[]"]("square_bracket"),!1!==h&&h!==l?A:h),!1!==e&&e!==l?g["$include?"](":["):e));da=this.document.$attributes()["$has_key?"]("linkattrs");P=this.document.$attributes()["$has_key?"]("experimental");M=""+g;!1!==P&&P!==l&&((e=(h=Z["$[]"]("macroish_short_form"),!1!==h&&h!==l?!1!==(p=M["$include?"]("kbd:"))&&p!==l?p:M["$include?"]("btn:"):
h))===l||e.$$is_boolean&&1!=e||(M=(e=(h=M).$gsub,e.$$p=(m=function(){var a=m.$$s||this,d,f,c,g=l,e=l,g=g=l;null==w["~"]&&(w["~"]=l);g=w["~"];if((d=(e=g["$[]"](0))["$start_with?"]("\\"))!==l&&(!d.$$is_boolean||1==d))return e["$[]"](x(1,-1,!1));if((d=e["$start_with?"]("kbd"))===l||d.$$is_boolean&&1!=d){if((d=e["$start_with?"]("btn"))===l||d.$$is_boolean&&1!=d)return l;g=a.$unescape_bracketed_text(g["$[]"](1));return r.get("Inline").$new(a,"button",g).$convert()}g=a.$unescape_bracketed_text(g["$[]"](1));
g=g["$=="]("+")?["+"]:(d=(f=g.$split(r.get("KbdDelimiterRx"))).$inject,d.$$p=(c=function(a,d){var b;null==a&&(a=l);null==d&&(d=l);if((b=d["$end_with?"]("++"))===l||b.$$is_boolean&&1!=b)a["$<<"](d.$strip());else a["$<<"](d["$[]"](x(0,-3,!1)).$strip()),a["$<<"]("+");return a},c.$$s=a,c),d).call(f,[]);return r.get("Inline").$new(a,"kbd",l,b(["attributes"],{attributes:b(["keys"],{keys:g})})).$convert()},m.$$s=this,m),e).call(h,r.get("KbdBtnInlineMacroRx"))),(e=(p=Z["$[]"]("macroish"),!1!==p&&p!==l?M["$include?"]("menu:"):
p))===l||e.$$is_boolean&&1!=e||(M=(e=(p=M).$gsub,e.$$p=(f=function(){var a=f.$$s||this,d,c,g,e=l,k=l,h=e=k=l,h=e=l;null==w["~"]&&(w["~"]=l);e=w["~"];if((d=(k=e["$[]"](0))["$start_with?"]("\\"))!==l&&(!d.$$is_boolean||1==d))return k["$[]"](x(1,-1,!1));k=e["$[]"](1);e=e["$[]"](2);(d=e["$!"]())===l||d.$$is_boolean&&1!=d?(d=h=(c=e["$include?"]("&gt;"))===l||c.$$is_boolean&&1!=c?(c=e["$include?"](","))===l||c.$$is_boolean&&1!=c?l:",":"&gt;")===l||d.$$is_boolean&&1!=d?(h=[],e=e.$rstrip()):(h=(d=(c=e.$split(h)).$map,
d.$$p=(g=function(a){null==a&&(a=l);return a.$strip()},g.$$s=a,g),d).call(c),e=h.$pop()):(h=[],e=l);return r.get("Inline").$new(a,"menu",l,b(["attributes"],{attributes:b(["menu","submenus","menuitem"],{menu:k,submenus:h,menuitem:e})})).$convert()},f.$$s=this,f),e).call(p,r.get("MenuInlineMacroRx"))),(e=(d=M["$include?"]('"'),!1!==d&&d!==l?M["$include?"]("&gt;"):d))===l||e.$$is_boolean&&1!=e||(M=(e=(d=M).$gsub,e.$$p=(y=function(){var d=y.$$s||this,f,g,e,k,h=l,v=l,p=v=h=h=l;null==w["~"]&&(w["~"]=l);
h=w["~"];if((f=(v=h["$[]"](0))["$start_with?"]("\\"))!==l&&(!f.$$is_boolean||1==f))return v["$[]"](x(1,-1,!1));h=h["$[]"](1);f=a.to_ary((g=(e=h.$split("&gt;")).$map,g.$$p=(k=function(a){null==a&&(a=l);return a.$strip()},k.$$s=d,k),g).call(e));h=null==f[0]?l:f[0];v=c.call(f,1);p=v.$pop();return r.get("Inline").$new(d,"menu",l,b(["attributes"],{attributes:b(["menu","submenus","menuitem"],{menu:h,submenus:v,menuitem:p})})).$convert()},y.$$s=this,y),e).call(d,r.get("MenuInlineRx"))));(e=(n=R=this.document.$extensions(),
!1!==n&&n!==l?R["$inline_macros?"]():n))===l||e.$$is_boolean&&1!=e||(e=(n=R.$inline_macros()).$each,e.$$p=(q=function(a){var d=q.$$s||this,f,c,g;null==a&&(a=l);return M=(f=(c=M).$gsub,f.$$p=(g=function(){var d=g.$$s||this,f,c=l,e=l,c=l;null==w["~"]&&(w["~"]=l);c=w["~"];if((f=c["$[]"](0)["$start_with?"]("\\"))!==l&&(!f.$$is_boolean||1==f))return c["$[]"](0)["$[]"](x(1,-1,!1));e=c["$[]"](1);c=a.$config()["$[]"]("format")["$=="]("short")?b([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?
d.$parse_attributes(c["$[]"](2),!1!==(f=a.$config()["$[]"]("pos_attrs"))&&f!==l?f:[],b(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):b(["text"],{text:d.$unescape_bracketed_text(c["$[]"](2))});return a.$process_method()["$[]"](d,e,c)},g.$$s=d,g),f).call(c,a.$instance().$regexp())},q.$$s=this,q),e).call(n);(e=(J=Z["$[]"]("macroish"),!1!==J&&J!==l?!1!==(F=M["$include?"]("image:"))&&F!==l?F:M["$include?"]("icon:"):J))===l||e.$$is_boolean&&1!=e||(M=(e=(J=M).$gsub,e.$$p=(v=function(){var a=
v.$$s||this,d,f,c,g=l,e=f=l,k=l,k=g=l;null==a.document&&(a.document=l);null==w["~"]&&(w["~"]=l);g=w["~"];if((d=g["$[]"](0)["$start_with?"]("\\"))!==l&&(!d.$$is_boolean||1==d))return g["$[]"](0)["$[]"](x(1,-1,!1));f=a.$unescape_bracketed_text(g["$[]"](2));(d=g["$[]"](0)["$start_with?"]("icon:"))===l||d.$$is_boolean&&1!=d?(e="image",k=["alt","width","height"]):(e="icon",k=["size"]);g=a.$sub_attributes(g["$[]"](1));e["$=="]("icon")||a.document.$register("images",g);k=a.$parse_attributes(f,k);d="alt";
f=k;!1!==(c=f["$[]"](d))&&c!==l?c:f["$[]="](d,r.get("Helpers").$basename(g,!0).$tr("_-"," "));return r.get("Inline").$new(a,"image",l,b(["type","target","attributes"],{type:e,target:g,attributes:k})).$convert()},v.$$s=this,v),e).call(J,r.get("ImageInlineMacroRx")));(e=!1!==(F=Z["$[]"]("macroish_short_form"))&&F!==l?F:Z["$[]"]("round_bracket"))===l||e.$$is_boolean&&1!=e||(M=(e=(F=M).$gsub,e.$$p=(D=function(){var d=D.$$s||this,f,c,g=l,e=l,k=l,h=l,g=g=l;null==d.document&&(d.document=l);null==w["~"]&&
(w["~"]=l);g=w["~"];if((f=g["$[]"](0)["$start_with?"]("\\"))!==l&&(!f.$$is_boolean||1==f))return g["$[]"](0)["$[]"](x(1,-1,!1));if((f=a.get("RUBY_ENGINE_OPAL"))!==l&&(!f.$$is_boolean||1==f)&&g["$[]"](1)["$=="](""))g["$[]="](1,l);e=0;k=l;if((f=h=g["$[]"](1))===l||f.$$is_boolean&&1!=f)k=g["$[]"](3),(f=(c=k["$start_with?"]("("),!1!==c&&c!==l?k["$end_with?"](")"):c))===l||f.$$is_boolean&&1!=f?e=2:(k=k["$[]"](x(1,-1,!0)),e=3);if((f=!1!==(c=h["$=="]("indexterm"))&&c!==l?c:e["$=="](3))===l||f.$$is_boolean&&
1!=f)return g=(f=h["$!"]())===l||f.$$is_boolean&&1!=f?d.$normalize_string(g["$[]"](2),!0):d.$normalize_string(k),d.document.$register("indexterms",[g]),r.get("Inline").$new(d,"indexterm",g,b(["type"],{type:"visible"})).$convert();g=(f=h["$!"]())===l||f.$$is_boolean&&1!=f?d.$split_simple_csv(d.$normalize_string(g["$[]"](2),!0)):d.$split_simple_csv(d.$normalize_string(k));d.document.$register("indexterms",[].concat(a.to_a(g)));return r.get("Inline").$new(d,"indexterm",l,b(["attributes"],{attributes:b(["terms"],
{terms:g})})).$convert()},D.$$s=this,D),e).call(F,r.get("IndextermInlineMacroRx")));(e=(g=!1!==A&&A!==l)?M["$include?"]("://"):A)===l||e.$$is_boolean&&1!=e||(M=(e=(g=M).$gsub,e.$$p=(K=function(){var d=K.$$s||this,f,c,g,e,k=l,h=l,v=l,y=l,p=l,m=p=l,k=l;null==d.document&&(d.document=l);null==w["~"]&&(w["~"]=l);k=w["~"];if((f=k["$[]"](2)["$start_with?"]("\\"))!==l&&(!f.$$is_boolean||1==f))return""+k["$[]"](1)+k["$[]"](2)["$[]"](x(1,-1,!1))+k["$[]"](3);if((f=a.get("RUBY_ENGINE_OPAL"))!==l&&(!f.$$is_boolean||
1==f)&&k["$[]"](3)["$=="](""))k["$[]="](3,l);if((f=(c=k["$[]"](1)["$=="]("link:"))?k["$[]"](3)["$!"]():k["$[]"](1)["$=="]("link:"))!==l&&(!f.$$is_boolean||1==f))return k["$[]"](0);h=(f=k["$[]"](1)["$!="]("link:"))===l||f.$$is_boolean&&1!=f?"":k["$[]"](1);v=k["$[]"](2);y="";if((f=!1!==(c=k["$[]"](3))&&c!==l?c:v["$!~"](r.get("UriTerminator")))===l||f.$$is_boolean&&1!=f)p=w["~"]["$[]"](0),")"["$==="](p)?(v=v["$[]"](x(0,-2,!1)),y=")"):";"["$==="](p)?(f=(c=h["$start_with?"]("&lt;"),!1!==c&&c!==l?v["$end_with?"]("&gt;"):
c))===l||f.$$is_boolean&&1!=f?(f=v["$end_with?"](");"))===l||f.$$is_boolean&&1!=f?(v=v["$[]"](x(0,-2,!1)),y=";"):(v=v["$[]"](x(0,-3,!1)),y=");"):(h=h["$[]"](x(4,-1,!1)),v=v["$[]"](x(0,-5,!1))):":"["$==="](p)&&((f=v["$end_with?"]("):"))===l||f.$$is_boolean&&1!=f?(v=v["$[]"](x(0,-2,!1)),y=":"):(v=v["$[]"](x(0,-3,!1)),y="):"));d.document.$register("links",v);p=b(["type","target"],{type:"link",target:v});m=l;if((f=k["$[]"](3)["$nil_or_empty?"]())===l||f.$$is_boolean&&1!=f){if((f=!1!==da&&da!==l?!1!==
(g=k["$[]"](3)["$start_with?"]('"'))&&g!==l?g:(e=k["$[]"](3)["$include?"](","),!1!==e&&e!==l?k["$[]"](3)["$include?"]("="):e):da)===l||f.$$is_boolean&&1!=f)k=d.$sub_attributes(k["$[]"](3).$gsub("\\]","]"));else{m=d.$parse_attributes(d.$sub_attributes(k["$[]"](3).$gsub("\\]","]")),[]);if((f=m["$has_key?"]("id"))!==l&&(!f.$$is_boolean||1==f))p["$[]="]("id",m.$delete("id"));k=!1!==(f=m["$[]"](1))&&f!==l?f:""}(f=k["$end_with?"]("^"))===l||f.$$is_boolean&&1!=f||(k=k.$chop(),!1!==m&&m!==l?(f="window",c=
m,!1!==(g=c["$[]"](f))&&g!==l?g:c["$[]="](f,"_blank")):m=b(["window"],{window:"_blank"}))}else k="";if((f=k["$empty?"]())!==l&&(!f.$$is_boolean||1==f))if(k=(f=d.document["$attr?"]("hide-uri-scheme"))===l||f.$$is_boolean&&1!=f?v:v.$sub(r.get("UriSniffRx"),""),!1!==m&&m!==l)m["$[]="]("role",("bare "+m["$[]"]("role")).$chomp(" "));else m=b(["role"],{role:"bare"});if(!1!==m&&m!==l)p["$[]="]("attributes",m);return""+h+r.get("Inline").$new(d,"anchor",k,p).$convert()+y},K.$$s=this,K),e).call(g,r.get("LinkInlineRx")));
(e=!1!==(N=(G=Z["$[]"]("macroish"),!1!==G&&G!==l?M["$include?"]("link:"):G))&&N!==l?N:M["$include?"]("mailto:"))===l||e.$$is_boolean&&1!=e||(M=(e=(N=M).$gsub,e.$$p=(L=function(){var a=L.$$s||this,d,f,c,g=l,e=l,k=l,h=f=l,v=l,g=l;null==a.document&&(a.document=l);null==w["~"]&&(w["~"]=l);g=w["~"];if((d=g["$[]"](0)["$start_with?"]("\\"))!==l&&(!d.$$is_boolean||1==d))return g["$[]"](0)["$[]"](x(1,-1,!1));e=g["$[]"](1);k=g["$[]"](0)["$start_with?"]("mailto:");f=!1!==k&&k!==l?"mailto:"+e:e;h=b(["type","target"],
{type:"link",target:f});v=l;if((d=!1!==da&&da!==l?!1!==(c=g["$[]"](2)["$start_with?"]('"'))&&c!==l?c:g["$[]"](2)["$include?"](","):da)===l||d.$$is_boolean&&1!=d)g=a.$sub_attributes(g["$[]"](2).$gsub("\\]","]"));else{v=a.$parse_attributes(a.$sub_attributes(g["$[]"](2).$gsub("\\]","]")),[]);if((d=v["$key?"]("id"))!==l&&(!d.$$is_boolean||1==d))h["$[]="]("id",v.$delete("id"));!1===k||k===l||(d=v["$key?"](2))===l||d.$$is_boolean&&1!=d||(f=h["$[]="]("target",""+f+"?subject="+r.get("Helpers").$encode_uri(v["$[]"](2))),
(d=v["$key?"](3))===l||d.$$is_boolean&&1!=d||(f=h["$[]="]("target",""+f+"&amp;body="+r.get("Helpers").$encode_uri(v["$[]"](3)))));g=v["$[]"](1)}a.document.$register("links",f);(d=g["$end_with?"]("^"))===l||d.$$is_boolean&&1!=d||(g=g.$chop(),!1!==v&&v!==l?(d="window",f=v,!1!==(c=f["$[]"](d))&&c!==l?c:f["$[]="](d,"_blank")):v=b(["window"],{window:"_blank"}));if((d=g["$empty?"]())!==l&&(!d.$$is_boolean||1==d))if(!1!==k&&k!==l)g=e;else if(g=(d=a.document["$attr?"]("hide-uri-scheme"))===l||d.$$is_boolean&&
1!=d?e:e.$sub(r.get("UriSniffRx"),""),!1!==v&&v!==l)v["$[]="]("role",("bare "+v["$[]"]("role")).$chomp(" "));else v=b(["role"],{role:"bare"});if(!1!==v&&v!==l)h["$[]="]("attributes",v);return r.get("Inline").$new(a,"anchor",g,h).$convert()},L.$$s=this,L),e).call(N,r.get("LinkInlineMacroRx")));(e=M["$include?"]("@"))===l||e.$$is_boolean&&1!=e||(M=(e=(G=M).$gsub,e.$$p=(O=function(){var a=O.$$s||this,d,f=l,c=l,f=f=l;null==a.document&&(a.document=l);null==w["~"]&&(w["~"]=l);f=w["~"];c=f["$[]"](0);if((d=
f=f["$[]"](1))!==l&&(!d.$$is_boolean||1==d))return"\\"["$==="](f)?c["$[]"](x(1,-1,!1)):c;f="mailto:"+c;a.document.$register("links",f);return r.get("Inline").$new(a,"anchor",c,b(["type","target"],{type:"link",target:f})).$convert()},O.$$s=this,O),e).call(G,r.get("EmailInlineMacroRx")));(e=(u=Z["$[]"]("macroish_short_form"),!1!==u&&u!==l?M["$include?"]("footnote"):u))===l||e.$$is_boolean&&1!=e||(M=(e=(u=M).$gsub,e.$$p=(ca=function(){var d=ca.$$s||this,f,c,g,e,k=l,h=l,v=l,y=k=l,p=l,v=l;null==d.document&&
(d.document=l);null==w["~"]&&(w["~"]=l);k=w["~"];if((f=k["$[]"](0)["$start_with?"]("\\"))!==l&&(!f.$$is_boolean||1==f))return k["$[]"](0)["$[]"](x(1,-1,!1));k["$[]"](1)["$=="]("footnote")?(h=l,v=d.$restore_passthroughs(d.$sub_inline_xrefs(d.$sub_inline_anchors(d.$normalize_string(k["$[]"](2),!0))),!1),k=d.document.$counter("footnote-number"),d.document.$register("footnotes",r.get("Document").$$scope.get("Footnote").$new(k,h,v)),p=y=l):(f=a.to_ary(k["$[]"](2).$split(",",2)),h=null==f[0]?l:f[0],v=null==
f[1]?l:f[1],h=h.$strip(),(f=v["$nil_or_empty?"]())===l||f.$$is_boolean&&1!=f?(v=d.$restore_passthroughs(d.$sub_inline_xrefs(d.$sub_inline_anchors(d.$normalize_string(v,!0))),!1),k=d.document.$counter("footnote-number"),d.document.$register("footnotes",r.get("Document").$$scope.get("Footnote").$new(k,h,v)),y="ref",p=l):((f=v=(c=(g=d.document.$references()["$[]"]("footnotes")).$find,c.$$p=(e=function(a){null==a&&(a=l);return a.$id()["$=="](h)},e.$$s=d,e),c).call(g))===l||f.$$is_boolean&&1!=f?(k=l,v=
h):(k=v.$index(),v=v.$text()),p=h,h=l,y="xref"));return r.get("Inline").$new(d,"footnote",v,b(["attributes","id","target","type"],{attributes:b(["index"],{index:k}),id:h,target:p,type:y})).$convert()},ca.$$s=this,ca),e).call(u,r.get("FootnoteInlineMacroRx")));return this.$sub_inline_xrefs(this.$sub_inline_anchors(M,Z),Z)});a.defn(p,"$sub_inline_anchors",function(c,e){var h,p,m,f,d,y,n;null==e&&(e=l);(h=(p=!1!==(m=e["$!"]())&&m!==l?m:e["$[]"]("square_bracket"),!1!==p&&p!==l?c["$include?"]("[[["):p))===
l||h.$$is_boolean&&1!=h||(c=(h=(p=c).$gsub,h.$$p=(f=function(){var a=f.$$s||this,d,c=l,g=c=l;null==w["~"]&&(w["~"]=l);c=w["~"];if((d=c["$[]"](0)["$start_with?"]("\\"))!==l&&(!d.$$is_boolean||1==d))return c["$[]"](0)["$[]"](x(1,-1,!1));c=g=c["$[]"](1);return r.get("Inline").$new(a,"anchor",g,b(["type","target"],{type:"bibref",target:c})).$convert()},f.$$s=this,f),h).call(p,r.get("InlineBiblioAnchorRx")));(h=!1!==(m=(d=!1!==(y=e["$!"]())&&y!==l?y:e["$[]"]("square_bracket"),!1!==d&&d!==l?c["$include?"]("[["):
d))&&m!==l?m:(d=!1!==(y=e["$!"]())&&y!==l?y:e["$[]"]("macroish"),!1!==d&&d!==l?c["$include?"]("anchor:"):d))===l||h.$$is_boolean&&1!=h||(c=(h=(m=c).$gsub,h.$$p=(n=function(){var d=n.$$s||this,f,c,g=l,e=l,g=l;null==w["~"]&&(w["~"]=l);g=w["~"];if((f=g["$[]"](0)["$start_with?"]("\\"))!==l&&(!f.$$is_boolean||1==f))return g["$[]"](0)["$[]"](x(1,-1,!1));if((f=a.get("RUBY_ENGINE_OPAL"))!==l&&(!f.$$is_boolean||1==f)){if(g["$[]"](1)["$=="](""))g["$[]="](1,l);if(g["$[]"](2)["$=="](""))g["$[]="](2,l);if(g["$[]"](4)["$=="](""))g["$[]="](4,
l)}e=!1!==(f=g["$[]"](1))&&f!==l?f:g["$[]"](3);g=!1!==(f=!1!==(c=g["$[]"](2))&&c!==l?c:g["$[]"](4))&&f!==l?f:"["+e+"]";return r.get("Inline").$new(d,"anchor",g,b(["type","target"],{type:"ref",target:e})).$convert()},n.$$s=this,n),h).call(m,r.get("InlineAnchorRx")));return c});a.defn(p,"$sub_inline_xrefs",function(c,e){var h,p,m,f;null==e&&(e=l);(h=!1!==(p=!1!==(m=e["$!"]())&&m!==l?m:e["$[]"]("macroish"))&&p!==l?p:c["$include?"]("&lt;&lt;"))===l||h.$$is_boolean&&1!=h||(c=(h=(p=c).$gsub,h.$$p=(f=function(){var d=
f.$$s||this,c,g,e,k,h,v,p=l,m=l,n=l,G=m=p=l,q=l,G=l;null==d.document&&(d.document=l);null==w["~"]&&(w["~"]=l);p=w["~"];if((c=p["$[]"](0)["$start_with?"]("\\"))!==l&&(!c.$$is_boolean||1==c))return p["$[]"](0)["$[]"](x(1,-1,!1));if((c=a.get("RUBY_ENGINE_OPAL"))!==l&&(!c.$$is_boolean||1==c)&&p["$[]"](1)["$=="](""))p["$[]="](1,l);if((c=p["$[]"](1))===l||c.$$is_boolean&&1!=c){if(m=p["$[]"](2),(c=p["$[]"](3)["$nil_or_empty?"]())===l||c.$$is_boolean&&1!=c)n=p["$[]"](3)}else c=a.to_ary((g=(e=p["$[]"](1).$split(",",
2)).$map,g.$$p=(k=function(a){null==a&&(a=l);return a.$strip()},k.$$s=d,k),g).call(e)),m=null==c[0]?l:c[0],n=null==c[1]?l:c[1],m=m.$sub(r.get("DoubleQuotedRx"),"\\2"),n=(c=n["$nil_or_empty?"]())===l||c.$$is_boolean&&1!=c?n.$sub(r.get("DoubleQuotedMultiRx"),"\\2"):l;(c=m["$include?"]("#"))===l||c.$$is_boolean&&1!=c?p=l:(c=a.to_ary(m.$split("#")),p=null==c[0]?l:c[0],m=null==c[1]?l:c[1]);!1!==p&&p!==l?(p=r.get("Helpers").$rootname(p),(c=!1!==(g=d.document.$attributes()["$[]"]("docname")["$=="](p))&&
g!==l?g:d.document.$references()["$[]"]("includes")["$include?"](p))===l||c.$$is_boolean&&1!=c?(G=!1!==m&&m!==l?""+p+"#"+m:p,p=""+d.document.$attributes()["$[]"]("relfileprefix")+p+d.document.$attributes().$fetch("outfilesuffix",".html"),q=!1!==m&&m!==l?""+p+"#"+m:p):(G=m,p=l,q="#"+m)):((c=(g=(h=d.document.$references()["$[]"]("ids")["$has_key?"](m)["$!"](),!1!==h&&h!==l?!1!==(v=m["$include?"](" "))&&v!==l?v:m.$downcase()["$!="](m):h),!1!==g&&g!==l?G=(h=r.get("RUBY_MIN_VERSION_1_9"))===l||h.$$is_boolean&&
1!=h?d.document.$references()["$[]"]("ids").$index(m):d.document.$references()["$[]"]("ids").$key(m):g))===l||c.$$is_boolean&&1!=c||(m=G),G=m,q="#"+m);return r.get("Inline").$new(d,"anchor",n,b(["type","target","attributes"],{type:"xref",target:q,attributes:b(["path","fragment","refid"],{path:p,fragment:m,refid:G})})).$convert()},f.$$s=this,f),h).call(p,r.get("XrefInlineMacroRx")));return c});a.defn(p,"$sub_callouts",function(c){var e,h,p=l,p=(e=this["$attr?"]("line-comment"))===l||e.$$is_boolean&&
1!=e?r.get("CalloutSourceRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+r.get("CalloutSourceRxt"));return(e=c.$gsub,e.$$p=(h=function(){var a=h.$$s||this,f=l;null==a.document&&(a.document=l);null==w["~"]&&(w["~"]=l);f=w["~"];return f["$[]"](1)["$=="]("\\")?f["$[]"](0).$sub("\\",""):r.get("Inline").$new(a,"callout",f["$[]"](3),b(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},h.$$s=this,h),e).call(c,p)});a.defn(p,"$sub_post_replacements",function(a){var c,
e,h,p,f=l,d=l;null==this.document&&(this.document=l);null==this.attributes&&(this.attributes=l);if((c=!1!==(e=this.document.$attributes()["$has_key?"]("hardbreaks"))&&e!==l?e:this.attributes["$has_key?"]("hardbreaks-option"))===l||c.$$is_boolean&&1!=c)return(c=a["$include?"]("+"))===l||c.$$is_boolean&&1!=c?a:(c=a.$gsub,c.$$p=(p=function(){var a=p.$$s||this;null==w["~"]&&(w["~"]=l);return r.get("Inline").$new(a,"break",w["~"]["$[]"](1),b(["type"],{type:"line"})).$convert()},p.$$s=this,p),c).call(a,
r.get("LineBreakRx"));f=a.$split(r.get("EOL"));if(f.$size()["$=="](1))return a;d=f.$pop();return q((c=(e=f).$map,c.$$p=(h=function(a){var d=h.$$s||this;null==a&&(a=l);return r.get("Inline").$new(d,"break",a.$rstrip().$chomp(r.get("LINE_BREAK")),b(["type"],{type:"line"})).$convert()},h.$$s=this,h),c).call(e).$push(d),r.get("EOL"))});a.defn(p,"$convert_quoted_text",function(a,c,e){var h,p=l,f=l,d=p=l,p=l;if((h=a["$[]"](0)["$start_with?"]("\\"))!==l&&(!h.$$is_boolean||1==h)){if((h=e["$=="]("constrained")?
(f=a["$[]"](2))["$nil_or_empty?"]()["$!"]():e["$=="]("constrained"))===l||h.$$is_boolean&&1!=h)return a["$[]"](0)["$[]"](x(1,-1,!1));p="["+f+"]"}if(e["$=="]("constrained")){if(!1!==p&&p!==l)return""+p+r.get("Inline").$new(this,"quoted",a["$[]"](3),b(["type"],{type:c})).$convert();(h=p=this.$parse_quoted_text_attributes(a["$[]"](2)))===l||h.$$is_boolean&&1!=h?d=l:(d=p.$delete("id"),c["$=="]("mark")&&(c="unquoted"));return""+a["$[]"](1)+r.get("Inline").$new(this,"quoted",a["$[]"](3),b(["type","id",
"attributes"],{type:c,id:d,attributes:p})).$convert()}(h=p=this.$parse_quoted_text_attributes(a["$[]"](1)))===l||h.$$is_boolean&&1!=h?d=l:(d=p.$delete("id"),c["$=="]("mark")&&(c="unquoted"));return r.get("Inline").$new(this,"quoted",a["$[]"](2),b(["type","id","attributes"],{type:c,id:d,attributes:p})).$convert()});a.defn(p,"$parse_quoted_text_attributes",function(g){var e,h,p,n=l,f=l,d=l,d=n=l;if(!1===g||g===l)return l;if((e=g["$empty?"]())!==l&&(!e.$$is_boolean||1==e))return b([],{});(e=g["$include?"]("{"))===
l||e.$$is_boolean&&1!=e||(g=this.$sub_attributes(g));g=g.$strip();(e=g["$include?"](","))===l||e.$$is_boolean&&1!=e||(e=a.to_ary(g.$split(",",2)),g=null==e[0]?l:e[0]);if((e=g["$empty?"]())===l||e.$$is_boolean&&1!=e){if((e=(h=!1!==(p=g["$start_with?"]("."))&&p!==l?p:g["$start_with?"]("#"),!1!==h&&h!==l?r.get("Compliance").$shorthand_property_syntax():h))===l||e.$$is_boolean&&1!=e)return b(["role"],{role:g});n=g.$split("#",2);m(n.$length(),1)?(e=a.to_ary(n["$[]"](1).$split(".")),f=null==e[0]?l:e[0],
d=c.call(e,1)):(f=l,d=[]);n=(e=n["$[]"](0)["$empty?"]())===l||e.$$is_boolean&&1!=e?n["$[]"](0).$split("."):[];m(n.$length(),1)&&n.$shift();m(d.$length(),0)&&n.$concat(d);d=b([],{});if(!1!==f&&f!==l)d["$[]="]("id",f);if((e=n["$empty?"]())===l||e.$$is_boolean&&1!=e)d["$[]="]("role",q(n," "));return d}return b([],{})});a.defn(p,"$parse_attributes",function(a,c,e){var h,p=l,f=l;null==this.document&&(this.document=l);null==c&&(c=["role"]);null==e&&(e=b([],{}));if(!1===a||a===l)return l;if((h=a["$empty?"]())!==
l&&(!h.$$is_boolean||1==h))return b([],{});(h=e["$[]"]("sub_input"))===l||h.$$is_boolean&&1!=h||(a=this.document.$sub_attributes(a));(h=e["$[]"]("unescape_input"))===l||h.$$is_boolean&&1!=h||(a=this.$unescape_bracketed_text(a));p=l;(h=e.$fetch("sub_result",!0))===l||h.$$is_boolean&&1!=h||(p=this);return(h=f=e["$[]"]("into"))===l||h.$$is_boolean&&1!=h?r.get("AttributeList").$new(a,p).$parse(c):r.get("AttributeList").$new(a,p).$parse_into(f,c)});a.defn(p,"$unescape_bracketed_text",function(a){var b;
return(b=a["$empty?"]())===l||b.$$is_boolean&&1!=b?a.$strip().$tr(r.get("EOL")," ").$gsub("\\]","]"):""});a.defn(p,"$normalize_string",function(a,b){var c;null==b&&(b=!1);return(c=a["$empty?"]())===l||c.$$is_boolean&&1!=c?!1!==b&&b!==l?this.$unescape_brackets(a.$strip().$tr(r.get("EOL")," ")):a.$strip().$tr(r.get("EOL")," "):""});a.defn(p,"$unescape_brackets",function(a){var b;return(b=a["$empty?"]())===l||b.$$is_boolean&&1!=b?a.$gsub("\\]","]"):""});a.defn(p,"$split_simple_csv",function(a){var b,
c,e,h,f=l,d=l,p=l;(b=a["$empty?"]())===l||b.$$is_boolean&&1!=b?(b=a["$include?"]('"'))===l||b.$$is_boolean&&1!=b?f=(b=(e=a.$split(",")).$map,b.$$p=(h=function(a){null==a&&(a=l);return a.$strip()},h.$$s=this,h),b).call(e):(f=[],d=[],p=!1,(b=a.$each_char,b.$$p=(c=function(a){var b=l;null==a&&(a=l);return function(){b=a;if(","["$==="](b)){if(!1!==p&&p!==l)return d.$push(a);f["$<<"](d.$join().$strip());return d=[]}return'"'["$==="](b)?p=p["$!"]():d.$push(a)}()},c.$$s=this,c),b).call(a),f["$<<"](d.$join().$strip())):
f=[];return f});a.defn(p,"$resolve_subs",function(a,b,c,e){var p,f,d,y=l,E=l,B=l,J=l;null==b&&(b="block");null==c&&(c=l);null==e&&(e=l);if((p=a["$nil_or_empty?"]())!==l&&(!p.$$is_boolean||1==p))return[];y=l;E=r.get("SubModifierSniffRx")["$=~"](a);(p=(f=a.$tr(" ","").$split(",")).$each,p.$$p=(d=function(a){var d,f,e,g=l,p=f=f=f=l,g=l;null==a&&(a=l);g=l;!1!==E&&E!==l&&((f=a.$chr())["$=="]("+")?(g="append",a=a["$[]"](x(1,-1,!1))):f["$=="]("-")?(g="remove",a=a["$[]"](x(1,-1,!1))):(d=a["$end_with?"]("+"))===
l||d.$$is_boolean&&1!=d||(g="prepend",a=a.$chop()));a=a.$to_sym();(d=(f=b["$=="]("inline"))?!1!==(e=a["$=="]("verbatim"))&&e!==l?e:a["$=="]("v"):b["$=="]("inline"))===l||d.$$is_boolean&&1!=d?(d=r.get("COMPOSITE_SUBS")["$key?"](a))===l||d.$$is_boolean&&1!=d?(d=(f=b["$=="]("inline")?a.$length()["$=="](1):b["$=="]("inline"),!1!==f&&f!==l?r.get("SUB_SYMBOLS")["$key?"](a):f))===l||d.$$is_boolean&&1!=d?f=[a]:(f=r.get("SUB_SYMBOLS")["$[]"](a),f=(d=p=r.get("COMPOSITE_SUBS")["$[]"](f))===l||d.$$is_boolean&&
1!=d?[f]:p):f=r.get("COMPOSITE_SUBS")["$[]"](a):f=["specialcharacters"];if(!1!==g&&g!==l)return!1!==(d=y)&&d!==l?d:y=!1!==c&&c!==l?c.$dup():[],"append"["$==="](g)?y=n(y,f):"prepend"["$==="](g)?y=n(f,y):"remove"["$==="](g)?y=h(y,f):l;!1!==(d=y)&&d!==l?d:y=[];return y=n(y,f)},d.$$s=this,d),p).call(f);B=y["$&"](r.get("SUB_OPTIONS")["$[]"](b));if((p=h(y,B)["$empty?"]())===l||p.$$is_boolean&&1!=p)J=h(y,B),this.$warn("asciidoctor: WARNING: invalid substitution type"+(m(J.$size(),1)?"s":"")+(!1!==e&&e!==
l?" for ":l)+e+": "+q(J,", "));return B});a.defn(p,"$resolve_block_subs",function(a,b,c){return this.$resolve_subs(a,"block",b,c)});a.defn(p,"$resolve_pass_subs",function(a){return this.$resolve_subs(a,"inline",l,"passthrough macro")});a.defn(p,"$highlight_source",function(c,e,h){var p,m,f,d,y,E=l,B=l,J=l,F=l,v=l,D=l,K=l,N=B=l,G=l,L=E=l,O=l;null==this.document&&(this.document=l);null==this.passthroughs&&(this.passthroughs=l);null==h&&(h=l);E=!1!==(p=h)&&p!==l?p:h=this.document.$attributes()["$[]"]("source-highlighter");
if("coderay"["$==="](E)){if((p=!1!==(m=B=null==a.Object.$$scope.CodeRay?l:"constant")&&m!==l?m:this.document.$attributes()["$[]"]("coderay-unavailable"))===l||p.$$is_boolean&&1!=p)(p=r.get("Helpers").$require_library("coderay",!0,"warn")["$nil?"]())===l||p.$$is_boolean&&1!=p?B=!0:this.document.$set_attr("coderay-unavailable",!0)}else if("pygments"["$==="](E)){if((p=!1!==(m=B=null==a.Object.$$scope.Pygments?l:"constant")&&m!==l?m:this.document.$attributes()["$[]"]("pygments-unavailable"))===l||p.$$is_boolean&&
1!=p)(p=r.get("Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())===l||p.$$is_boolean&&1!=p?B=!0:this.document.$set_attr("pygments-unavailable",!0)}else B=!1;if(!1===B||B===l)return this.$sub_source(c,e);J=0;F=!1;!1!==e&&e!==l?(v=b([],{}),D=-1,K=(p=this["$attr?"]("line-comment"))===l||p.$$is_boolean&&1!=p?r.get("CalloutExtractRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+r.get("CalloutExtractRxt")),c=q((p=(m=c.$split(r.get("EOL"))).$map,p.$$p=
(f=function(a){var d=f.$$s||this,b,c,e;null==a&&(a=l);J=n(J,1);return(b=(c=a).$gsub,b.$$p=(e=function(){var a,d,f,b=l;null==w["~"]&&(w["~"]=l);b=w["~"];if(b["$[]"](1)["$=="]("\\"))return b["$[]"](0).$sub("\\","");(a=J,d=v,!1!==(f=d["$[]"](a))&&f!==l?f:d["$[]="](a,[]))["$<<"](b["$[]"](3));D=J;return l},e.$$s=d,e),b).call(c,K)},f.$$s=this,f),p).call(m),r.get("EOL")),F=D["$=="](J),(p=v["$empty?"]())===l||p.$$is_boolean&&1!=p||(v=l)):v=l;N=B=l;E=h;if("coderay"["$==="](E))(p=B=(d=this["$attr?"]("linenums"))===
l||d.$$is_boolean&&1!=d?l:(!1!==(d=this.document.$attributes()["$[]"]("coderay-linenums-mode"))&&d!==l?d:"table").$to_sym())===l||p.$$is_boolean&&1!=p||(p=this["$attr?"]("highlight",l,!1))===l||p.$$is_boolean&&1!=p||(N=this.$resolve_lines_to_highlight(this.$attr("highlight",l,!1))),G=a.get("CodeRay").$$scope.get("Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",b(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(!1!==(p=this.document.$attributes()["$[]"]("coderay-css"))&&
p!==l?p:"class").$to_sym(),line_numbers:B,line_number_anchors:!1,highlight_lines:N,bold_every:!1})).$highlight(c);else if("pygments"["$==="](E)){E=!1!==(p=a.get("Pygments").$$scope.get("Lexer")["$[]"](this.$attr("language",l,!1)))&&p!==l?p:a.get("Pygments").$$scope.get("Lexer")["$[]"]("text");L=b(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0});(!1!==(p=this.document.$attributes()["$[]"]("pygments-css"))&&p!==l?p:"class")["$=="]("class")||(L["$[]="]("noclasses",
!0),L["$[]="]("style",!1!==(p=this.document.$attributes()["$[]"]("pygments-style"))&&p!==l?p:r.get("Stylesheets").$$scope.get("DEFAULT_PYGMENTS_STYLE")));if((p=this["$attr?"]("highlight",l,!1))!==l&&(!p.$$is_boolean||1==p)&&((p=(N=this.$resolve_lines_to_highlight(this.$attr("highlight",l,!1)))["$empty?"]())===l||p.$$is_boolean&&1!=p))L["$[]="]("hl_lines",q(N," "));(p=this["$attr?"]("linenums"))===l||p.$$is_boolean&&1!=p?(L["$[]="]("nowrap",!0),G=E.$highlight(c,b(["options"],{options:L}))):L["$[]="]("linenos",
!1!==(p=this.document.$attributes()["$[]"]("pygments-linenums-mode"))&&p!==l?p:"table")["$=="]("table")?(B="table",G=E.$highlight(c,b(["options"],{options:L})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):G=E.$highlight(c,b(["options"],{options:L})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")}if((p=this.passthroughs["$empty?"]())===l||p.$$is_boolean&&1!=p)G=G.$gsub(r.get("PASS_MATCH_HI"),""+r.get("PASS_START")+"\\1"+r.get("PASS_END"));
if((p=(d=!1!==e&&e!==l)?v:e)===l||p.$$is_boolean&&1!=p)return G;J=0;O=B["$!="]("table");return q((p=(d=G.$split(r.get("EOL"))).$map,p.$$p=(y=function(a){var d=y.$$s||this,f,c,e,g=l,h=l,k=l,g=l;null==d.document&&(d.document=l);null==a&&(a=l);if(!1===O||O===l){if((f=a["$include?"]('<td class="code">'))===l||f.$$is_boolean&&1!=f)return a;O=!0}J=n(J,1);if((f=g=v.$delete(J))===l||f.$$is_boolean&&1!=f)return a;h=l;(f=(c=!1!==F&&F!==l)?v["$empty?"]():F)===l||f.$$is_boolean&&1!=f||((f=k=a.$index("</pre>"))===
l||f.$$is_boolean&&1!=f?a=""+a.$chomp(" ")+" ":(h=a["$[]"](x(k,-1,!1)),a=""+a["$[]"](x(0,k,!0)).$chomp(" ")+" "));if(g.$size()["$=="](1))return""+a+r.get("Inline").$new(d,"callout",g["$[]"](0),b(["id"],{id:d.document.$callouts().$read_next_id()})).$convert()+h;g=q((f=(c=g).$map,f.$$p=(e=function(a){var d=e.$$s||this;null==d.document&&(d.document=l);null==a&&(a=l);return r.get("Inline").$new(d,"callout",a,b(["id"],{id:d.document.$callouts().$read_next_id()})).$convert()},e.$$s=d,e),f).call(c)," ");
return""+a+g+h},y.$$s=this,y),p).call(d),r.get("EOL"))});a.defn(p,"$resolve_lines_to_highlight",function(b){var c,e,p,m=l,m=[];(c=(e=b.$delete(" ").$split(r.get("DataDelimiterRx"))).$map,c.$$p=(p=function(f){var d,b=l,c=l,e=l,c=l;null==f&&(f=l);b=!1;(d=f["$start_with?"]("!"))===l||d.$$is_boolean&&1!=d||(f=f["$[]"](x(1,-1,!1)),b=!0);if((d=f["$include?"]("-"))===l||d.$$is_boolean&&1!=d)return!1!==b&&b!==l?m.$delete(f.$to_i()):m["$<<"](f.$to_i());d=a.to_ary(f.$split("-",2));c=null==d[0]?l:d[0];e=null==
d[1]?l:d[1];c=x(c.$to_i(),e.$to_i(),!1).$to_a();return!1!==b&&b!==l?m=h(m,c):m.$concat(c)},p.$$s=this,p),c).call(e);return m.$sort().$uniq()});a.defn(p,"$sub_source",function(a,b){return!1!==b&&b!==l?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)});a.defn(p,"$lock_in_subs",function(){var a,b,c,e,h,f=l,d=f=l;null==this.default_subs&&(this.default_subs=l);null==this.content_model&&(this.content_model=l);null==this.context&&(this.context=l);null==this.attributes&&(this.attributes=
l);null==this.style&&(this.style=l);null==this.document&&(this.document=l);null==this.subs&&(this.subs=l);if((a=this.default_subs)===l||a.$$is_boolean&&1!=a)if(f=this.content_model,"simple"["$==="](f))f=r.get("SUBS")["$[]"]("normal");else if("verbatim"["$==="](f))f=(a=!1!==(b=this.context["$=="]("listing"))&&b!==l?b:(c=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))===l||a.$$is_boolean&&1!=a?this.context["$=="]("verse")?r.get("SUBS")["$[]"]("normal"):
r.get("SUBS")["$[]"]("basic"):r.get("SUBS")["$[]"]("verbatim");else if("raw"["$==="](f))f=this.context["$=="]("stem")?r.get("SUBS")["$[]"]("basic"):r.get("SUBS")["$[]"]("pass");else return l;else f=this.default_subs;(a=d=this.attributes["$[]"]("subs"))===l||a.$$is_boolean&&1!=a?this.subs=f.$dup():this.subs=this.$resolve_block_subs(d,f,this.context);return(a=(b=(c=(e=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"),!1!==e&&e!==l?this.attributes["$[]"]("language"):
e),!1!==c&&c!==l?this.document["$basebackend?"]("html"):c),!1!==b&&b!==l?r.get("SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):b))===l||a.$$is_boolean&&1!=a?l:this.subs=(a=(b=this.subs).$map,a.$$p=(h=function(a){null==a&&(a=l);return a["$=="]("specialcharacters")?"highlight":a},h.$$s=this,h),a).call(b)})})(A(u,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/abstract_node"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="ignore";var m=a.nil,h=a.module,l=a.klass,e=a.hash2,c=a.range;return function(A){(function(b,$super){function h(){}var u=h=l(b,$super,"AbstractNode",h),p=u.$$proto,r=u.$$scope;p.document=p.attributes=p.path_resolver=p.style=m;u.$include(r.get("Substitutors"));u.$attr_reader("parent");
u.$attr_reader("document");u.$attr_reader("context");u.$attr_reader("node_name");u.$attr_accessor("id");u.$attr_reader("attributes");a.defn(u,"$initialize",function(a,b,c){var h;null==c&&(c=e([],{}));b["$=="]("document")?this.document=a:!1!==a&&a!==m?(this.parent=a,this.document=a.$document()):this.document=this.parent=m;this.context=b;this.node_name=b.$to_s();this.attributes=(h=c["$key?"]("attributes"))===m||h.$$is_boolean&&1!=h?e([],{}):c["$[]"]("attributes").$dup();return this.passthroughs=e([],
{})});a.defn(u,"$parent=",function(a){this.parent=a;this.document=a.$document();return m});a.defn(u,"$inline?",function(){return this.$raise(a.get("NotImplementedError"))});a.defn(u,"$block?",function(){return this.$raise(a.get("NotImplementedError"))});a.defn(u,"$attr",function(b,c,e){var h,p;null==c&&(c=m);null==e&&(e=!0);(h=a.get("Symbol")["$==="](b))===m||h.$$is_boolean&&1!=h||(b=b.$to_s());this["$=="](this.document)&&(e=!1);return!1!==e&&e!==m?!1!==(h=!1!==(p=this.attributes["$[]"](b))&&p!==
m?p:this.document.$attributes()["$[]"](b))&&h!==m?h:c:!1!==(h=this.attributes["$[]"](b))&&h!==m?h:c});a.defn(u,"$attr?",function(b,c,e){var h;null==c&&(c=m);null==e&&(e=!0);(h=a.get("Symbol")["$==="](b))===m||h.$$is_boolean&&1!=h||(b=b.$to_s());this["$=="](this.document)&&(e=!1);return(h=c["$nil?"]())===m||h.$$is_boolean&&1!=h?!1!==e&&e!==m?c["$=="](!1!==(h=this.attributes["$[]"](b))&&h!==m?h:this.document.$attributes()["$[]"](b)):c["$=="](this.attributes["$[]"](b)):!1!==(h=this.attributes["$has_key?"](b))&&
h!==m?h:!1!==e&&e!==m?this.document.$attributes()["$has_key?"](b):e});a.defn(u,"$set_attr",function(a,b,c){var e;null==c&&(c=!0);return(e=c["$=="](!1)?this.attributes["$key?"](a):c["$=="](!1))===m||e.$$is_boolean&&1!=e?(this.attributes["$[]="](a,b),!0):!1});a.defn(u,"$set_option",function(a){var b;if((b=this.attributes["$has_key?"]("options"))===m||b.$$is_boolean&&1!=b)this.attributes["$[]="]("options",a);else this.attributes["$[]="]("options",""+this.attributes["$[]"]("options")+","+a);return this.attributes["$[]="](""+
a+"-option","")});a.defn(u,"$option?",function(a){return this.attributes["$has_key?"](""+a+"-option")});a.defn(u,"$update_attributes",function(a){this.attributes.$update(a);return m});a.defn(u,"$converter",function(){return this.document.$converter()});a.defn(u,"$role?",function(a){var b;null==a&&(a=m);return!1!==a&&a!==m?a["$=="](!1!==(b=this.attributes["$[]"]("role"))&&b!==m?b:this.document.$attributes()["$[]"]("role")):!1!==(b=this.attributes["$has_key?"]("role"))&&b!==m?b:this.document.$attributes()["$has_key?"]("role")});
a.defn(u,"$role",function(){var a;return!1!==(a=this.attributes["$[]"]("role"))&&a!==m?a:this.document.$attributes()["$[]"]("role")});a.defn(u,"$has_role?",function(a){var b,c,e=m;return(b=e=!1!==(c=this.attributes["$[]"]("role"))&&c!==m?c:this.document.$attributes()["$[]"]("role"))===m||b.$$is_boolean&&1!=b?!1:e.$split(" ")["$include?"](a)});a.defn(u,"$roles",function(){var a,b,c=m;return(a=c=!1!==(b=this.attributes["$[]"]("role"))&&b!==m?b:this.document.$attributes()["$[]"]("role"))===m||a.$$is_boolean&&
1!=a?[]:c.$split(" ")});a.defn(u,"$add_role",function(a){var b,c,e=m;return(b=(e=(!1!==(c=this.attributes["$[]"]("role"))&&c!==m?c:"").$split(" "))["$include?"](a))===m||b.$$is_boolean&&1!=b?this.attributes["$[]="]("role",n(e.$push(a)," ")):m});a.defn(u,"$remove_role",function(a){var b,c,e=m;if((b=(e=(!1!==(c=this.attributes["$[]"]("role"))&&c!==m?c:"").$split(" "))["$include?"](a))===m||b.$$is_boolean&&1!=b)return m;e.$delete(a);return this.attributes["$[]="]("role",n(e," "))});a.defn(u,"$reftext?",
function(){var a;return!1!==(a=this.attributes["$has_key?"]("reftext"))&&a!==m?a:this.document.$attributes()["$has_key?"]("reftext")});a.defn(u,"$reftext",function(){var a;return!1!==(a=this.attributes["$[]"]("reftext"))&&a!==m?a:this.document.$attributes()["$[]"]("reftext")});a.defn(u,"$icon_uri",function(a){var b;return(b=this["$attr?"]("icon"))===m||b.$$is_boolean&&1!=b?this.$image_uri(""+a+"."+this.document.$attr("icontype","png"),"iconsdir"):this.$image_uri(this.$attr("icon"),m)});a.defn(u,"$media_uri",
function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,!1!==b&&b!==m?this.document.$attr(b):m)});a.defn(u,"$image_uri",function(a,b){var c,e,h,f,d=m,p=m;null==b&&(b="imagesdir");return(c=q((d=this.document).$safe(),r.get("SafeMode").$$scope.get("SECURE"))?d["$attr?"]("data-uri"):q((d=this.document).$safe(),r.get("SafeMode").$$scope.get("SECURE")))===m||c.$$is_boolean&&1!=c?this.$normalize_web_path(a,!1!==b&&b!==m?d.$attr(b):m):(c=!1!==(e=r.get("Helpers")["$uriish?"](a))&&e!==m?e:
(h=(f=!1!==b&&b!==m?p=d.$attr(b):b,!1!==f&&f!==m?r.get("Helpers")["$uriish?"](p):f),!1!==h&&h!==m?a=this.$normalize_web_path(a,p,!1):h))===m||c.$$is_boolean&&1!=c?this.$generate_data_uri(a,b):(c=d["$attr?"]("allow-uri-read"))===m||c.$$is_boolean&&1!=c?a:this.$generate_data_uri_from_uri(a,d["$attr?"]("cache-uri"))});a.defn(u,"$generate_data_uri",function(b,h){var p,l,n,f=m,d=f=m,y=m;null==h&&(h=m);f=a.get("File").$extname(b);f=f["$=="](".svg")?"image/svg+xml":"image/"+f["$[]"](c(1,-1,!1));d=!1!==h&&
h!==m?this.$normalize_system_path(b,this.document.$attr(h),m,e(["target_name"],{target_name:"image"})):this.$normalize_system_path(b);if((p=a.get("File")["$readable?"](d))===m||p.$$is_boolean&&1!=p)return this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+d),"data:"+f+":base64,";y=m;y=(p=a.get("IO")["$respond_to?"]("binread"))===m||p.$$is_boolean&&1!=p?(p=(l=a.get("File")).$open,p.$$p=(n=function(a){null==a&&(a=m);return a.$read()},n.$$s=this,n),p).call(l,d,"rb"):a.get("IO").$binread(d);
return"data:"+f+";base64,"+a.get("Base64").$encode64(y).$delete(r.get("EOL"))});a.defn(u,"$generate_data_uri_from_uri",function(b,c){var e,h,p=m,f=m;null==c&&(c=!1);!1!==c&&c!==m?r.get("Helpers").$require_library("open-uri/cached","open-uri-cached"):(e=a.get("RUBY_ENGINE_OPAL")["$!"]())===m||e.$$is_boolean&&1!=e||a.get("OpenURI");try{return p=m,f=(e=this.$open,e.$$p=(h=function(a){null==a&&(a=m);p=a.$content_type();return a.$read()},h.$$s=this,h),e).call(this,b,"rb"),"data:"+p+";base64,"+a.get("Base64").$encode64(f).$delete(r.get("EOL"))}catch(d){try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+
b),b}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}});a.defn(u,"$read_contents",function(b,c){var h,p,l,f,d,y=m,q=m,B=m;null==c&&(c=e([],{}));y=this.document;if((h=!1!==(p=r.get("Helpers")["$uriish?"](b))&&p!==m?p:(l=(f=q=c["$[]"]("start"),!1!==f&&f!==m?r.get("Helpers")["$uriish?"](q):f),!1!==l&&l!==m?b=(!1!==(f=this.path_resolver)&&f!==m?f:this.path_resolver=r.get("PathResolver").$new()).$web_path(b,q):l))===m||h.$$is_boolean&&1!=h)b=this.$normalize_system_path(b,c["$[]"]("start"),m,e(["target_name"],
{target_name:!1!==(h=c["$[]"]("label"))&&h!==m?h:"asset"})),B=this.$read_asset(b,e(["normalize","warn_on_failure"],{normalize:c["$[]"]("normalize"),warn_on_failure:c.$fetch("warn_on_failure",!0)}));else if((h=y["$attr?"]("allow-uri-read"))===m||h.$$is_boolean&&1!=h)(h=c.$fetch("warn_on_failure",!0))===m||h.$$is_boolean&&1!=h||this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(!1!==(h=c["$[]"]("label"))&&h!==m?h:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),B=m;else{(h=
y["$attr?"]("cache-uri"))===m||h.$$is_boolean&&1!=h||r.get("Helpers").$require_library("open-uri/cached","open-uri-cached");try{B=(h=(p=a.get("OpenURI")).$open_uri,h.$$p=(d=function(a){null==a&&(a=m);return a.$read()},d.$$s=this,d),h).call(p,b),(h=c["$[]"]("normalize"))===m||h.$$is_boolean&&1!=h||(B=n(r.get("Helpers").$normalize_lines_from_string(B),r.get("EOL")))}catch(J){try{(h=c.$fetch("warn_on_failure",!0))===m||h.$$is_boolean&&1!=h||this.$warn("asciidoctor: WARNING: could not retrieve contents of "+
(!1!==(h=c["$[]"]("label"))&&h!==m?h:"asset")+" at URI: "+b),B=m}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}return B});a.defn(u,"$read_asset",function(b,c){var h;null==c&&(c=e([],{}));if((h=a.get("Hash")["$==="](c))===m||h.$$is_boolean&&1!=h)c=e(["warn_on_failure"],{warn_on_failure:c["$!="](!1)});return(h=a.get("File")["$readable?"](b))===m||h.$$is_boolean&&1!=h?((h=c["$[]"]("warn_on_failure"))===m||h.$$is_boolean&&1!=h||this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+
b),m):(h=c["$[]"]("normalize"))===m||h.$$is_boolean&&1!=h?a.get("IO").$read(b):n(r.get("Helpers").$normalize_lines_from_string(a.get("IO").$read(b)),r.get("EOL"))});a.defn(u,"$normalize_web_path",function(a,b,c){var e;null==b&&(b=m);null==c&&(c=!0);return(e=!1!==c&&c!==m?r.get("Helpers")["$uriish?"](a):c)===m||e.$$is_boolean&&1!=e?(!1!==(e=this.path_resolver)&&e!==m?e:this.path_resolver=r.get("PathResolver").$new()).$web_path(a,b):a});a.defn(u,"$normalize_system_path",function(b,c,h,p){var l,f=m,
d=m;null==c&&(c=m);null==h&&(h=m);null==p&&(p=e([],{}));f=!1!==(l=this.path_resolver)&&l!==m?l:this.path_resolver=r.get("PathResolver").$new();if(q((d=this.document).$safe(),r.get("SafeMode").$$scope.get("SAFE")))if(!1!==c&&c!==m){if((l=f["$is_root?"](c))===m||l.$$is_boolean&&1!=l)c=a.get("File").$join(d.$base_dir(),c)}else c=d.$base_dir();else{if(!1===c||c===m)c=d.$base_dir();if(!1===h||h===m)h=d.$base_dir()}return f.$system_path(b,c,h,p)});a.defn(u,"$normalize_asset_path",function(a,b,c){null==
b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),m,e(["target_name","recover"],{target_name:b,recover:c}))});a.defn(u,"$relative_path",function(a){var b;return(!1!==(b=this.path_resolver)&&b!==m?b:this.path_resolver=r.get("PathResolver").$new()).$relative_path(a,this.document.$base_dir())});a.defn(u,"$is_uri?",function(a){return r.get("Helpers")["$uriish?"](a)});return(a.defn(u,"$list_marker_keyword",function(a){var b;null==a&&(a=m);return r.get("ORDERED_LIST_KEYWORDS")["$[]"](!1!==
(b=a)&&b!==m?b:this.style)}),m)&&"list_marker_keyword"})(h(A,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/abstract_block"]=function(a){function n(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="ignore";var m=a.nil,h=a.breaker,l=a.slice,e=a.module,c=a.klass,A=a.hash2;return function(b){b=e(b,"Asciidoctor").$$scope;(function(b,$super){function e(){}var p=e=c(b,$super,"AbstractBlock",e),r=p.$$proto,g=p.$$scope,k,t;r.document=r.attributes=r.blocks=r.source_location=
r.subs=r.title=r.subbed_title=r.caption=r.context=r.style=r.id=r.header=r.next_section_index=r.next_section_number=m;p.$attr_accessor("content_model");p.$attr_reader("subs");p.$attr_reader("blocks");p.$attr_accessor("level");p.$attr_writer("title");p.$attr_accessor("style");p.$attr_accessor("caption");p.$attr_accessor("source_location");a.defn(p,"$initialize",k=function(b,c,f){var d=l.call(arguments,0),e,g=k.$$p;null==f&&(f=A([],{}));k.$$p=null;a.find_super_dispatcher(this,"initialize",k,g).apply(this,
d);this.content_model="compound";this.subs=[];this.default_subs=m;this.blocks=[];this.style=this.caption=this.title=this.id=m;this.level=c["$=="]("document")?0:(e=!1!==b&&b!==m?c["$!="]("section"):b)===m||e.$$is_boolean&&1!=e?m:b.$level();this.next_section_index=0;this.next_section_number=1;return this.source_location=m});a.defn(p,"$block?",function(){return!0});a.defn(p,"$inline?",function(){return!1});a.defn(p,"$context=",function(a){this.context=a;return this.node_name=a.$to_s()});a.defn(p,"$convert",
function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)});a.alias(p,"render","convert");a.defn(p,"$content",function(){var a,b,f;return n((a=(b=this.blocks).$map,a.$$p=(f=function(a){null==a&&(a=m);return a.$convert()},f.$$s=this,f),a).call(b),g.get("EOL"))});a.defn(p,"$file",function(){var a;return(a=this.source_location)===m||a.$$is_boolean&&1!=a?m:this.source_location.$file()});a.defn(p,"$lineno",function(){var a;return(a=this.source_location)===m||
a.$$is_boolean&&1!=a?m:this.source_location.$lineno()});a.defn(p,"$sub?",function(a){return this.subs["$include?"](a)});a.defn(p,"$title?",function(){return this.title["$nil_or_empty?"]()["$!"]()});a.defn(p,"$title",function(){var a,b;return(a=(b=this.subbed_title,null!=b&&b!==m)?"instance-variable":m)===m||a.$$is_boolean&&1!=a?(a=this.title)===m||a.$$is_boolean&&1!=a?this.title:this.subbed_title=this.$apply_title_subs(this.title):this.subbed_title});a.defn(p,"$captioned_title",function(){return""+
this.caption+this.$title()});a.defn(p,"$blocks?",function(){return this.blocks["$empty?"]()["$!"]()});a.defn(p,"$<<",function(a){return this.blocks["$<<"](a)});a.alias(p,"append","<<");a.defn(p,"$sections",function(){var a,b,f;return(a=(b=this.blocks).$select,a.$$p=(f=function(a){null==a&&(a=m);return a.$context()["$=="]("section")},f.$$s=this,f),a).call(b)});a.defn(p,"$find_by",t=function(b){var c,f,d,e,g,k,p,l=t.$$p||m,v=m,n=m,r=m,q=m,G=m,L=m;null==b&&(b=A([],{}));t.$$p=null;v=[];if((c=(f=(d=(e=
!1!==(g=n=(r=b["$[]"]("context"))["$!"]())&&g!==m?g:r["$=="](this.context),!1!==e&&e!==m?!1!==(g=(q=b["$[]"]("style"))["$!"]())&&g!==m?g:q["$=="](this.style):e),!1!==d&&d!==m?!1!==(e=(G=b["$[]"]("role"))["$!"]())&&e!==m?e:this["$has_role?"](G):d),!1!==f&&f!==m?!1!==(d=(L=b["$[]"]("id"))["$!"]())&&d!==m?d:L["$=="](this.id):f))!==m&&(!c.$$is_boolean||1==c)){if(!1!==L&&L!==m)return l!==m?(c=(f=a.yield1(l,this))===h?h.$v:f)===m||c.$$is_boolean&&1!=c?v:[this]:[this];if(l!==m){if((c=(f=a.yield1(l,this))===
h?h.$v:f)!==m&&(!c.$$is_boolean||1==c))v["$<<"](this)}else v["$<<"](this)}(c=(f=(d=this.context["$=="]("document"))?!1!==(e=n)&&e!==m?e:r["$=="]("section"):this.context["$=="]("document"),!1!==f&&f!==m?this["$header?"]():f))===m||c.$$is_boolean&&1!=c||v.$concat((c=(f=this.header).$find_by,c.$$p=l.$to_proc(),c).call(f,b));r["$=="]("document")||(this.context["$=="]("dlist")?(c=!1!==(d=n)&&d!==m?d:r["$!="]("section"))===m||c.$$is_boolean&&1!=c||(c=(d=this.blocks.$flatten()).$each,c.$$p=(k=function(a){var d,
f;null==a&&(a=m);return v.$concat((d=(f=a).$find_by,d.$$p=l.$to_proc(),d).call(f,b))},k.$$s=this,k),c).call(d):c=(e=(g=this.blocks).$each,e.$$p=(p=function(a){var d,f;null==a&&(a=m);return(d=r["$=="]("section")?a.$context()["$!="]("section"):r["$=="]("section"))===m||d.$$is_boolean&&1!=d?v.$concat((d=(f=a).$find_by,d.$$p=l.$to_proc(),d).call(f,b)):m},p.$$s=this,p),e).call(g));return v});a.alias(p,"query","find_by");a.defn(p,"$remove_sub",function(a){this.subs.$delete(a);return m});a.defn(p,"$assign_caption",
function(a,b){var f,d,c=m,e=c=c=m;null==a&&(a=m);null==b&&(b=m);if((f=!1!==(d=this["$title?"]())&&d!==m?d:this.caption["$!"]())===m||f.$$is_boolean&&1!=f)return m;!1!==a&&a!==m?this.caption=a:(f=c=this.document.$attributes()["$[]"]("caption"))===m||f.$$is_boolean&&1!=f?(f=this["$title?"]())===m||f.$$is_boolean&&1!=f||(!1!==(f=b)&&f!==m?f:b=this.context.$to_s(),c=""+b+"-caption",(f=c=this.document.$attributes()["$[]"](c))===m||f.$$is_boolean&&1!=f||(e=this.document.$counter_increment(""+b+"-number",
this),this.caption=""+c+" "+e+". ")):this.caption=c;return m});a.defn(p,"$assign_index",function(a){var b,f,d,c=m,e=m;b=[this.next_section_index];f=a;f["$index="].apply(f,b);b[b.length-1];this.next_section_index=q(this.next_section_index,1);return a.$sectname()["$=="]("appendix")?(c=this.document.$counter("appendix-number","A"),(b=a.$numbered())===m||b.$$is_boolean&&1!=b||(b=[c],f=a,f["$number="].apply(f,b),b[b.length-1]),(b=(e=this.document.$attr("appendix-caption",""))["$!="](""))===m||b.$$is_boolean&&
1!=b?(b=[""+c+". "],f=a,f["$caption="].apply(f,b),b[b.length-1]):(b=[""+e+" "+c+": "],f=a,f["$caption="].apply(f,b),b[b.length-1])):(b=a.$numbered())===m||b.$$is_boolean&&1!=b?m:(b=(f=!1!==(d=a.$level()["$=="](1))&&d!==m?d:a.$level()["$=="](0)?a.$special():a.$level()["$=="](0),!1!==f&&f!==m?this.document.$doctype()["$=="]("book"):f))===m||b.$$is_boolean&&1!=b?(b=[this.next_section_number],f=a,f["$number="].apply(f,b),b[b.length-1],this.next_section_number=q(this.next_section_number,1)):(b=[this.document.$counter("chapter-number",
1)],f=a,f["$number="].apply(f,b),b[b.length-1])});return(a.defn(p,"$reindex_sections",function(){var a,b,f;this.next_section_number=this.next_section_index=0;return(a=(b=this.blocks).$each,a.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=m);return a.$context()["$=="]("section")?(b.$assign_index(a),a.$reindex_sections()):m},f.$$s=this,f),a).call(b)}),m)&&"reindex_sections"})(b.base,b.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/attribute_list"]=function(a){function n(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="ignore";var q=a.nil,m=a.module,h=a.klass,l=a.hash2;return function(e){(function(c,$super){function b(){}var e=b=h(c,$super,"AttributeList",b),m=e.$$proto,u=e.$$scope;m.attributes=m.scanner=m.delimiter=m.block=m.delimiter_skip_pattern=m.delimiter_boundary_pattern=q;a.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(u,"CG_BLANK","[ \\t]"),a.cdecl(u,
"CC_WORD","a-zA-Z0-9_"),a.cdecl(u,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(u,"BoundaryRxs",l(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+u.get("CG_BLANK")+"*(,|$))")}));a.cdecl(u,"EscapedQuoteRxs",l(['"',"'"],{'"':/\\"/,"'":/\\'/}));a.cdecl(u,"NameRx",new RegExp(""+u.get("CG_WORD")+"["+u.get("CC_WORD")+"\\-.]*"));a.cdecl(u,"BlankRx",new RegExp(""+u.get("CG_BLANK")+"+"));a.cdecl(u,"SkipRxs",l(["blank",","],{blank:u.get("BlankRx"),",":new RegExp(""+u.get("CG_BLANK")+"*(,|$)")}));
a.defn(e,"$initialize",function(b,c,e){null==c&&(c=q);null==e&&(e=",");this.scanner=a.get("StringScanner").$new(b);this.block=c;this.delimiter=e;this.delimiter_skip_pattern=u.get("SkipRxs")["$[]"](e);this.delimiter_boundary_pattern=u.get("BoundaryRxs")["$[]"](e);return this.attributes=q});a.defn(e,"$parse_into",function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))});a.defn(e,"$parse",function(a){var b,c,e=q;null==a&&(a=[]);if((b=this.attributes)!==q&&(!b.$$is_boolean||1==b))return this.attributes;
this.attributes=l([],{});for(e=0;(c=this.$parse_attribute(e,a))!==q&&(!c.$$is_boolean||1==c)&&((c=this.scanner["$eos?"]())===q||c.$$is_boolean&&1!=c);)this.$skip_delimiter(),e=n(e,1);return this.attributes});a.defn(e,"$rekey",function(a){return u.get("AttributeList").$rekey(this.attributes,a)});a.defs(e,"$rekey",function(a,b){var c,e;(c=b.$each_with_index,c.$$p=(e=function(b,c){var e,f=q,d=q;null==b&&(b=q);null==c&&(c=q);if(!1===b||b===q)return q;f=n(c,1);return(e=d=a["$[]"](f))===q||e.$$is_boolean&&
1!=e?q:a["$[]="](b,d)},e.$$s=this,e),c).call(b);return a});a.defn(e,"$parse_attribute",function(a,b){var c,e,h,l,m=q,f=q,d=f=q,y=q,E=q,f=m=y=q;null==a&&(a=0);null==b&&(b=[]);m=!1;this.$skip_blank();if((f=this.scanner.$peek(1))["$=="]('"'))f=this.$parse_attribute_value(this.scanner.$get_byte()),d=q;else if(f["$=="]("'"))f=this.$parse_attribute_value(this.scanner.$get_byte()),d=q,m=!0;else{f=this.$scan_name();y=0;E=q;if((c=this.scanner["$eos?"]())===q||c.$$is_boolean&&1!=c)y=!1!==(c=this.$skip_blank())&&
c!==q?c:0,E=this.scanner.$get_byte();else if(!1===f||f===q)return!1;if((c=!1!==(e=E["$!"]())&&e!==q?e:E["$=="](this.delimiter))===q||c.$$is_boolean&&1!=c)if((c=!1!==(e=E["$!="]("="))&&e!==q?e:f["$!"]())===q||c.$$is_boolean&&1!=c){if(this.$skip_blank(),(c=this.scanner.$peek(1))!==q&&(!c.$$is_boolean||1==c))if((E=this.scanner.$get_byte())["$=="]('"'))d=this.$parse_attribute_value(E);else if(E["$=="]("'"))d=this.$parse_attribute_value(E),m=!0;else if(E["$=="](this.delimiter))d=q;else if(d=""+E+this.$scan_to_delimiter(),
d["$=="]("None"))return!0}else f=""+f+" "["$*"](y)+E+this.$scan_to_delimiter(),d=q;else d=q}if(!1!==d&&d!==q)if(y=f,"options"["$==="](y)||"opts"["$==="](y))f="options",(c=(e=d.$tr(" ","").$split(",")).$each,c.$$p=(h=function(a){var d=h.$$s||this;null==d.attributes&&(d.attributes=q);null==a&&(a=q);return d.attributes["$[]="](""+a+"-option","")},h.$$s=this,h),c).call(e),this.attributes["$[]="](f,d);else if("title"["$==="](y))this.attributes["$[]="](f,d);else this.attributes["$[]="](f,(c=(l=!1!==m&&
m!==q?d["$empty?"]()["$!"]():m,!1!==l&&l!==q?this.block:l))===q||c.$$is_boolean&&1!=c?d:this.block.$apply_normal_subs(d));else{m=(c=(l=!1!==m&&m!==q?f["$empty?"]()["$!"]():m,!1!==l&&l!==q?this.block:l))===q||c.$$is_boolean&&1!=c?f:this.block.$apply_normal_subs(f);if((c=f=b["$[]"](a))!==q&&(!c.$$is_boolean||1==c))this.attributes["$[]="](f,m);this.attributes["$[]="](n(a,1),m)}return!0});a.defn(e,"$parse_attribute_value",function(a){var b,c=q;if(this.scanner.$peek(1)["$=="](a))return this.scanner.$get_byte(),
"";if((b=c=this.$scan_to_quote(a))===q||b.$$is_boolean&&1!=b)return""+a+this.$scan_to_delimiter();this.scanner.$get_byte();return c.$gsub(u.get("EscapedQuoteRxs")["$[]"](a),a)});a.defn(e,"$skip_blank",function(){return this.scanner.$skip(u.get("BlankRx"))});a.defn(e,"$skip_delimiter",function(){return this.scanner.$skip(this.delimiter_skip_pattern)});a.defn(e,"$scan_name",function(){return this.scanner.$scan(u.get("NameRx"))});a.defn(e,"$scan_to_delimiter",function(){return this.scanner.$scan(this.delimiter_boundary_pattern)});
return(a.defn(e,"$scan_to_quote",function(a){return this.scanner.$scan(u.get("BoundaryRxs")["$[]"](a))}),q)&&"scan_to_quote"})(m(e,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/block"]=function(a){function n(a,e){return"number"===typeof a&&"number"===typeof e?a*e:a["$*"](e)}a.dynamic_require_severity="ignore";var q=a.nil,m=a.slice,h=a.module,l=a.klass,e=a.hash2;return function(c){c=h(c,"Asciidoctor").$$scope;(function(c,$super){function h(){}var x=h=l(c,$super,"Block",h),u=x.$$proto,p=x.$$scope,r,g,k;u.attributes=u.content_model=u.lines=u.subs=u.blocks=u.context=u.style=q;u=["simple"];r=a.cdecl(p,"DEFAULT_CONTENT_MODEL",e("audio image listing literal stem open page_break pass thematic_break video".split(" "),
{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}));r["$default="].apply(r,u);u[u.length-1];a.alias(x,"blockname","context");x.$attr_accessor("lines");a.defn(x,"$initialize",g=function(c,h,k){var f=m.call(arguments,0),d,l=g.$$p,n=q,r=q;null==k&&(k=e([],{}));g.$$p=null;a.find_super_dispatcher(this,"initialize",g,l).apply(this,f);this.content_model=!1!==(d=k["$[]"]("content_model"))&&d!==
q?d:p.get("DEFAULT_CONTENT_MODEL")["$[]"](h);(d=k["$key?"]("subs"))===q||d.$$is_boolean&&1!=d?(this.subs=[],this.default_subs=q):(d=n=k["$[]"]("subs"))===q||d.$$is_boolean&&1!=d?(this.subs=[],this.default_subs=[],this.attributes.$delete("subs")):(n["$=="]("default")?this.default_subs=k["$[]"]("default_subs"):(d=a.get("Array")["$==="](n))===q||d.$$is_boolean&&1!=d?(this.default_subs=q,this.attributes["$[]="]("subs",""+n)):(this.default_subs=n.$dup(),this.attributes.$delete("subs")),this.$lock_in_subs());
return(d=(r=k["$[]"]("source"))["$nil_or_empty?"]())===q||d.$$is_boolean&&1!=d?(d=a.get("String")["$==="](r))===q||d.$$is_boolean&&1!=d?this.lines=r.$dup():this.lines=p.get("Helpers").$normalize_lines_from_string(r):this.lines=[]});a.defn(x,"$content",k=function(){var c=m.call(arguments,0),e,g,f=this,d=k.$$p,h=q,l=q,r=q,u=q;k.$$p=null;return function(){h=f.content_model;if("compound"["$==="](h))return a.find_super_dispatcher(f,"content",k,d).apply(f,c);if("simple"["$==="](h))return f.$apply_subs(n(f.lines,
p.get("EOL")),f.subs);if("verbatim"["$==="](h)||"raw"["$==="](h)){l=f.$apply_subs(f.lines,f.subs);var m=l.$size();if("number"===typeof m?2>m:m["$<"](2))return l["$[]"](0);for(;(e=(g=r=l["$[]"](0),!1!==g&&g!==q?r.$rstrip()["$empty?"]():g))!==q&&(!e.$$is_boolean||1==e);)l.$shift();for(;(e=(g=u=l["$[]"](-1),!1!==g&&g!==q?u.$rstrip()["$empty?"]():g))!==q&&(!e.$$is_boolean||1==e);)l.$pop();return n(l,p.get("EOL"))}f.content_model["$=="]("empty")||f.$warn("Unknown content model '"+f.content_model+"' for block: "+
f.$to_s());return q}()});a.defn(x,"$source",function(){return n(this.lines,p.get("EOL"))});return(a.defn(x,"$to_s",function(){var a=q,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"}),q)&&"to_s"})(c.base,c.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/callouts"]=function(a){function n(a,e){return"number"===typeof a&&"number"===typeof e?a+e:a["$+"](e)}function q(a,e){return"number"===typeof a&&"number"===typeof e?a-e:a["$-"](e)}a.dynamic_require_severity="ignore";var m=a.nil,h=a.module,l=a.klass,e=a.hash2;return function(c){(function(c,$super){function h(){}var x=h=l(c,$super,"Callouts",h),u=x.$$proto;u.co_index=u.lists=u.list_index=m;a.defn(x,"$initialize",function(){this.lists=[];this.list_index=0;return this.$next_list()});
a.defn(x,"$register",function(a){var c=m;this.$current_list()["$<<"](e(["ordinal","id"],{ordinal:a.$to_i(),id:c=this.$generate_next_callout_id()}));this.co_index=n(this.co_index,1);return c});a.defn(x,"$read_next_id",function(){var a=m,c=m,a=m,c=this.$current_list(),e=this.co_index,h=c.$size();if("number"===typeof e&&"number"===typeof h?e<=h:e["$<="](h))a=c["$[]"](q(this.co_index,1))["$[]"]("id");this.co_index=n(this.co_index,1);return a});a.defn(x,"$callout_ids",function(a){var c,e,h;return(c=(e=
this.$current_list()).$map,c.$$p=(h=function(c){null==c&&(c=m);return c["$[]"]("ordinal")["$=="](a)?""+c["$[]"]("id")+" ":m},h.$$s=this,h),c).call(e).$join().$chop()});a.defn(x,"$current_list",function(){return this.lists["$[]"](q(this.list_index,1))});a.defn(x,"$next_list",function(){this.list_index=n(this.list_index,1);var a=this.lists.$size(),c=this.list_index;if("number"===typeof a&&"number"===typeof c?a<c:a["$<"](c))this.lists["$<<"]([]);this.co_index=1;return m});a.defn(x,"$rewind",function(){this.co_index=
this.list_index=1;return m});a.defn(x,"$generate_next_callout_id",function(){return this.$generate_callout_id(this.list_index,this.co_index)});return(a.defn(x,"$generate_callout_id",function(a,c){return"CO"+a+"-"+c}),m)&&"generate_callout_id"})(h(c,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/converter/base"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.module,m=a.klass,h=a.hash2;return function(l){l=q(l,"Asciidoctor").$$scope;q(l.base,"Converter");n;(function(a,$super){function h(){}var b=h=m(a,$super,"Base",h);return b.$include(b.$$scope.get("Converter"))})(l.get("Converter"),null);(function(e,$super){function l(){}var b=l=m(e,$super,"BuiltIn",l);a.defn(b,"$initialize",function(a,b){null==b&&h([],{});return n});a.defn(b,"$convert",function(a,
b,e){var p;null==b&&(b=n);null==e&&(e=h([],{}));!1!==(p=b)&&p!==n?p:b=a.$node_name();return(p=e["$empty?"]())===n||p.$$is_boolean&&1!=p?this.$send(b,a,e):this.$send(b,a)});a.alias(b,"handles?","respond_to?");a.defn(b,"$content",function(a){return a.$content()});a.alias(b,"pass","content");return(a.defn(b,"$skip",function(a){return n}),n)&&"skip"})(l.get("Converter"),null)}(a.base)};
Opal.modules["asciidoctor/converter/factory"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.module,m=a.klass,h=a.hash2;return function(l){(function(e){(function(c,$super){function b(){}var e=b=m(c,$super,"Factory",b),l=e.$$proto,q=e.$$scope;l.converters=l.star_converter=n;e.__default__=n;(function(b){a.defn(b,"$default",function(b){var c,e;null==this.__default__&&(this.__default__=n);null==b&&(b=!0);if(!1===b||b===n)b=!1!==(c=this.__default__)&&c!==n?c:this.$new();else{if(!1===(c=
this.__default__)||c===n){var h;a:{try{((e=null==a.Object.$$scope.ThreadSafe?n:"constant")===n||e.$$is_boolean&&1!=e)&&this.$require("thread_safe".$to_s());h=this.$new(a.get("ThreadSafe").$$scope.get("Cache").$new());break a}catch(p){if(a.rescue(p,[a.get("LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");h=this.$new();break a}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw p;}h=void 0}c=this.__default__=
h}b=c}return b});a.defn(b,"$register",function(a,b){null==b&&(b=["*"]);return this.$default().$register(a,b)});a.defn(b,"$resolve",function(a){return this.$default().$resolve(a)});a.defn(b,"$create",function(a,b){null==b&&(b=h([],{}));return this.$default().$create(a,b)});a.defn(b,"$converters",function(){return this.$default().$converters()});return(a.defn(b,"$unregister_all",function(){return this.$default().$unregister_all()}),n)&&"unregister_all"})(a.get_singleton_class(e));e.$attr_reader("converters");
a.defn(e,"$initialize",function(a){var b;null==a&&(a=n);this.converters=!1!==(b=a)&&b!==n?b:h([],{});return this.star_converter=n});a.defn(e,"$register",function(a,b){var c,e,h;null==b&&(b=["*"]);(c=(e=b).$each,c.$$p=(h=function(b){var c=h.$$s||this;null==c.converters&&(c.converters=n);null==b&&(b=n);c.converters["$[]="](b,a);return b["$=="]("*")?c.star_converter=a:n},h.$$s=this,h),c).call(e);return n});a.defn(e,"$resolve",function(a){var b,c;return b=this.converters,!1!==b&&b!==n?!1!==(c=this.converters["$[]"](a))&&
c!==n?c:this.star_converter:b});a.defn(e,"$unregister_all",function(){this.converters.$clear();return this.star_converter=n});return(a.defn(e,"$create",function(b,c){var e,k=this,l=n,m=l=n,z=n;null==c&&(c=h([],{}));if((e=l=k.$resolve(b))!==n&&(!e.$$is_boolean||1==e))return(e=l["$is_a?"](a.get("Class")))===n||e.$$is_boolean&&1!=e?l:l.$new(b,c);l=function(){m=b;if("html5"["$==="](m)){var d;try{d=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("Html5Converter")?"constant":n}catch(f){if(f.$$class===
a.NameError)d=n;else throw f;}((e=d)===n||e.$$is_boolean&&1!=e)&&k.$require("asciidoctor/converter/html5".$to_s());return q.get("Html5Converter").$new(b,c)}if("docbook5"["$==="](m)){var h;try{h=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook5Converter")?"constant":n}catch(f){if(f.$$class===a.NameError)h=n;else throw f;}((e=h)===n||e.$$is_boolean&&1!=e)&&k.$require("asciidoctor/converter/docbook5".$to_s());return q.get("DocBook5Converter").$new(b,c)}if("docbook45"["$==="](m)){var l;
try{l=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook45Converter")?"constant":n}catch(f){if(f.$$class===a.NameError)l=n;else throw f;}((e=l)===n||e.$$is_boolean&&1!=e)&&k.$require("asciidoctor/converter/docbook45".$to_s());return q.get("DocBook45Converter").$new(b,c)}if("manpage"["$==="](m)){var t;try{t=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("ManPageConverter")?"constant":n}catch(f){if(f.$$class===a.NameError)t=n;else throw f;}((e=t)===n||e.$$is_boolean&&
1!=e)&&k.$require("asciidoctor/converter/manpage".$to_s());return q.get("ManPageConverter").$new(b,c)}return n}();if((e=c["$key?"]("template_dirs"))===n||e.$$is_boolean&&1!=e)return l;var f;try{f=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("TemplateConverter")?"constant":n}catch(y){if(y.$$class===a.NameError)f=n;else throw y;}((e=f)===n||e.$$is_boolean&&1!=e)&&k.$require("asciidoctor/converter/template".$to_s());var d;try{d=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("CompositeConverter")?
"constant":n}catch(y){if(y.$$class===a.NameError)d=n;else throw y;}((e=d)===n||e.$$is_boolean&&1!=e)&&k.$require("asciidoctor/converter/composite".$to_s());z=q.get("TemplateConverter").$new(b,c["$[]"]("template_dirs"),c);return q.get("CompositeConverter").$new(b,z,l)}),n)&&"create"})(q(e,"Converter").$$scope.base,null)})(q(l,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/converter"]=function(a){a.dynamic_require_severity="ignore";var n=a.top,q=a.nil,m=a.module,h=a.range,l=a.hash2;(function(e){e=m(e,"Asciidoctor").$$scope;(function(c){c=m(c,"Converter");var e=c.$$scope;(function(b){b=m(b,"Config");var c=b.$$scope;a.defn(b,"$register_for",function(){var b,e,h,l,g,k=q,k=arguments.length-0;0>k&&(k=0);for(var m=Array(k),n=0;n<k;n++)m[n]=arguments[n+0];c.get("Factory").$register(this,m);k=function(a){return a}(a.get_singleton_class(this));m["$=="](["*"])?
(b=(e=k).$send,b.$$p=(h=function(a){return!0},h.$$s=this,h),b).call(e,"define_method","converts?"):(b=(l=k).$send,b.$$p=(g=function(a){null==a&&(a=q);return m["$include?"](a)},g.$$s=this,g),b).call(l,"define_method","converts?");return q})})(e.base);(function(b){b=m(b,"BackendInfo");var c=b.$$scope;a.defn(b,"$backend_info",function(){var a;null==this.backend_info&&(this.backend_info=q);return!1!==(a=this.backend_info)&&a!==q?a:this.backend_info=this.$setup_backend_info()});a.defn(b,"$setup_backend_info",
function(){var b,e=q,p=q,m=q,g=q;null==this.backend&&(this.backend=q);((b=this.backend)===q||b.$$is_boolean&&1!=b)&&this.$raise(a.get("ArgumentError"),"Cannot determine backend for converter: "+this.$class());e=this.backend.$sub(c.get("TrailingDigitsRx"),"");(b=p=c.get("DEFAULT_EXTENSIONS")["$[]"](e))===q||b.$$is_boolean&&1!=b?(e="html",p=".html",g=m="html"):m=p["$[]"](h(1,-1,!1));return l(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:e,outfilesuffix:p,filetype:m,htmlsyntax:g})});
a.defn(b,"$filetype",function(a){null==a&&(a=q);return!1!==a&&a!==q?this.$backend_info()["$[]="]("filetype",a):this.$backend_info()["$[]"]("filetype")});a.defn(b,"$basebackend",function(a){null==a&&(a=q);return!1!==a&&a!==q?this.$backend_info()["$[]="]("basebackend",a):this.$backend_info()["$[]"]("basebackend")});a.defn(b,"$outfilesuffix",function(a){null==a&&(a=q);return!1!==a&&a!==q?this.$backend_info()["$[]="]("outfilesuffix",a):this.$backend_info()["$[]"]("outfilesuffix")});a.defn(b,"$htmlsyntax",
function(a){null==a&&(a=q);return!1!==a&&a!==q?this.$backend_info()["$[]="]("htmlsyntax",a):this.$backend_info()["$[]"]("htmlsyntax")})})(e.base);(function(b){var c=b.$$scope;return(a.defn(b,"$included",function(a){return a.$extend(c.get("Config"))}),q)&&"included"})(a.get_singleton_class(c));c.$include(e.get("Config"));c.$include(e.get("BackendInfo"));a.defn(c,"$initialize",function(a,c){null==c&&l([],{});this.backend=a;return this.$setup_backend_info()});a.defn(c,"$convert",function(b,c,e){null==
e&&l([],{});return this.$raise(a.get("NotImplementedError"))});a.alias(c,"convert_with_options","convert")})(e.base);(function(c){c=m(c,"Writer");var e=c.$$scope;a.defn(c,"$write",function(b,c){var h,l,p;(h=c["$respond_to?"]("write"))===q||h.$$is_boolean&&1!=h?(h=(l=a.get("File")).$open,h.$$p=(p=function(a){null==a&&(a=q);return a.$write(b)},p.$$s=this,p),h).call(l,c,"w"):(c.$write(b.$chomp()),c.$write(e.get("EOL")));return q})})(e.base);(function(c){c=m(c,"VoidWriter");c.$include(c.$$scope.get("Writer"));
a.defn(c,"$write",function(a,b){return q})})(e.base)})(a.base);n.$require("asciidoctor/converter/base");return n.$require("asciidoctor/converter/factory")};
Opal.modules["asciidoctor/converter/html5"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function e(a,b){return"number"===typeof a&&"number"===
typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var c=a.nil,A=a.module,b=a.klass,w=a.hash2,x=a.range;return function(u){u=A(u,"Asciidoctor").$$scope;(function(p,$super){function g(){}var k=g=b(p,$super,"Html5Converter",g),t=k.$$proto,u=k.$$scope,z;t.xml_mode=t.void_element_slash=t.stylesheets=c;t=[[c,c,c]];z=a.cdecl(u,"QUOTE_TAGS",w("emphasis strong monospaced superscript subscript double single mark asciimath latexmath".split(" "),{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",
!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]}));z["$default="].apply(z,t);t[t.length-1];a.cdecl(u,"SvgPreambleRx",/\A.*?(?=<svg[ >])/m);a.cdecl(u,"SvgStartTagRx",/\A<svg[^>]*>/);a.cdecl(u,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.defn(k,"$initialize",function(a,d){var b;
null==d&&(d=w([],{}));this.xml_mode=d["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=(b=this.xml_mode)===c||b.$$is_boolean&&1!=b?c:"/";return this.stylesheets=u.get("Stylesheets").$instance()});a.defn(k,"$document",function(a){var d,b,e,g,h,k=c,l=c,p=c,K=c,N=c,G=c,L=c,t=G=G=L=K=L=K=L=c,l=l=G=G=G=c,k=[],l=this.void_element_slash,p="<br"+l+">";if((d=(K=a.$attr("asset-uri-scheme","https"))["$empty?"]())===c||d.$$is_boolean&&1!=d)K=""+K+":";N=""+K+"//cdnjs.cloudflare.com/ajax/libs";G=!1!==
(d=n(a.$safe(),u.get("SafeMode").$$scope.get("SECURE")))&&d!==c?d:a["$attr?"]("linkcss");k["$<<"]("<!DOCTYPE html>");L=(d=a["$attr?"]("nolang"))===c||d.$$is_boolean&&1!=d?' lang="'+a.$attr("lang","en")+'"':c;k["$<<"]("<html"+((d=this.xml_mode)===c||d.$$is_boolean&&1!=d?c:' xmlns="http://www.w3.org/1999/xhtml"')+L+">");k["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+l+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+l+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+
l+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+'"'+l+">");if((d=a["$attr?"]("app-name"))!==c&&(!d.$$is_boolean||1==d))k["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+l+">");if((d=a["$attr?"]("description"))!==c&&(!d.$$is_boolean||1==d))k["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+l+">");if((d=a["$attr?"]("keywords"))!==c&&(!d.$$is_boolean||1==d))k["$<<"]('<meta name="keywords" content="'+a.$attr("keywords")+
'"'+l+">");if((d=a["$attr?"]("authors"))!==c&&(!d.$$is_boolean||1==d))k["$<<"]('<meta name="author" content="'+a.$attr("authors")+'"'+l+">");if((d=a["$attr?"]("copyright"))!==c&&(!d.$$is_boolean||1==d))k["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+l+">");k["$<<"]("<title>"+a.$doctitle(w(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if((d=u.get("DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))!==c&&(!d.$$is_boolean||1==d)){if((d=L=a.$attr("webfonts"))!==
c&&(!d.$$is_boolean||1==d))k["$<<"]('<link rel="stylesheet" href="'+K+"//fonts.googleapis.com/css?family="+((d=L["$empty?"]())===c||d.$$is_boolean&&1!=d?L:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700")+'"'+l+">");if(!1!==G&&G!==c)k["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(u.get("DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",""),!1)+'"'+l+">");else k["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if((d=
a["$attr?"]("stylesheet"))!==c&&(!d.$$is_boolean||1==d))if(!1!==G&&G!==c)k["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+l+">");else k["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),w(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>");if((d=a["$attr?"]("icons","font"))!==c&&(!d.$$is_boolean||1==d))if((d=a["$attr?"]("iconfont-remote"))===c||d.$$is_boolean&&1!=d)K=""+a.$attr("iconfont-name",
"font-awesome")+".css",k["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(K,a.$attr("stylesdir",""),!1)+'"'+l+">");else k["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn",""+N+"/font-awesome/4.4.0/css/font-awesome.min.css")+'"'+l+">");L=K=a.$attr("source-highlighter");if("coderay"["$==="](L)){if(a.$attr("coderay-css","class")["$=="]("class"))if(!1!==G&&G!==c)k["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",
""),!1)+'"'+l+">");else k["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](L)&&a.$attr("pygments-css","class")["$=="]("class"))if(L=a.$attr("pygments-style"),!1!==G&&G!==c)k["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(L),a.$attr("stylesdir",""),!1)+'"'+l+">");else k["$<<"](this.stylesheets.$embed_pygments_stylesheet(L));if((d=(G=a.$docinfo())["$empty?"]())===c||d.$$is_boolean&&1!=d)k["$<<"](G);k["$<<"]("</head>");
G=[];if((d=a.$id())!==c&&(!d.$$is_boolean||1==d))G["$<<"]('id="'+a.$id()+'"');if((d=(b=(e=a["$attr?"]("toc-class"),!1!==e&&e!==c?a["$attr?"]("toc"):e),!1!==b&&b!==c?a["$attr?"]("toc-placement","auto"):b))===c||d.$$is_boolean&&1!=d)G["$<<"]('class="'+a.$doctype()+'"');else G["$<<"]('class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","header")+'"');if((d=a["$attr?"]("max-width"))!==c&&(!d.$$is_boolean||1==d))G["$<<"]('style="max-width: '+a.$attr("max-width")+';"');k["$<<"]("<body "+
q(G," ")+">");if((d=a.$noheader())===c||d.$$is_boolean&&1!=d){k["$<<"]('<div id="header">');if(a.$doctype()["$=="]("manpage")){k["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>");if((d=(b=a["$attr?"]("toc"),!1!==b&&b!==c?a["$attr?"]("toc-placement","auto"):b))!==c&&(!d.$$is_boolean||1==d))k["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");k["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+
a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else{if((d=a["$has_header?"]())!==c&&(!d.$$is_boolean||1==d)){if((d=a.$notitle())===c||d.$$is_boolean&&1!=d)k["$<<"]("<h1>"+a.$header().$title()+"</h1>");t=[];if((d=a["$attr?"]("author"))!==c&&(!d.$$is_boolean||1==d)){t["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+p);if((d=a["$attr?"]("email"))!==c&&(!d.$$is_boolean||1==d))t["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+p);
m(G=a.$attr("authorcount").$to_i(),1)&&(d=(b=x(2,G,!1)).$each,d.$$p=(g=function(d){var b;null==d&&(d=c);t["$<<"]('<span id="author'+d+'" class="author">'+a.$attr("author_"+d)+"</span>"+p);return(b=a["$attr?"]("email_"+d))===c||b.$$is_boolean&&1!=b?c:t["$<<"]('<span id="email'+d+'" class="email">'+a.$sub_macros(a.$attr("email_"+d))+"</span>"+p)},g.$$s=this,g),d).call(b)}if((d=a["$attr?"]("revnumber"))!==c&&(!d.$$is_boolean||1==d))t["$<<"]('<span id="revnumber">'+(!1!==(d=a.$attr("version-label"))&&
d!==c?d:"").$downcase()+" "+a.$attr("revnumber")+((d=a["$attr?"]("revdate"))===c||d.$$is_boolean&&1!=d?"":",")+"</span>");if((d=a["$attr?"]("revdate"))!==c&&(!d.$$is_boolean||1==d))t["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>");if((d=a["$attr?"]("revremark"))!==c&&(!d.$$is_boolean||1==d))t["$<<"](""+p+'<span id="revremark">'+a.$attr("revremark")+"</span>");if((d=t["$empty?"]())===c||d.$$is_boolean&&1!=d)k["$<<"]('<div class="details">'),k.$concat(t),k["$<<"]("</div>")}if((d=(e=a["$attr?"]("toc"),
!1!==e&&e!==c?a["$attr?"]("toc-placement","auto"):e))!==c&&(!d.$$is_boolean||1==d))k["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>")}k["$<<"]("</div>")}k["$<<"]('<div id="content">\n'+a.$content()+"\n</div>");(d=(e=a["$footnotes?"](),!1!==e&&e!==c?a["$attr?"]("nofootnotes")["$!"]():e))===c||d.$$is_boolean&&1!=d||(k["$<<"]('<div id="footnotes">\n<hr'+l+">"),(d=(e=a.$footnotes()).$each,d.$$p=(h=function(a){null==
a&&(a=c);return k["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},h.$$s=this,h),d).call(e),k["$<<"]("</div>"));if((d=a.$nofooter())===c||d.$$is_boolean&&1!=d){k["$<<"]('<div id="footer">');k["$<<"]('<div id="footer-text">');if((d=a["$attr?"]("revnumber"))!==c&&(!d.$$is_boolean||1==d))k["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+p);if((d=a["$attr?"]("last-update-label"))!==c&&(!d.$$is_boolean||
1==d))k["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime"));k["$<<"]("</div>");k["$<<"]("</div>")}if((d=(G=a.$docinfo("footer"))["$empty?"]())===c||d.$$is_boolean&&1!=d)k["$<<"](G);L=K;"highlightjs"["$==="](L)||"highlight.js"["$==="](L)?(G=a.$attr("highlightjsdir",""+N+"/highlight.js/8.9.1"),k["$<<"]('<link rel="stylesheet" href="'+G+"/styles/"+a.$attr("highlightjs-theme","github")+'.min.css"'+l+">"),k["$<<"]('<script src="'+G+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):
"prettify"["$==="](L)&&(G=a.$attr("prettifydir",""+N+"/prettify/r298"),k["$<<"]('<link rel="stylesheet" href="'+G+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+l+">"),k["$<<"]('<script src="'+G+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));(d=a["$attr?"]("stem"))===c||d.$$is_boolean&&1!=d||(l=a.$attr("eqnums","none"),l["$=="]("")&&(l="AMS"),l=' equationNumbers: { autoNumber: "'+l+'" } ',k["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  tex2jax: {\n    inlineMath: ['+
u.get("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+u.get("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+u.get("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+l+'}\n});\n\x3c/script>\n<script src="'+N+'/mathjax/2.5.3/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));k["$<<"]("</body>");k["$<<"]("</html>");
return q(k,u.get("EOL"))});a.defn(k,"$embedded",function(a){var d,b,e,g=c,h=c,g=[];if(a.$doctype()["$=="]("manpage")){if((d=a.$notitle())===c||d.$$is_boolean&&1!=d)h=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',g["$<<"]("<h1"+h+">"+a.$doctitle()+" Manual Page</h1>");g["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else(d=(b=a["$has_header?"](),!1!==b&&b!==c?a.$notitle()["$!"]():b))===c||d.$$is_boolean&&
1!=d||(h=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',g["$<<"]("<h1"+h+">"+a.$header().$title()+"</h1>"));if((d=(b=a["$attr?"]("toc"),!1!==b&&b!==c?["macro","preamble"]["$include?"](a.$attr("toc-placement"))["$!"]():b))!==c&&(!d.$$is_boolean||1==d))g["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");g["$<<"](a.$content());(d=(b=a["$footnotes?"](),!1!==b&&b!==c?a["$attr?"]("nofootnotes")["$!"]():b))===c||d.$$is_boolean&&
1!=d||(g["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),(d=(b=a.$footnotes()).$each,d.$$p=(e=function(a){null==a&&(a=c);return g["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},e.$$s=this,e),d).call(b),g["$<<"]("</div>"));return q(g,u.get("EOL"))});a.defn(k,"$outline",function(a,d){var b,e,g,k=c,p=c,m=c,n=c,K=c,N=c;null==d&&(d=w([],{}));if((b=(k=a.$sections())["$empty?"]())!==c&&(!b.$$is_boolean||
1==b))return c;p=!1!==(b=d["$[]"]("sectnumlevels"))&&b!==c?b:a.$document().$attr("sectnumlevels",3).$to_i();m=!1!==(b=d["$[]"]("toclevels"))&&b!==c?b:a.$document().$attr("toclevels",2).$to_i();n=[];K=(N=k["$[]"](0)).$level();(b=(e=K["$=="](0))?N.$special():K["$=="](0))===c||b.$$is_boolean&&1!=b||(K=1);n["$<<"]('<ul class="sectlevel'+K+'">');(b=(e=k).$each,b.$$p=(g=function(a){var d=g.$$s||this,b,f,e,k=c,y=c;null==a&&(a=c);k=(b=(f=(e=a.$numbered(),!1!==e&&e!==c?a.$caption()["$!"]():e),!1!==f&&f!==
c?h(a.$level(),p):f))===c||b.$$is_boolean&&1!=b?c:""+a.$sectnum()+" ";if((b=l(a.$level(),m)?y=d.$outline(a,w(["toclevels","secnumlevels"],{toclevels:m,secnumlevels:p})):l(a.$level(),m))===c||b.$$is_boolean&&1!=b)return n["$<<"]('<li><a href="#'+a.$id()+'">'+k+a.$captioned_title()+"</a></li>");n["$<<"]('<li><a href="#'+a.$id()+'">'+k+a.$captioned_title()+"</a>");n["$<<"](y);return n["$<<"]("</li>")},g.$$s=this,g),b).call(e);n["$<<"]("</ul>");return q(n,u.get("EOL"))});a.defn(k,"$section",function(a){var d,
b,g,k=c,l=c,p=c,m=c,n=c,q=c,N=c,G=c,L=c,k=a.$level();(d=(b=k["$=="](0))?a.$special():k["$=="](0))===c||d.$$is_boolean&&1!=d||(k=1);l="h"+e(k,1);p=m=n=q=c;(d=a.$id())===c||d.$$is_boolean&&1!=d||((p=' id="'+a.$id()+'"',(d=a.$document()["$attr?"]("sectanchors"))===c||d.$$is_boolean&&1!=d)?(d=a.$document()["$attr?"]("sectlinks"))===c||d.$$is_boolean&&1!=d||(n='<a class="link" href="#'+a.$id()+'">',q="</a>"):m='<a class="anchor" href="#'+a.$id()+'"></a>');if(k["$=="](0))return"<h1"+p+' class="sect0">'+
m+n+a.$title()+q+"</h1>\n"+a.$content();N=(d=G=a.$role())===c||d.$$is_boolean&&1!=d?' class="sect'+k+'"':' class="sect'+k+" "+G+'"';L=(d=(b=(g=a.$numbered(),!1!==g&&g!==c?a.$caption()["$!"]():g),!1!==b&&b!==c?h(k,a.$document().$attr("sectnumlevels",3).$to_i()):b))===c||d.$$is_boolean&&1!=d?c:""+a.$sectnum()+" ";return"<div"+N+">\n<"+l+p+">"+m+n+L+a.$captioned_title()+q+"</"+l+">\n"+(k["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"});a.defn(k,"$admonition",
function(a){var d,b=c,e=c,g=c,h=c,k=c,b=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',e=a.$attr("name"),g=(d=a["$title?"]())===c||d.$$is_boolean&&1!=d?c:'<div class="title">'+a.$title()+"</div>\n",h=(d=a.$document()["$attr?"]("icons"))===c||d.$$is_boolean&&1!=d?'<div class="title">'+a.$caption()+"</div>":(d=a.$document()["$attr?"]("icons","font"))===c||d.$$is_boolean&&1!=d?'<img src="'+a.$icon_uri(e)+'" alt="'+a.$caption()+'"'+this.void_element_slash+">":'<i class="fa icon-'+e+'" title="'+
a.$caption()+'"></i>';return"<div"+b+' class="admonitionblock '+e+(d=k=a.$role(),!1!==d&&d!==c?" "+k:d)+'">\n<table>\n<tr>\n<td class="icon">\n'+h+'\n</td>\n<td class="content">\n'+g+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"});a.defn(k,"$audio",function(a){var d,b=c,e=c,g=c,h=g=c,b=a.$document()["$attr?"]("htmlsyntax","xml"),e=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',g=["audioblock",a.$style(),a.$role()].$compact(),g=' class="'+q(g," ")+'"',h=(d=a["$title?"]())===c||d.$$is_boolean&&
1!=d?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+e+g+">\n"+h+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+((d=a["$option?"]("autoplay"))===c||d.$$is_boolean&&1!=d?c:this.$append_boolean_attribute("autoplay",b))+((d=a["$option?"]("nocontrols"))===c||d.$$is_boolean&&1!=d?this.$append_boolean_attribute("controls",b):c)+((d=a["$option?"]("loop"))===c||d.$$is_boolean&&1!=d?c:this.$append_boolean_attribute("loop",b))+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"});
a.defn(k,"$colist",function(a){var d,b,g,h,k,l=c,p=c,m=c,n=m=c,l=[],p=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',m=["colist",a.$style(),a.$role()].$compact(),m=' class="'+q(m," ")+'"';l["$<<"]("<div"+p+m+">");if((d=a["$title?"]())!==c&&(!d.$$is_boolean||1==d))l["$<<"]('<div class="title">'+a.$title()+"</div>");(d=a.$document()["$attr?"]("icons"))===c||d.$$is_boolean&&1!=d?(l["$<<"]("<ol>"),(d=(h=a.$items()).$each,d.$$p=(k=function(a){null==a&&(a=c);return l["$<<"]("<li>\n<p>"+a.$text()+
"</p>\n</li>")},k.$$s=this,k),d).call(h),l["$<<"]("</ol>")):(l["$<<"]("<table>"),n=a.$document()["$attr?"]("icons","font"),(d=(b=a.$items()).$each_with_index,d.$$p=(g=function(d,b){var h=g.$$s||this,k=c,k=c;null==h.void_element_slash&&(h.void_element_slash=c);null==d&&(d=c);null==b&&(b=c);k=e(b,1);k=!1!==n&&n!==c?'<i class="conum" data-value="'+k+'"></i><b>'+k+"</b>":'<img src="'+a.$icon_uri("callouts/"+k)+'" alt="'+k+'"'+h.void_element_slash+">";return l["$<<"]("<tr>\n<td>"+k+"</td>\n<td>"+d.$text()+
"</td>\n</tr>")},g.$$s=this,g),d).call(b),l["$<<"]("</table>"));l["$<<"]("</div>");return q(l,u.get("EOL"))});a.defn(k,"$dlist",function(b){var d,e,g,h,k,l,p,m=c,n=c,N=c,G=N=N=c,L=n=c,m=[],n=(d=b.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+b.$id()+'"',N=b.$style(),N=("qanda"["$==="](N)?["qlist","qanda",b.$role()]:"horizontal"["$==="](N)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),N=' class="'+q(N," ")+'"';m["$<<"]("<div"+n+N+">");if((d=b["$title?"]())!==c&&(!d.$$is_boolean||1==
d))m["$<<"]('<div class="title">'+b.$title()+"</div>");N=b.$style();"qanda"["$==="](N)?(m["$<<"]("<ol>"),(d=(e=b.$items()).$each,d.$$p=(g=function(d,b){var f=g.$$s||this,e,h,k;null==d&&(d=c);null==b&&(b=c);m["$<<"]("<li>");(e=(h=[].concat(a.to_a(d))).$each,e.$$p=(k=function(a){null==a&&(a=c);return m["$<<"]("<p><em>"+a.$text()+"</em></p>")},k.$$s=f,k),e).call(h);if(!1!==b&&b!==c){if((e=b["$text?"]())!==c&&(!e.$$is_boolean||1==e))m["$<<"]("<p>"+b.$text()+"</p>");if((e=b["$blocks?"]())!==c&&(!e.$$is_boolean||
1==e))m["$<<"](b.$content())}return m["$<<"]("</li>")},g.$$s=this,g),d).call(e),m["$<<"]("</ol>")):"horizontal"["$==="](N)?(G=this.void_element_slash,m["$<<"]("<table>"),(d=!1!==(h=b["$attr?"]("labelwidth"))&&h!==c?h:b["$attr?"]("itemwidth"))===c||d.$$is_boolean&&1!=d||(m["$<<"]("<colgroup>"),n=(d=b["$attr?"]("labelwidth"))===c||d.$$is_boolean&&1!=d?c:' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"',m["$<<"]("<col"+n+G+">"),n=(d=b["$attr?"]("itemwidth"))===c||d.$$is_boolean&&1!=d?c:' style="width: '+
b.$attr("itemwidth").$chomp("%")+'%;"',m["$<<"]("<col"+n+G+">"),m["$<<"]("</colgroup>")),(d=(h=b.$items()).$each,d.$$p=(k=function(d,e){var g=k.$$s||this,h,l,p,v=c,n=c;null==d&&(d=c);null==e&&(e=c);m["$<<"]("<tr>");m["$<<"]('<td class="hdlist1'+((h=b["$option?"]("strong"))===c||h.$$is_boolean&&1!=h?c:" strong")+'">');v=[].concat(a.to_a(d));n=v["$[]"](-1);(h=(l=v).$each,h.$$p=(p=function(a){var d;null==a&&(a=c);m["$<<"](a.$text());return(d=a["$!="](n))===c||d.$$is_boolean&&1!=d?c:m["$<<"]("<br"+G+
">")},p.$$s=g,p),h).call(l);m["$<<"]("</td>");m["$<<"]('<td class="hdlist2">');if(!1!==e&&e!==c){if((h=e["$text?"]())!==c&&(!h.$$is_boolean||1==h))m["$<<"]("<p>"+e.$text()+"</p>");if((h=e["$blocks?"]())!==c&&(!h.$$is_boolean||1==h))m["$<<"](e.$content())}m["$<<"]("</td>");return m["$<<"]("</tr>")},k.$$s=this,k),d).call(h),m["$<<"]("</table>")):(m["$<<"]("<dl>"),L=(d=b.$style())===c||d.$$is_boolean&&1!=d?' class="hdlist1"':c,(d=(l=b.$items()).$each,d.$$p=(p=function(d,b){var f=p.$$s||this,e,g,h;null==
d&&(d=c);null==b&&(b=c);(e=(g=[].concat(a.to_a(d))).$each,e.$$p=(h=function(a){null==a&&(a=c);return m["$<<"]("<dt"+L+">"+a.$text()+"</dt>")},h.$$s=f,h),e).call(g);if(!1!==b&&b!==c){m["$<<"]("<dd>");if((e=b["$text?"]())!==c&&(!e.$$is_boolean||1==e))m["$<<"]("<p>"+b.$text()+"</p>");if((e=b["$blocks?"]())!==c&&(!e.$$is_boolean||1==e))m["$<<"](b.$content());return m["$<<"]("</dd>")}return c},p.$$s=this,p),d).call(l),m["$<<"]("</dl>"));m["$<<"]("</div>");return q(m,u.get("EOL"))});a.defn(k,"$example",
function(a){var d,b=c,e=c,g=c,b=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',e=(d=a["$title?"]())===c||d.$$is_boolean&&1!=d?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+b+' class="'+((d=g=a.$role())===c||d.$$is_boolean&&1!=d?"exampleblock":q(["exampleblock",g]," "))+'">\n'+e+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"});a.defn(k,"$floating_title",function(a){var d,b=c,g=c,h=c,b="h"+e(a.$level(),1),g=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+
a.$id()+'"',h=[a.$style(),a.$role()].$compact();return"<"+b+g+' class="'+q(h," ")+'">'+a.$title()+"</"+b+">"});a.defn(k,"$image",function(a){var d,b,e,g=c,h=c,k=c,p=c,m=c,n=c,N=p=c,p=k=k=h=h=g=c,g=a.$attr("target"),h=(d=a["$attr?"]("width"))===c||d.$$is_boolean&&1!=d?c:' width="'+a.$attr("width")+'"',k=(d=a["$attr?"]("height"))===c||d.$$is_boolean&&1!=d?c:' height="'+a.$attr("height")+'"';(d=(b=!1!==(e=a["$attr?"]("format","svg",!1))&&e!==c?e:g["$include?"](".svg"),!1!==b&&b!==c?l(a.$document().$safe(),
u.get("SafeMode").$$scope.get("SECURE")):b))===c||d.$$is_boolean&&1!=d||(!1!==(d=p=a["$option?"]("inline"))&&d!==c?d:m=a["$option?"]("interactive"),!1!==p&&p!==c?n=!1!==(d=this.$read_svg_contents(a,g))&&d!==c?d:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==m&&m!==c&&(p=(d=a["$attr?"]("fallback"))===c||d.$$is_boolean&&1!=d?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+h+k+this.void_element_slash+">",n='<object type="image/svg+xml" data="'+
a.$image_uri(g)+'"'+h+k+">"+p+"</object>"));!1!==(d=n)&&d!==c?d:n='<img src="'+a.$image_uri(g)+'" alt="'+a.$attr("alt")+'"'+h+k+this.void_element_slash+">";(d=N=a.$attr("link"))===c||d.$$is_boolean&&1!=d||(n='<a class="image" href="'+N+'">'+n+"</a>");g=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"';h=["imageblock",a.$style(),a.$role()].$compact();h=' class="'+q(h," ")+'"';k=[];if((d=a["$attr?"]("align"))!==c&&(!d.$$is_boolean||1==d))k["$<<"]("text-align: "+a.$attr("align"));if((d=a["$attr?"]("float"))!==
c&&(!d.$$is_boolean||1==d))k["$<<"]("float: "+a.$attr("float"));k=(d=k["$empty?"]())===c||d.$$is_boolean&&1!=d?' style="'+q(k,";")+'"':c;p=(d=a["$title?"]())===c||d.$$is_boolean&&1!=d?c:'\n<div class="title">'+a.$captioned_title()+"</div>";return"<div"+g+h+k+'>\n<div class="content">\n'+n+"\n</div>"+p+"\n</div>"});a.defn(k,"$listing",function(a){var d,b=c,e=c,g=c,h=c,k=h=b=g=b=c,l=c,b=!1!==(d=a.$document()["$attr?"]("prewrap")["$!"]())&&d!==c?d:a["$option?"]("nowrap");a.$style()["$=="]("source")?
(g=(d=e=a.$attr("language",c,!1))===c||d.$$is_boolean&&1!=d?c:' data-lang="'+e+'"',h=a.$document().$attr("source-highlighter"),"coderay"["$==="](h)?b=' class="CodeRay highlight'+(!1!==b&&b!==c?" nowrap":c)+'"':"pygments"["$==="](h)?b=' class="pygments highlight'+(!1!==b&&b!==c?" nowrap":c)+'"':"highlightjs"["$==="](h)||"highlight.js"["$==="](h)?(b=' class="highlightjs highlight'+(!1!==b&&b!==c?" nowrap":c)+'"',!1!==e&&e!==c&&(g=' class="language-'+e+'"'+g)):"prettify"["$==="](h)?(b=' class="prettyprint highlight'+
(!1!==b&&b!==c?" nowrap":c)+((d=a["$attr?"]("linenums"))===c||d.$$is_boolean&&1!=d?c:" linenums")+'"',!1!==e&&e!==c&&(g=' class="language-'+e+'"'+g)):"html-pipeline"["$==="](h)?(b=!1!==e&&e!==c?' lang="'+e+'"':c,g=c):(b=' class="highlight'+(!1!==b&&b!==c?" nowrap":c)+'"',!1!==e&&e!==c&&(g=' class="language-'+e+'"'+g)),g="<pre"+b+"><code"+g+">",b="</code></pre>"):(g="<pre"+(!1!==b&&b!==c?' class="nowrap"':c)+">",b="</pre>");h=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"';k=(d=a["$title?"]())===
c||d.$$is_boolean&&1!=d?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+h+' class="listingblock'+(d=l=a.$role(),!1!==d&&d!==c?" "+l:d)+'">\n'+k+'<div class="content">\n'+g+a.$content()+b+"\n</div>\n</div>"});a.defn(k,"$literal",function(a){var d,b=c,e=c,g=c,h=c,b=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',e=(d=a["$title?"]())===c||d.$$is_boolean&&1!=d?c:'<div class="title">'+a.$title()+"</div>\n",g=!1!==(d=a.$document()["$attr?"]("prewrap")["$!"]())&&d!==c?d:
a["$option?"]("nowrap");return"<div"+b+' class="literalblock'+(d=h=a.$role(),!1!==d&&d!==c?" "+h:d)+'">\n'+e+'<div class="content">\n<pre'+(!1!==g&&g!==c?' class="nowrap"':c)+">"+a.$content()+"</pre>\n</div>\n</div>"});a.defn(k,"$stem",function(b){var d,e,g=c,h=c,k=c,l=c,p=c,m=c,g=(d=b.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+b.$id()+'"',h=(d=b["$title?"]())===c||d.$$is_boolean&&1!=d?c:'<div class="title">'+b.$title()+"</div>\n";d=a.to_ary(u.get("BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym()));
k=null==d[0]?c:d[0];l=null==d[1]?c:d[1];if((d=(e=(p=b.$content())["$start_with?"](k),!1!==e&&e!==c?p["$end_with?"](l):e))===c||d.$$is_boolean&&1!=d)p=""+k+p+l;return"<div"+g+' class="'+((d=m=b.$role())===c||d.$$is_boolean&&1!=d?"stemblock":q(["stemblock",m]," "))+'">\n'+h+'<div class="content">\n'+p+"\n</div>\n</div>"});a.defn(k,"$olist",function(a){var d,b,e,g=c,h=c,k=c,l=h=k=c,k=c,g=[],h=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',k=["olist",a.$style(),a.$role()].$compact(),k=' class="'+
q(k," ")+'"';g["$<<"]("<div"+h+k+">");if((d=a["$title?"]())!==c&&(!d.$$is_boolean||1==d))g["$<<"]('<div class="title">'+a.$title()+"</div>");h=(d=l=a.$list_marker_keyword())===c||d.$$is_boolean&&1!=d?c:' type="'+l+'"';k=(d=a["$attr?"]("start"))===c||d.$$is_boolean&&1!=d?c:' start="'+a.$attr("start")+'"';g["$<<"]('<ol class="'+a.$style()+'"'+h+k+">");(d=(b=a.$items()).$each,d.$$p=(e=function(a){var d;null==a&&(a=c);g["$<<"]("<li>");g["$<<"]("<p>"+a.$text()+"</p>");if((d=a["$blocks?"]())!==c&&(!d.$$is_boolean||
1==d))g["$<<"](a.$content());return g["$<<"]("</li>")},e.$$s=this,e),d).call(b);g["$<<"]("</ol>");g["$<<"]("</div>");return q(g,u.get("EOL"))});a.defn(k,"$open",function(a){var d,b,e,g=c,h=c,k=c,l=c;if((g=a.$style())["$=="]("abstract")){if((d=a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document()))===c||d.$$is_boolean&&1!=d)return h=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',k=(d=a["$title?"]())===c||d.$$is_boolean&&1!=d?c:'<div class="title">'+
a.$title()+"</div>","<div"+h+' class="quoteblock abstract'+(d=l=a.$role(),!1!==d&&d!==c?" "+l:d)+'">\n'+k+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>";this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content.");return""}if((d=g["$=="]("partintro")?!1!==(b=!1!==(e=a.$level()["$!="](0))&&e!==c?e:a.$parent().$context()["$!="]("section"))&&b!==c?b:a.$document().$doctype()["$!="]("book"):g["$=="]("partintro"))===
c||d.$$is_boolean&&1!=d)return h=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',k=(d=a["$title?"]())===c||d.$$is_boolean&&1!=d?c:'<div class="title">'+a.$title()+"</div>","<div"+h+' class="openblock'+((d=!1!==g&&g!==c?g["$!="]("open"):g)===c||d.$$is_boolean&&1!=d?"":" "+g)+(d=l=a.$role(),!1!==d&&d!==c?" "+l:d)+'">\n'+k+'<div class="content">\n'+a.$content()+"\n</div>\n</div>";this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content.");
return""});a.defn(k,"$page_break",function(a){return'<div style="page-break-after: always;"></div>'});a.defn(k,"$paragraph",function(a){var d,b=c,b=c,b=(d=a.$role())===c||d.$$is_boolean&&1!=d?'class="paragraph"':'class="paragraph '+a.$role()+'"',b=(d=a.$id())===c||d.$$is_boolean&&1!=d?b:'id="'+a.$id()+'" '+b;return(d=a["$title?"]())===c||d.$$is_boolean&&1!=d?"<div "+b+">\n<p>"+a.$content()+"</p>\n</div>":"<div "+b+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>"});a.defn(k,
"$preamble",function(a){var d,b,e=c,e=(d=(b=a["$attr?"]("toc"),!1!==b&&b!==c?a["$attr?"]("toc-placement","preamble"):b))===c||d.$$is_boolean&&1!=d?c:'\n<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a.$document())+"\n</div>";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+e+"\n</div>"});a.defn(k,"$quote",function(a){var d,b,e=c,g=c,h=g=c,k=c,l=c,p=c,p=k=c,e=(d=a.$id())===c||d.$$is_boolean&&
1!=d?c:' id="'+a.$id()+'"',g=["quoteblock",a.$role()].$compact(),g=' class="'+q(g," ")+'"',h=(d=a["$title?"]())===c||d.$$is_boolean&&1!=d?c:'\n<div class="title">'+a.$title()+"</div>",k=(d=a["$attr?"]("attribution"))===c||d.$$is_boolean&&1!=d?c:a.$attr("attribution"),l=(d=a["$attr?"]("citetitle"))===c||d.$$is_boolean&&1!=d?c:a.$attr("citetitle");(d=!1!==(b=k)&&b!==c?b:l)===c||d.$$is_boolean&&1!=d?p=c:(p=!1!==l&&l!==c?"<cite>"+l+"</cite>":c,k=!1!==k&&k!==c?"&#8212; "+k+(!1!==l&&l!==c?"<br"+this.void_element_slash+
">\n":c):c,p='\n<div class="attribution">\n'+k+p+"\n</div>");return"<div"+e+g+">"+h+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+p+"\n</div>"});a.defn(k,"$thematic_break",function(a){return"<hr"+this.void_element_slash+">"});a.defn(k,"$sidebar",function(a){var d,b=c,e=c,g=c,b=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',e=(d=a["$title?"]())===c||d.$$is_boolean&&1!=d?c:'<div class="title">'+a.$title()+"</div>\n";return"<div"+b+' class="'+((d=g=a.$role())===c||d.$$is_boolean&&1!=
d?"sidebarblock":q(["sidebarblock",g]," "))+'">\n<div class="content">\n'+e+a.$content()+"\n</div>\n</div>"});a.defn(k,"$table",function(a){var d,b,e,g,h,k,l,p,n,N,G=c,L=c,t=c,z=c,ca=c,w=z=t=ca=c,x=c,G=[],L=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',t=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],z=[];if((d=a["$option?"]("autowidth"))===c||d.$$is_boolean&&1!=d)if((ca=a.$attr("tablepcwidth"))["$=="](100))t["$<<"]("spread");else z["$<<"]("width: "+ca+
"%;");if((d=ca=a.$role())!==c&&(!d.$$is_boolean||1==d))t["$<<"](ca);t=' class="'+q(t," ")+'"';if((d=a["$attr?"]("float"))!==c&&(!d.$$is_boolean||1==d))z["$<<"]("float: "+a.$attr("float")+";");z=(d=z["$empty?"]())===c||d.$$is_boolean&&1!=d?' style="'+q(z," ")+'"':c;G["$<<"]("<table"+L+t+z+">");if((d=a["$title?"]())!==c&&(!d.$$is_boolean||1==d))G["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");m(a.$attr("rowcount"),0)&&(w=this.void_element_slash,G["$<<"]("<colgroup>"),(d=a["$option?"]("autowidth"))===
c||d.$$is_boolean&&1!=d?(d=(g=a.$columns()).$each,d.$$p=(h=function(a){null==a&&(a=c);return G["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+w+">")},h.$$s=this,h),d).call(g):(x="<col"+w+">",(d=(b=a.$columns().$size()).$times,d.$$p=(e=function(){return G["$<<"](x)},e.$$s=this,e),d).call(b)),G["$<<"]("</colgroup>"),(d=(k=(p=(n=["head","foot","body"]).$select,p.$$p=(N=function(d){null==d&&(d=c);return a.$rows()["$[]"](d)["$empty?"]()["$!"]()},N.$$s=this,N),p).call(n)).$each,d.$$p=(l=function(d){var b=
l.$$s||this,e,g,h;null==d&&(d=c);G["$<<"]("<t"+d+">");(e=(g=a.$rows()["$[]"](d)).$each,e.$$p=(h=function(b){var e=h.$$s||this,g,k,l;null==b&&(b=c);G["$<<"]("<tr>");(g=(k=b).$each,g.$$p=(l=function(b){var e=l.$$s||this,g,h,k,p,m=c,v=c,n=v=c,y=c,D=c,q=c;null==b&&(b=c);d["$=="]("head")?m=b.$text():(v=b.$style(),"asciidoc"["$==="](v)?m="<div>"+b.$content()+"</div>":"verse"["$==="](v)?m='<div class="verse">'+b.$text()+"</div>":"literal"["$==="](v)?m='<div class="literal"><pre>'+b.$text()+"</pre></div>":
(m="",(g=(h=b.$content()).$each,g.$$p=(k=function(a){null==a&&(a=c);return m=""+m+'<p class="tableblock">'+a+"</p>"},k.$$s=e,k),g).call(h)));v=(g=!1!==(p=d["$=="]("head"))&&p!==c?p:b.$style()["$=="]("header"))===c||g.$$is_boolean&&1!=g?"td":"th";n=' class="tableblock halign-'+b.$attr("halign")+" valign-"+b.$attr("valign")+'"';y=(g=b.$colspan())===c||g.$$is_boolean&&1!=g?c:' colspan="'+b.$colspan()+'"';D=(g=b.$rowspan())===c||g.$$is_boolean&&1!=g?c:' rowspan="'+b.$rowspan()+'"';q=(g=a.$document()["$attr?"]("cellbgcolor"))===
c||g.$$is_boolean&&1!=g?c:' style="background-color: '+a.$document().$attr("cellbgcolor")+';"';return G["$<<"]("<"+v+n+y+D+q+">"+m+"</"+v+">")},l.$$s=e,l),g).call(k);return G["$<<"]("</tr>")},h.$$s=b,h),e).call(g);return G["$<<"]("</t"+d+">")},l.$$s=this,l),d).call(k));G["$<<"]("</table>");return q(G,u.get("EOL"))});a.defn(k,"$toc",function(a){var d,b,e=c,g=c,h=c,k=c,l=c,p=c;if((d=(b=(e=a.$document())["$attr?"]("toc-placement","macro"),!1!==b&&b!==c?e["$attr?"]("toc"):b))===c||d.$$is_boolean&&1!=
d)return"\x3c!-- toc disabled --\x3e";(d=a.$id())===c||d.$$is_boolean&&1!=d?(g=' id="toc"',h=' id="toctitle"'):(g=' id="'+a.$id()+'"',h=' id="'+a.$id()+'title"');k=(d=a["$title?"]())===c||d.$$is_boolean&&1!=d?e.$attr("toc-title"):a.$title();l=(d=a["$attr?"]("levels"))===c||d.$$is_boolean&&1!=d?c:a.$attr("levels").$to_i();p=(d=a["$role?"]())===c||d.$$is_boolean&&1!=d?e.$attr("toc-class","toc"):a.$role();return"<div"+g+' class="'+p+'">\n<div'+h+' class="title">'+k+"</div>\n"+this.$outline(e,w(["toclevels"],
{toclevels:l}))+"\n</div>"});a.defn(k,"$ulist",function(a){var d,b,e,g=c,h=c,k=c,l=c,p=c,m=c,n=c,g=[],h=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',k=["ulist",a.$style(),a.$role()].$compact(),p=l=c;(d=m=a["$option?"]("checklist"))===c||d.$$is_boolean&&1!=d?n=(d=a.$style())===c||d.$$is_boolean&&1!=d?c:' class="'+a.$style()+'"':(k.$insert(1,"checklist"),n=' class="checklist"',(d=a["$option?"]("interactive"))===c||d.$$is_boolean&&1!=d?(d=a.$document()["$attr?"]("icons","font"))===c||
d.$$is_boolean&&1!=d?(l="&#10003; ",p="&#10063; "):(l='<i class="fa fa-check-square-o"></i> ',p='<i class="fa fa-square-o"></i> '):(d=a.$document()["$attr?"]("htmlsyntax","xml"))===c||d.$$is_boolean&&1!=d?(l='<input type="checkbox" data-item-complete="1" checked> ',p='<input type="checkbox" data-item-complete="0"> '):(l='<input type="checkbox" data-item-complete="1" checked="checked"/> ',p='<input type="checkbox" data-item-complete="0"/> '));g["$<<"]("<div"+h+' class="'+q(k," ")+'">');if((d=a["$title?"]())!==
c&&(!d.$$is_boolean||1==d))g["$<<"]('<div class="title">'+a.$title()+"</div>");g["$<<"]("<ul"+n+">");(d=(b=a.$items()).$each,d.$$p=(e=function(a){var d;null==a&&(a=c);g["$<<"]("<li>");if((d=!1!==m&&m!==c?a["$attr?"]("checkbox"):m)===c||d.$$is_boolean&&1!=d)g["$<<"]("<p>"+a.$text()+"</p>");else g["$<<"]("<p>"+((d=a["$attr?"]("checked"))===c||d.$$is_boolean&&1!=d?p:l)+a.$text()+"</p>");if((d=a["$blocks?"]())!==c&&(!d.$$is_boolean||1==d))g["$<<"](a.$content());return g["$<<"]("</li>")},e.$$s=this,e),
d).call(b);g["$<<"]("</ul>");g["$<<"]("</div>");return q(g,u.get("EOL"))});a.defn(k,"$verse",function(a){var d,b,e=c,g=c,h=g=c,k=c,l=c,p=c,p=k=c,e=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',g=["verseblock",a.$role()].$compact(),g=' class="'+q(g," ")+'"',h=(d=a["$title?"]())===c||d.$$is_boolean&&1!=d?c:'\n<div class="title">'+a.$title()+"</div>",k=(d=a["$attr?"]("attribution"))===c||d.$$is_boolean&&1!=d?c:a.$attr("attribution"),l=(d=a["$attr?"]("citetitle"))===c||d.$$is_boolean&&1!=
d?c:a.$attr("citetitle");(d=!1!==(b=k)&&b!==c?b:l)===c||d.$$is_boolean&&1!=d?p=c:(p=!1!==l&&l!==c?"<cite>"+l+"</cite>":c,k=!1!==k&&k!==c?"&#8212; "+k+(!1!==l&&l!==c?"<br"+this.void_element_slash+">\n":c):c,p='\n<div class="attribution">\n'+k+p+"\n</div>");return"<div"+e+g+">"+h+'\n<pre class="content">'+a.$content()+"</pre>"+p+"\n</div>"});a.defn(k,"$video",function(b){var d,e,g=this,h=c,k=c,l=c,p=c,m=c,n=c,N=c,G=c,t=c,O=c,u=c,z=c,C=c,w=c,x=c,A=c,M=c,R=c,V=c,W=c,Q=c,aa=c,S=c,H=c,ea=c,I=c,T=c,ja=c,
ma=c,ka=c,X=c,h=b.$document()["$attr?"]("htmlsyntax","xml"),k=(d=b.$id())===c||d.$$is_boolean&&1!=d?c:' id="'+b.$id()+'"',l=["videoblock",b.$style(),b.$role()].$compact(),p=' class="'+q(l," ")+'"',m=(d=b["$title?"]())===c||d.$$is_boolean&&1!=d?c:'\n<div class="title">'+b.$captioned_title()+"</div>",n=(d=b["$attr?"]("width"))===c||d.$$is_boolean&&1!=d?c:' width="'+b.$attr("width")+'"',N=(d=b["$attr?"]("height"))===c||d.$$is_boolean&&1!=d?c:' height="'+b.$attr("height")+'"';return function(){G=b.$attr("poster");
if("vimeo"["$==="](G)){if((d=(t=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===c||d.$$is_boolean&&1!=d)t=""+t+":";O=(d=b["$attr?"]("start",c,!1))===c||d.$$is_boolean&&1!=d?c:"#at="+b.$attr("start");u="?";z=(d=b["$option?"]("autoplay"))===c||d.$$is_boolean&&1!=d?c:""+u+"autoplay=1";!1!==z&&z!==c&&(u="&amp;");C=(d=b["$option?"]("loop"))===c||d.$$is_boolean&&1!=d?c:""+u+"loop=1";return"<div"+k+p+">"+m+'\n<div class="content">\n<iframe'+n+N+' src="'+t+"//player.vimeo.com/video/"+b.$attr("target")+
O+z+C+'" frameborder="0"'+((d=b["$option?"]("nofullscreen"))===c||d.$$is_boolean&&1!=d?g.$append_boolean_attribute("allowfullscreen",h):c)+"></iframe>\n</div>\n</div>"}if("youtube"["$==="](G)){if((d=(t=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===c||d.$$is_boolean&&1!=d)t=""+t+":";w=(d=b["$option?"]("related"))===c||d.$$is_boolean&&1!=d?0:1;x=(d=b["$attr?"]("start",c,!1))===c||d.$$is_boolean&&1!=d?c:"&amp;start="+b.$attr("start");A=(d=b["$attr?"]("end",c,!1))===c||d.$$is_boolean&&
1!=d?c:"&amp;end="+b.$attr("end");z=(d=b["$option?"]("autoplay"))===c||d.$$is_boolean&&1!=d?c:"&amp;autoplay=1";C=(d=b["$option?"]("loop"))===c||d.$$is_boolean&&1!=d?c:"&amp;loop=1";M=(d=b["$option?"]("nocontrols"))===c||d.$$is_boolean&&1!=d?c:"&amp;controls=0";(d=b["$option?"]("nofullscreen"))===c||d.$$is_boolean&&1!=d?(R=c,V=g.$append_boolean_attribute("allowfullscreen",h)):(R="&amp;fs=0",V=c);W=(d=b["$option?"]("modest"))===c||d.$$is_boolean&&1!=d?c:"&amp;modestbranding=1";Q=(d=b["$attr?"]("theme",
c,!1))===c||d.$$is_boolean&&1!=d?c:"&amp;theme="+b.$attr("theme");aa=(d=b["$attr?"]("lang"))===c||d.$$is_boolean&&1!=d?c:"&amp;hl="+b.$attr("lang");d=a.to_ary(b.$attr("target").$split("/",2));S=null==d[0]?c:d[0];H=null==d[1]?c:d[1];(d=!1!==(e=H)&&e!==c?e:H=b.$attr("list",c,!1))===c||d.$$is_boolean&&1!=d?(d=a.to_ary(S.$split(",",2)),S=null==d[0]?c:d[0],I=null==d[1]?c:d[1],ea=(d=!1!==(e=I)&&e!==c?e:I=b.$attr("playlist",c,!1))===c||d.$$is_boolean&&1!=d?!1!==C&&C!==c?"&amp;playlist="+S:c:"&amp;playlist="+
I):ea="&amp;list="+H;return"<div"+k+p+">"+m+'\n<div class="content">\n<iframe'+n+N+' src="'+t+"//www.youtube.com/embed/"+S+"?rel="+w+x+A+z+C+M+ea+R+W+Q+aa+'" frameborder="0"'+V+"></iframe>\n</div>\n</div>"}T=(d=(""+(ja=b.$attr("poster")))["$empty?"]())===c||d.$$is_boolean&&1!=d?' poster="'+b.$media_uri(ja)+'"':c;ma=b.$attr("start",c,!1);ka=b.$attr("end",c,!1);X=(d=!1!==(e=ma)&&e!==c?e:ka)===c||d.$$is_boolean&&1!=d?c:"#t="+ma+(!1!==ka&&ka!==c?",":c)+ka;return"<div"+k+p+">"+m+'\n<div class="content">\n<video src="'+
b.$media_uri(b.$attr("target"))+X+'"'+n+N+T+((d=b["$option?"]("autoplay"))===c||d.$$is_boolean&&1!=d?c:g.$append_boolean_attribute("autoplay",h))+((d=b["$option?"]("nocontrols"))===c||d.$$is_boolean&&1!=d?g.$append_boolean_attribute("controls",h):c)+((d=b["$option?"]("loop"))===c||d.$$is_boolean&&1!=d?c:g.$append_boolean_attribute("loop",h))+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()});a.defn(k,"$inline_anchor",function(a){var d,b,e=this,g=c,h=c,k=c,l=c,p=c,m=c,
g=a.$target();return function(){h=a.$type();if("xref"["$==="](h))return k=!1!==(d=a.$attributes()["$[]"]("refid"))&&d!==c?d:g,l=!1!==(d=a.$text())&&d!==c?d:!1!==(b=a.$document().$references()["$[]"]("ids")["$[]"](k))&&b!==c?b:"["+k+"]",'<a href="'+g+'">'+l+"</a>";if("ref"["$==="](h))return'<a id="'+g+'"></a>';if("link"["$==="](h)){p=[];if((d=a.$id())!==c&&(!d.$$is_boolean||1==d))p["$<<"](' id="'+a.$id()+'"');if((d=m=a.$role())!==c&&(!d.$$is_boolean||1==d))p["$<<"](' class="'+m+'"');if((d=a["$attr?"]("title",
c,!1))!==c&&(!d.$$is_boolean||1==d))p["$<<"](' title="'+a.$attr("title")+'"');if((d=a["$attr?"]("window",c,!1))!==c&&(!d.$$is_boolean||1==d))p["$<<"](' target="'+a.$attr("window")+'"');return'<a href="'+g+'"'+p.$join()+">"+a.$text()+"</a>"}return"bibref"["$==="](h)?'<a id="'+g+'"></a>['+g+"]":e.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()});a.defn(k,"$inline_break",function(a){return""+a.$text()+"<br"+this.void_element_slash+">"});a.defn(k,"$inline_button",function(a){return'<b class="button">'+
a.$text()+"</b>"});a.defn(k,"$inline_callout",function(a){var d,b=c;if((d=a.$document()["$attr?"]("icons","font"))===c||d.$$is_boolean&&1!=d){if((d=a.$document()["$attr?"]("icons"))===c||d.$$is_boolean&&1!=d)return'<b class="conum">('+a.$text()+")</b>";b=a.$icon_uri("callouts/"+a.$text());return'<img src="'+b+'" alt="'+a.$text()+'"'+this.void_element_slash+">"}return'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>"});a.defn(k,"$inline_footnote",function(a){var d,b=c,e=c;if((d=
b=a.$attr("index"))===c||d.$$is_boolean&&1!=d)return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":c;if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+b+'" title="View footnote.">'+b+"</a>]</sup>";e=(d=a.$id())===c||d.$$is_boolean&&1!=d?c:' id="_footnote_'+a.$id()+'"';return'<sup class="footnote"'+e+'>[<a id="_footnoteref_'+b+'" class="footnote" href="#_footnote_'+b+'" title="View footnote.">'+
b+"</a>]</sup>"});a.defn(k,"$inline_image",function(a){var d,b,e,g,h,k,p,m,n=c,q=c,G=c,t=b=G=c,O=c,z=c,ca=c,x=b=c,n=c;(d=(b=(n=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(n=a.$type())["$=="]("icon"))===c||d.$$is_boolean&&1!=d?(d=(e=n["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():n["$=="]("icon"))===c||d.$$is_boolean&&1!=d?(b=a.$target(),t=(d=(e=["width","height","title"]).$map,d.$$p=(g=function(d){var b;null==d&&(d=c);return(b=a["$attr?"](d))===c||b.$$is_boolean&&
1!=b?c:" "+d+'="'+a.$attr(d)+'"'},g.$$s=this,g),d).call(e).$join(),(d=(h=(k=(p=n["$!="]("icon"),!1!==p&&p!==c?!1!==(m=a["$attr?"]("format","svg",!1))&&m!==c?m:b["$include?"](".svg"):p),!1!==k&&k!==c?l(a.$document().$safe(),u.get("SafeMode").$$scope.get("SECURE")):k),!1!==h&&h!==c?!1!==(k=O=a["$option?"]("inline"))&&k!==c?k:z=a["$option?"]("interactive"):h))===c||d.$$is_boolean&&1!=d||(!1!==O&&O!==c?G=!1!==(d=this.$read_svg_contents(a,b))&&d!==c?d:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==
z&&z!==c&&(ca=(d=a["$attr?"]("fallback"))===c||d.$$is_boolean&&1!=d?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+t+this.void_element_slash+">",G='<object type="image/svg+xml" data="'+a.$image_uri(b)+'"'+t+">"+ca+"</object>")),!1!==(d=G)&&d!==c?d:G='<img src="'+(n["$=="]("icon")?a.$icon_uri(b):a.$image_uri(b))+'" alt="'+a.$attr("alt")+'"'+t+this.void_element_slash+">"):G="["+a.$attr("alt")+"]":(q="fa fa-"+a.$target(),(d=(b=
w(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"})).$each,d.$$p=(e=function(d,b){var e;null==d&&(d=c);null==b&&(b=c);return(e=a["$attr?"](d))===c||e.$$is_boolean&&1!=e?c:q=""+q+" "+b+a.$attr(d)},e.$$s=this,e),d).call(b),G=(d=a["$attr?"]("title"))===c||d.$$is_boolean&&1!=d?c:' title="'+a.$attr("title")+'"',G='<i class="'+q+'"'+G+"></i>");(d=a["$attr?"]("link"))===c||d.$$is_boolean&&1!=d||(b=(d=a["$attr?"]("window"))===c||d.$$is_boolean&&1!=d?c:' target="'+a.$attr("window")+
'"',G='<a class="image" href="'+a.$attr("link")+'"'+b+">"+G+"</a>");q=(d=x=a.$role())===c||d.$$is_boolean&&1!=d?n:""+n+" "+x;n=(d=a["$attr?"]("float"))===c||d.$$is_boolean&&1!=d?c:' style="float: '+a.$attr("float")+'"';return'<span class="'+q+'"'+n+">"+G+"</span>"});a.defn(k,"$inline_indexterm",function(a){return a.$type()["$=="]("visible")?a.$text():""});a.defn(k,"$inline_kbd",function(a){var d,b,e,g=c,g=c;if((g=a.$attr("keys")).$size()["$=="](1))return"<kbd>"+g["$[]"](0)+"</kbd>";g=(d=(b=g).$map,
d.$$p=(e=function(a){null==a&&(a=c);return"<kbd>"+a+"</kbd>+"},e.$$s=this,e),d).call(b).$join().$chop();return'<span class="keyseq">'+g+"</span>"});a.defn(k,"$inline_menu",function(a){var d,b,e,g=c,h=c,k=h=c,g=a.$attr("menu");if((d=(h=a.$attr("submenus"))["$empty?"]()["$!"]())===c||d.$$is_boolean&&1!=d)return(d=k=a.$attr("menuitem"))===c||d.$$is_boolean&&1!=d?'<span class="menu">'+g+"</span>":'<span class="menuseq"><span class="menu">'+g+'</span>&#160;&#9656; <span class="menuitem">'+k+"</span></span>";
h=(d=(b=h).$map,d.$$p=(e=function(a){null==a&&(a=c);return'<span class="submenu">'+a+"</span>&#160;&#9656; "},e.$$s=this,e),d).call(b).$join().$chop();return'<span class="menuseq"><span class="menu">'+g+"</span>&#160;&#9656; "+h+' <span class="menuitem">'+a.$attr("menuitem")+"</span></span>"});a.defn(k,"$inline_quoted",function(b){var d,e=c,g=c,h=c,k=c,e=c;d=a.to_ary(u.get("QUOTE_TAGS")["$[]"](b.$type()));e=null==d[0]?c:d[0];g=null==d[1]?c:d[1];h=null==d[2]?c:d[2];e=(d=k=b.$role())===c||d.$$is_boolean&&
1!=d?""+e+b.$text()+g:!1!==h&&h!==c?""+e.$chop()+' class="'+k+'">'+b.$text()+g:'<span class="'+k+'">'+e+b.$text()+g+"</span>";return(d=b.$id())===c||d.$$is_boolean&&1!=d?e:'<a id="'+b.$id()+'"></a>'+e});a.defn(k,"$append_boolean_attribute",function(a,d){return!1!==d&&d!==c?" "+a+'="'+a+'"':" "+a});return(a.defn(k,"$read_svg_contents",function(a,d){var b,e,g,h=c,k=c;(b=h=a.$read_contents(d,w(["start","normalize","label"],{start:a.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))===c||b.$$is_boolean&&
1!=b||(h=h.$sub(u.get("SvgPreambleRx"),""),k=c,(b=(e=["width","height"]).$each,b.$$p=(g=function(d){var b;null==d&&(d=c);if((b=a["$attr?"](d))===c||b.$$is_boolean&&1!=b)return c;!1!==(b=k)&&b!==c?b:k=h.$match(u.get("SvgStartTagRx"))["$[]"](0).$gsub(u.get("DimensionAttributeRx"),"");return k=""+k.$chop()+" "+d+'="'+a.$attr(d)+'px">'},g.$$s=this,g),b).call(e),!1!==k&&k!==c&&(h=h.$sub(u.get("SvgStartTagRx"),k)));return h}),c)&&"read_svg_contents"})(u.get("Converter"),u.get("Converter").$$scope.get("BuiltIn"))}(a.base)};
Opal.modules["asciidoctor/document"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var h=a.nil,l=a.slice,e=a.module,c=a.klass,A=a.hash2,b=a.range;return function(w){w=e(w,"Asciidoctor").$$scope;(function(e,$super){function p(){}var r=p=c(e,$super,"Document",p),g=
r.$$proto,k=r.$$scope,t,C,z;g.attributes=g.safe=g.reader=g.base_dir=g.parsed=g.parent_document=g.extensions=g.options=g.counters=g.references=g.doctype=g.backend=g.header=g.blocks=g.attributes_modified=g.id=g.callouts=g.header_attributes=g.attribute_overrides=g.converter=g.outfilesuffix=g.docinfo_processor_extensions=g.document=h;a.cdecl(k,"Footnote",a.get("Struct").$new("index","id","text"));(function(b,$super){function e(){}var g=e=c(b,$super,"AttributeEntry",e);g.$attr_reader("name","value","negate");
a.defn(g,"$initialize",function(a,b,f){var c;null==f&&(f=h);this.name=a;this.value=b;return this.negate=(c=f["$nil?"]())===h||c.$$is_boolean&&1!=c?f:b["$nil?"]()});return(a.defn(g,"$save_to",function(a){var b;return(!1!==(b=a["$[]"]("attribute_entries"))&&b!==h?b:a["$[]="]("attribute_entries",[]))["$<<"](this)}),h)&&"save_to"})(k.base,null);(function(b,$super){function e(){}var g=e=c(b,$super,"Title",e),k=g.$$proto,l=g.$$scope;k.sanitized=k.subtitle=k.combined=h;g.$attr_reader("main");a.alias(g,"title",
"main");g.$attr_reader("subtitle");g.$attr_reader("combined");a.defn(g,"$initialize",function(b,f){var c,e,g,k=h;null==f&&(f=A([],{}));(c=(e=this.sanitized=f["$[]"]("sanitize"),!1!==e&&e!==h?b["$include?"]("<"):e))===h||c.$$is_boolean&&1!=c||(b=b.$gsub(l.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip());(c=!1!==(e=(k=!1!==(g=f["$[]"]("separator"))&&g!==h?g:":")["$empty?"]())&&e!==h?e:b["$include?"](k=""+k+" ")["$!"]())===h||c.$$is_boolean&&1!=c?(c=a.to_ary(b.$rpartition(k)),this.main=null==c[0]?h:
c[0],this.subtitle=null==c[2]?h:c[2]):(this.main=b,this.subtitle=h);return this.combined=b});a.defn(g,"$sanitized?",function(){return this.sanitized});a.defn(g,"$subtitle?",function(){return this.subtitle["$!"]()["$!"]()});return(a.defn(g,"$to_s",function(){return this.combined}),h)&&"to_s"})(k.base,null);r.$attr_reader("safe");r.$attr_reader("compat_mode");r.$attr_reader("sourcemap");r.$attr_reader("references");r.$attr_reader("counters");r.$attr_reader("callouts");r.$attr_reader("header");r.$attr_reader("base_dir");
r.$attr_reader("options");r.$attr_reader("outfilesuffix");r.$attr_reader("parent_document");r.$attr_reader("reader");r.$attr_reader("converter");r.$attr_reader("extensions");a.defn(r,"$initialize",t=function(f,d){var c,e,g,l,p,m,D,r,N,G,L=h,O=h,z=h,C=h,w=C=h,x=h,da=L=x=C=L=C=C=h;null==f&&(f=h);null==d&&(d=A([],{}));t.$$p=null;a.find_super_dispatcher(this,"initialize",t,null).apply(this,[this,"document"]);if((c=L=d.$delete("parent"))===h||c.$$is_boolean&&1!=c){this.parent_document=h;this.references=
A("ids footnotes links images indexterms includes".split(" "),{ids:A([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.get("Set").$new()});O=A([],{});(c=(g=!1!==(p=d["$[]"]("attributes"))&&p!==h?p:A([],{})).$each,c.$$p=(e=function(a,d){var c;null==a&&(a=h);null==d&&(d=h);(c=a["$start_with?"]("!"))===h||c.$$is_boolean&&1!=c?(c=a["$end_with?"]("!"))===h||c.$$is_boolean&&1!=c||(a=a.$chop(),d=h):(a=a["$[]"](b(1,-1,!1)),d=h);return O["$[]="](a.$downcase(),d)},e.$$s=this,e),c).call(g);this.attribute_overrides=
O;if((c=(C=d["$[]"]("safe"))["$!"]())===h||c.$$is_boolean&&1!=c)if((c=a.get("Fixnum")["$==="](C))===h||c.$$is_boolean&&1!=c)try{this.safe=k.get("SafeMode").$const_get(C.$to_s().$upcase())}catch(P){try{this.safe=k.get("SafeMode").$$scope.get("SECURE")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else this.safe=C;else this.safe=k.get("SafeMode").$$scope.get("SECURE");this.sourcemap=d["$[]"]("sourcemap");this.compat_mode=!1;this.converter=h;try{z=null!=a.get("Asciidoctor").$$scope.get("Extensions")?
"constant":h}catch(P){if(P.$$class===a.NameError)z=h;else throw P;}this.extensions=h}else this.parent_document=L,c="base_dir",e=d,!1!==(g=e["$[]"](c))&&g!==h?g:e["$[]="](c,L.$base_dir()),this.references=(c=(e=L.$references()).$inject,c.$$p=(l=function(a,b){null==a&&(a=h);var d=b[0],c=b[1];if(d["$=="]("footnotes"))a["$[]="]("footnotes",[]);else a["$[]="](d,c);return a},l.$$s=this,l),c).call(e,A([],{})),O=L.$attributes().$dup(),O.$delete("doctype"),O.$delete("compat-mode"),this.attribute_overrides=
O,this.safe=L.$safe(),this.compat_mode=L.$compat_mode(),this.sourcemap=L.$sourcemap(),this.converter=L.$converter(),z=!1,this.extensions=L.$extensions();this.parsed=!1;this.header=h;this.counters=A([],{});this.callouts=k.get("Callouts").$new();this.attributes_modified=a.get("Set").$new();this.options=d;this.docinfo_processor_extensions=A([],{});C=(c="header_footer",p=d,!1!==(m=p["$[]"](c))&&m!==h?m:p["$[]="](c,!1));d.$freeze();w=this.attributes;w["$[]="]("sectids","");if(!1===C||C===h)w["$[]="]("notitle",
"");w["$[]="]("toc-placement","auto");w["$[]="]("stylesheet","");w["$[]="]("webfonts","");if(!1!==C&&C!==h)w["$[]="]("copycss","");w["$[]="]("prewrap","");w["$[]="]("attribute-undefined",k.get("Compliance").$attribute_undefined());w["$[]="]("attribute-missing",k.get("Compliance").$attribute_missing());w["$[]="]("iconfont-remote","");w["$[]="]("caution-caption","Caution");w["$[]="]("important-caption","Important");w["$[]="]("note-caption","Note");w["$[]="]("tip-caption","Tip");w["$[]="]("warning-caption",
"Warning");w["$[]="]("appendix-caption","Appendix");w["$[]="]("example-caption","Example");w["$[]="]("figure-caption","Figure");w["$[]="]("table-caption","Table");w["$[]="]("toc-title","Table of Contents");w["$[]="]("manname-title","NAME");w["$[]="]("untitled-label","Untitled");w["$[]="]("version-label","Version");w["$[]="]("last-update-label","Last updated");O["$[]="]("asciidoctor","");O["$[]="]("asciidoctor-version",k.get("VERSION"));x=(c=(p=k.get("SafeMode").$constants()).$detect,c.$$p=(D=function(a){var b=
D.$$s||this;null==b.safe&&(b.safe=h);null==a&&(a=h);return k.get("SafeMode").$const_get(a)["$=="](b.safe)},D.$$s=this,D),c).call(p).$to_s().$downcase();O["$[]="]("safe-mode-name",x);O["$[]="]("safe-mode-"+x,"");O["$[]="]("safe-mode-level",this.safe);O["$[]="]("embedded",!1!==C&&C!==h?h:"");c="max-include-depth";m=O;!1!==(r=m["$[]"](c))&&r!==h?r:m["$[]="](c,64);if((c=O["$[]"]("allow-uri-read")["$nil?"]()["$!"]())===h||c.$$is_boolean&&1!=c)O["$[]="]("allow-uri-read",h);O["$[]="]("user-home",k.get("USER_HOME"));
if((c=O["$key?"]("numbered"))!==h&&(!c.$$is_boolean||1==c))O["$[]="]("sectnums",O.$delete("numbered"));(c=d["$[]"]("base_dir"))===h||c.$$is_boolean&&1!=c?(c=O["$[]"]("docdir"))===h||c.$$is_boolean&&1!=c?this.base_dir=O["$[]="]("docdir",a.get("File").$expand_path(a.get("Dir").$pwd())):this.base_dir=O["$[]="]("docdir",a.get("File").$expand_path(O["$[]"]("docdir"))):this.base_dir=O["$[]="]("docdir",a.get("File").$expand_path(d["$[]"]("base_dir")));if((c=C=d["$[]"]("backend"))!==h&&(!c.$$is_boolean||
1==c))O["$[]="]("backend",""+C);if((c=C=d["$[]"]("doctype"))!==h&&(!c.$$is_boolean||1==c))O["$[]="]("doctype",""+C);if(n(this.safe,k.get("SafeMode").$$scope.get("SERVER"))){c="copycss";m=O;!1!==(r=m["$[]"](c))&&r!==h?r:m["$[]="](c,h);c="source-highlighter";m=O;!1!==(r=m["$[]"](c))&&r!==h?r:m["$[]="](c,h);c="backend";m=O;!1!==(r=m["$[]"](c))&&r!==h?r:m["$[]="](c,k.get("DEFAULT_BACKEND"));if((c=(m=L["$!"](),!1!==m&&m!==h?O["$key?"]("docfile"):m))!==h&&(!c.$$is_boolean||1==c))O["$[]="]("docfile",O["$[]"]("docfile")["$[]"](b(q(O["$[]"]("docdir").$length(),
1),-1,!1)));O["$[]="]("docdir","");O["$[]="]("user-home",".");if(n(this.safe,k.get("SafeMode").$$scope.get("SECURE"))){if((c=O.$fetch("linkcss","")["$nil?"]())===h||c.$$is_boolean&&1!=c)O["$[]="]("linkcss","");c="icons";m=O;!1!==(r=m["$[]"](c))&&r!==h?r:m["$[]="](c,h)}}(c=(m=O).$delete_if,c.$$p=(N=function(b,d){var c,f,e=h;null==b&&(b=h);null==d&&(d=h);e=!1;(c=d["$nil?"]())===h||c.$$is_boolean&&1!=c?((c=(f=a.get("String")["$==="](d),!1!==f&&f!==h?d["$end_with?"]("@"):f))===h||c.$$is_boolean&&1!=c||
(d=d.$chop(),e=!0),w["$[]="](b,d)):w.$delete(b);return e},N.$$s=this,N),c).call(m);(c=w["$key?"]("compat-mode"))===h||c.$$is_boolean&&1!=c||(this.compat_mode=!0);if(!1!==L&&L!==h)return c="doctype",r=w,!1!==(G=r["$[]"](c))&&G!==h?G:r["$[]="](c,k.get("DEFAULT_DOCTYPE")),this.reader=k.get("Reader").$new(f,d["$[]"]("cursor")),k.get("Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;if((c="backend",r=w,!1!==(G=r["$[]"](c))&&G!==h?G:r["$[]="](c,k.get("DEFAULT_BACKEND")))["$=="]("manpage"))w["$[]="]("doctype",
O["$[]="]("doctype","manpage"));else c="doctype",r=w,!1!==(G=r["$[]"](c))&&G!==h?G:r["$[]="](c,k.get("DEFAULT_DOCTYPE"));this.$update_backend_attributes(w["$[]"]("backend"),!0);L=a.get("Time").$now();C=(c="localdate",r=w,!1!==(G=r["$[]"](c))&&G!==h?G:r["$[]="](c,L.$strftime("%Y-%m-%d")));if((c=x=w["$[]"]("localtime"))===h||c.$$is_boolean&&1!=c)try{x=w["$[]="]("localtime",L.$strftime("%H:%M:%S %Z"))}catch(P){try{x=w["$[]="]("localtime",L.$strftime("%H:%M:%S"))}finally{a.gvars["!"]=a.exceptions.pop()||
a.nil}}c="localdatetime";r=w;!1!==(G=r["$[]"](c))&&G!==h?G:r["$[]="](c,""+C+" "+x);c="docdate";r=w;!1!==(G=r["$[]"](c))&&G!==h?G:r["$[]="](c,C);c="doctime";r=w;!1!==(G=r["$[]"](c))&&G!==h?G:r["$[]="](c,x);c="docdatetime";r=w;!1!==(G=r["$[]"](c))&&G!==h?G:r["$[]="](c,""+C+" "+x);c="stylesdir";r=w;!1!==(G=r["$[]"](c))&&G!==h?G:r["$[]="](c,".");c="iconsdir";r=w;!1!==(G=r["$[]"](c))&&G!==h?G:r["$[]="](c,a.get("File").$join(w.$fetch("imagesdir","./images"),"icons"));if(!1!==z&&z!==h){if((c=L=d["$[]"]("extensions_registry"))===
h||c.$$is_boolean&&1!=c)L=(c=a.get("Proc")["$==="](da=d["$[]"]("extensions")))===h||c.$$is_boolean&&1!=c?k.get("Extensions").$$scope.get("Registry").$new():(c=(r=k.get("Extensions")).$build_registry,c.$$p=da.$to_proc(),c).call(r);else if((c=!1!==(r=k.get("Extensions").$$scope.get("Registry")["$==="](L))&&r!==h?r:(G=a.get("RUBY_ENGINE_JRUBY"),!1!==G&&G!==h?a.get("AsciidoctorJ").$$scope.get("Extensions").$$scope.get("ExtensionRegistry")["$==="](L):G))===h||c.$$is_boolean&&1!=c)L=k.get("Extensions").$$scope.get("Registry").$new();
this.extensions=L.$activate(this)}return this.reader=k.get("PreprocessorReader").$new(this,f,k.get("Reader").$$scope.get("Cursor").$new(w["$[]"]("docfile"),this.base_dir))});a.defn(r,"$parse",function(a){var b,c,e,g,l,p=h,m=h;null==a&&(a=h);return(b=this.parsed)===h||b.$$is_boolean&&1!=b?(p=this,!1!==a&&a!==h&&(this.reader=k.get("PreprocessorReader").$new(p,a,k.get("Reader").$$scope.get("Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir))),(b=(c=m=(e=this.parent_document)===h||e.$$is_boolean&&
1!=e?this.extensions:h,!1!==c&&c!==h?m["$preprocessors?"]():c))===h||b.$$is_boolean&&1!=b||(b=(c=m.$preprocessors()).$each,b.$$p=(g=function(a){var b=g.$$s||this,d;null==b.reader&&(b.reader=h);null==a&&(a=h);return b.reader=!1!==(d=a.$process_method()["$[]"](p,b.reader))&&d!==h?d:b.reader},g.$$s=this,g),b).call(c),k.get("Parser").$parse(this.reader,p,A(["header_only"],{header_only:this.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),this.$restore_attributes(),(b=(e=!1!==m&&m!==h)?m["$treeprocessors?"]():
m)===h||b.$$is_boolean&&1!=b||(b=(e=m.$treeprocessors()).$each,b.$$p=(l=function(a){var b,d,c,f=h;null==a&&(a=h);return(b=(d=(c=f=a.$process_method()["$[]"](p),!1!==c&&c!==h?k.get("Document")["$==="](f):c),!1!==d&&d!==h?f["$!="](p):d))===h||b.$$is_boolean&&1!=b?h:p=f},l.$$s=this,l),b).call(e),this.parsed=!0,p):this});a.defn(r,"$counter",function(a,b){var c,e,g=h,k=h;null==b&&(b=h);if((c=(e=g=(k=this.attributes["$[]"](a))["$nil_or_empty?"]()["$!"](),!1!==e&&e!==h?this.counters["$key?"](a):e))===h||
c.$$is_boolean&&1!=c)(c=b["$nil?"]())===h||c.$$is_boolean&&1!=c?b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()):b=this.$nextval(!1!==g&&g!==h?k:0),this.counters["$[]="](a,b);else this.counters["$[]="](a,this.$nextval(k));return this.attributes["$[]="](a,this.counters["$[]"](a))});a.defn(r,"$counter_increment",function(a,b){var c=h,c=this.$counter(a);k.get("AttributeEntry").$new(a,c).$save_to(b.$attributes());return c});a.defn(r,"$nextval",function(b){var d,c=h;return(d=a.get("Integer")["$==="](b))===h||
d.$$is_boolean&&1!=d?(c=b.$to_i(),(d=c.$to_s()["$!="](b.$to_s()))===h||d.$$is_boolean&&1!=d?q(c,1):q(b["$[]"](0).$ord(),1).$chr()):q(b,1)});a.defn(r,"$register",function(b,d,c){var e,g,k,l=h,p=l=h;null==c&&(c=!1);l=b;"ids"["$==="](l)?(e=a.to_ary([].concat(a.to_a(d))),l=null==e[0]?h:e[0],p=null==e[1]?h:e[1],!1!==(e=p)&&e!==h?e:p=q(q("[",l),"]"),b=!1!==c&&c!==h?this.references["$[]"]("ids")["$[]="](l,p):(e=l,g=this.references["$[]"]("ids"),!1!==(k=g["$[]"](e))&&k!==h?k:g["$[]="](e,p))):b="footnotes"["$==="](l)||
"indexterms"["$==="](l)?this.references["$[]"](b)["$<<"](d):(e=this.options["$[]"]("catalog_assets"))===h||e.$$is_boolean&&1!=e?h:this.references["$[]"](b)["$<<"](d);return b});a.defn(r,"$footnotes?",function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()});a.defn(r,"$footnotes",function(){return this.references["$[]"]("footnotes")});a.defn(r,"$nested?",function(){return this.parent_document["$!"]()["$!"]()});a.defn(r,"$embedded?",function(){return this.attributes["$key?"]("embedded")});
a.defn(r,"$extensions?",function(){return this.extensions["$!"]()["$!"]()});a.defn(r,"$source",function(){var a;return(a=this.reader)===h||a.$$is_boolean&&1!=a?h:this.reader.$source()});a.defn(r,"$source_lines",function(){var a;return(a=this.reader)===h||a.$$is_boolean&&1!=a?h:this.reader.$source_lines()});a.defn(r,"$doctype",function(){var a;return!1!==(a=this.doctype)&&a!==h?a:this.doctype=this.attributes["$[]"]("doctype")});a.defn(r,"$backend",function(){var a;return!1!==(a=this.backend)&&a!==
h?a:this.backend=this.attributes["$[]"]("backend")});a.defn(r,"$basebackend?",function(a){return this.attributes["$[]"]("basebackend")["$=="](a)});a.defn(r,"$title",function(){return this.attributes["$[]"]("title")});a.defn(r,"$title=",function(a){var b,c;!1!==(b=this.header)&&b!==h?b:this.header=k.get("Section").$new(this,0);return b=[a],c=this.header,c["$title="].apply(c,b),b[b.length-1]});a.defn(r,"$doctitle",function(a){var b,c,e=h,g=h,l=h;null==a&&(a=A([],{}));if((b=(e=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())!==
h&&(!b.$$is_boolean||1==b))e=this.$title();else if((b=(c=g=this.$first_section(),!1!==c&&c!==h?g["$title?"]():c))!==h&&(!b.$$is_boolean||1==b))e=g.$title();else if((b=(c=a["$[]"]("use_fallback"),!1!==c&&c!==h?e=this.attributes["$[]"]("untitled-label"):c))===h||b.$$is_boolean&&1!=b)return h;return(b=l=a["$[]"]("partition"))===h||b.$$is_boolean&&1!=b?(b=(c=a["$[]"]("sanitize"),!1!==c&&c!==h?e["$include?"]("<"):c))===h||b.$$is_boolean&&1!=b?e:e.$gsub(k.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip():
k.get("Title").$new(e,a.$merge(A(["separator"],{separator:l["$=="](!0)?this.attributes["$[]"]("title-separator"):l})))});a.alias(r,"name","doctitle");a.defn(r,"$author",function(){return this.attributes["$[]"]("author")});a.defn(r,"$revdate",function(){return this.attributes["$[]"]("revdate")});a.defn(r,"$notitle",function(){var a;return a=this.attributes["$key?"]("showtitle")["$!"](),!1!==a&&a!==h?this.attributes["$key?"]("notitle"):a});a.defn(r,"$noheader",function(){return this.attributes["$key?"]("noheader")});
a.defn(r,"$nofooter",function(){return this.attributes["$key?"]("nofooter")});a.defn(r,"$first_section",function(){var a,b,c,e;return(a=this["$has_header?"]())===h||a.$$is_boolean&&1!=a?(a=(b=!1!==(e=this.blocks)&&e!==h?e:[]).$detect,a.$$p=(c=function(a){null==a&&(a=h);return a.$context()["$=="]("section")},c.$$s=this,c),a).call(b):this.header});a.defn(r,"$has_header?",function(){var a;return(a=this.header)===h||a.$$is_boolean&&1!=a?!1:!0});a.alias(r,"header?","has_header?");a.defn(r,"$<<",C=function(b){var d=
l.call(arguments,0),c=C.$$p;C.$$p=null;a.find_super_dispatcher(this,"<<",C,c).apply(this,d);return b.$context()["$=="]("section")?this.$assign_index(b):h});a.defn(r,"$finalize_header",function(a,b){null==b&&(b=!0);this.$clear_playback_attributes(a);this.$save_attributes();if(!1===b||b===h)a["$[]="]("invalid-header",!0);return a});a.defn(r,"$save_attributes",function(){var a,b,c,e,g=h,l=h,p=h,m=h,n=h,r=h,q=h,m=p=h;if((g=this.attributes)["$[]"]("basebackend")["$=="]("docbook")){if((a=!1!==(b=this["$attribute_locked?"]("toc"))&&
b!==h?b:this.attributes_modified["$include?"]("toc"))===h||a.$$is_boolean&&1!=a)g["$[]="]("toc","");if((a=!1!==(b=this["$attribute_locked?"]("sectnums"))&&b!==h?b:this.attributes_modified["$include?"]("sectnums"))===h||a.$$is_boolean&&1!=a)g["$[]="]("sectnums","")}if((a=!1!==(b=g["$key?"]("doctitle"))&&b!==h?b:(l=this.$doctitle())["$!"]())===h||a.$$is_boolean&&1!=a)g["$[]="]("doctitle",l);if((a=this.id)===h||a.$$is_boolean&&1!=a)this.id=g["$[]"]("css-signature");p=(a=m=(b=g.$delete("toc2"))===h||
b.$$is_boolean&&1!=b?g["$[]"]("toc"):"left")===h||a.$$is_boolean&&1!=a?h:(a=(b=n=g.$fetch("toc-placement","macro"),!1!==b&&b!==h?n["$!="]("auto"):b))===h||a.$$is_boolean&&1!=a?g["$[]"]("toc-position"):n;if((a=(b=!1!==m&&m!==h)?!1!==(c=m["$empty?"]()["$!"]())&&c!==h?c:p["$nil_or_empty?"]()["$!"]():m)!==h&&(!a.$$is_boolean||1==a)){r="left";q="toc2";p=(a=p["$nil_or_empty?"]()["$!"]())===h||a.$$is_boolean&&1!=a?(a=m["$empty?"]()["$!"]())===h||a.$$is_boolean&&1!=a?r:m:p;g["$[]="]("toc","");g["$[]="]("toc-placement",
"auto");m=p;if("left"["$==="](m)||"<"["$==="](m)||"&lt;"["$==="](m))g["$[]="]("toc-position","left");else if("right"["$==="](m)||">"["$==="](m)||"&gt;"["$==="](m))g["$[]="]("toc-position","right");else if("top"["$==="](m)||"^"["$==="](m))g["$[]="]("toc-position","top");else if("bottom"["$==="](m)||"v"["$==="](m))g["$[]="]("toc-position","bottom");else"preamble"["$==="](m)||"macro"["$==="](m)?(g["$[]="]("toc-position","content"),g["$[]="]("toc-placement",p)):g.$delete("toc-position"),q=h;!1!==q&&q!==
h&&(a="toc-class",b=g,!1!==(c=b["$[]"](a))&&c!==h?c:b["$[]="](a,q))}if((a=g["$key?"]("compat-mode"))===h||a.$$is_boolean&&1!=a)this.compat_mode=!1;else{if((a=g["$has_key?"]("language"))!==h&&(!a.$$is_boolean||1==a))g["$[]="]("source-language",g["$[]"]("language"));this.compat_mode=!0}this.outfilesuffix=g["$[]"]("outfilesuffix");this.header_attributes=g.$dup();return(a=this["$nested?"]())===h||a.$$is_boolean&&1!=a?(a=(b=k.get("FLEXIBLE_ATTRIBUTES")).$each,a.$$p=(e=function(a){var b=e.$$s||this,d,c;
null==b.attribute_overrides&&(b.attribute_overrides=h);null==a&&(a=h);return(d=(c=b.attribute_overrides["$key?"](a),!1!==c&&c!==h?b.attribute_overrides["$[]"](a):c))===h||d.$$is_boolean&&1!=d?h:b.attribute_overrides.$delete(a)},e.$$s=this,e),a).call(b):h});a.defn(r,"$restore_attributes",function(){this.callouts.$rewind();return this.attributes=this.header_attributes});a.defn(r,"$clear_playback_attributes",function(a){return a.$delete("attribute_entries")});a.defn(r,"$playback_attributes",function(a){var b,
c,e;return(b=a["$key?"]("attribute_entries"))===h||b.$$is_boolean&&1!=b?h:(b=(c=a["$[]"]("attribute_entries")).$each,b.$$p=(e=function(a){var b=e.$$s||this,d,c=h;null==b.attributes&&(b.attributes=h);null==a&&(a=h);c=a.$name();if((d=a.$negate())===h||d.$$is_boolean&&1!=d)return b.attributes["$[]="](c,a.$value()),c["$=="]("compat-mode")?b.compat_mode=!0:h;b.attributes.$delete(c);return c["$=="]("compat-mode")?b.compat_mode=!1:h},e.$$s=this,e),b).call(c)});a.defn(r,"$set_attribute",function(a,b){var c,
e=h;if((c=this["$attribute_locked?"](a))===h||c.$$is_boolean&&1!=c){e=a;if("backend"["$==="](e))this.$update_backend_attributes(this.$apply_attribute_value_subs(b),this.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]());else if("doctype"["$==="](e))this.$update_doctype_attributes(this.$apply_attribute_value_subs(b));else this.attributes["$[]="](a,this.$apply_attribute_value_subs(b));this.attributes_modified["$<<"](a);return!0}return!1});a.defn(r,"$delete_attribute",function(a){var b;return(b=
this["$attribute_locked?"](a))===h||b.$$is_boolean&&1!=b?(this.attributes.$delete(a),this.attributes_modified["$<<"](a),!0):!1});a.defn(r,"$attribute_locked?",function(a){return this.attribute_overrides["$key?"](a)});a.defn(r,"$apply_attribute_value_subs",function(a){var b,c=h,e=h;if((b=c=k.get("AttributeEntryPassMacroRx").$match(a))===h||b.$$is_boolean&&1!=b)return this.$apply_header_subs(a);if((b=c["$[]"](1)["$empty?"]()["$!"]())===h||b.$$is_boolean&&1!=b)return c["$[]"](2);e=this.$resolve_pass_subs(c["$[]"](1));
return(b=e["$empty?"]())===h||b.$$is_boolean&&1!=b?this.$apply_subs(c["$[]"](2),e):c["$[]"](2)});a.defn(r,"$update_backend_attributes",function(a,d){var c,e,g=h,l=h,p=h,m=h,n=h,r=l=h,q=h,G=h,r=h;null==d&&(d=!1);if((c=!1!==(e=d)&&e!==h?e:!1!==a&&a!==h?a["$!="](this.attributes["$[]"]("backend")):a)===h||c.$$is_boolean&&1!=c)return h;g=this.attributes;l=g["$[]"]("backend");p=g["$[]"]("basebackend");m=g["$[]"]("doctype");if((c=a["$start_with?"]("xhtml"))!==h&&(!c.$$is_boolean||1==c))g["$[]="]("htmlsyntax",
"xml"),a=a["$[]"](b(1,-1,!1));else if(!((c=a["$start_with?"]("html"))===h||c.$$is_boolean&&1!=c||g["$[]"]("htmlsyntax")["$=="]("xml")))g["$[]="]("htmlsyntax","html");(c=n=k.get("BACKEND_ALIASES")["$[]"](a))===h||c.$$is_boolean&&1!=c||(a=n);!1!==l&&l!==h&&(g.$delete("backend-"+l),!1!==m&&m!==h&&g.$delete("backend-"+l+"-doctype-"+m));!1!==m&&m!==h&&(g["$[]="]("doctype-"+m,""),g["$[]="]("backend-"+a+"-doctype-"+m,""));g["$[]="]("backend",a);g["$[]="]("backend-"+a,"");if((c=k.get("Converter").$$scope.get("BackendInfo")["$==="](this.converter=
this.$create_converter()))===h||c.$$is_boolean&&1!=c){if(l=a.$sub(k.get("TrailingDigitsRx"),""),q=!1!==(c=k.get("DEFAULT_EXTENSIONS")["$[]"](l))&&c!==h?c:".html",r=q["$[]"](b(1,-1,!1)),(c=this["$attribute_locked?"]("outfilesuffix"))===h||c.$$is_boolean&&1!=c)g["$[]="]("outfilesuffix",q)}else{l=this.converter.$basebackend();if((c=this["$attribute_locked?"]("outfilesuffix"))===h||c.$$is_boolean&&1!=c)g["$[]="]("outfilesuffix",this.converter.$outfilesuffix());r=this.converter.$filetype()}(c=G=g["$[]"]("filetype"))===
h||c.$$is_boolean&&1!=c||g.$delete("filetype-"+G);g["$[]="]("filetype",r);g["$[]="]("filetype-"+r,"");if((c=r=k.get("DEFAULT_PAGE_WIDTHS")["$[]"](l))===h||c.$$is_boolean&&1!=c)g.$delete("pagewidth");else g["$[]="]("pagewidth",r);if((c=l["$!="](p))!==h&&(!c.$$is_boolean||1==c)&&(!1!==p&&p!==h&&(g.$delete("basebackend-"+p),!1!==m&&m!==h&&g.$delete("basebackend-"+p+"-doctype-"+m)),g["$[]="]("basebackend",l),g["$[]="]("basebackend-"+l,""),!1!==m&&m!==h))g["$[]="]("basebackend-"+l+"-doctype-"+m,"");return this.backend=
h});a.defn(r,"$update_doctype_attributes",function(a){var b,c=h,e=h,g=h,k=h;if((b=!1!==a&&a!==h?a["$!="](this.attributes["$[]"]("doctype")):a)===h||b.$$is_boolean&&1!=b)return h;c=this.attributes;e=c["$[]"]("doctype");g=c["$[]"]("backend");k=c["$[]"]("basebackend");!1!==e&&e!==h&&(c.$delete("doctype-"+e),!1!==g&&g!==h&&c.$delete("backend-"+g+"-doctype-"+e),!1!==k&&k!==h&&c.$delete("basebackend-"+k+"-doctype-"+e));c["$[]="]("doctype",a);c["$[]="]("doctype-"+a,"");if(!1!==g&&g!==h)c["$[]="]("backend-"+
g+"-doctype-"+a,"");if(!1!==k&&k!==h)c["$[]="]("basebackend-"+k+"-doctype-"+a,"");return this.doctype=h});a.defn(r,"$create_converter",function(){var b,d=h,c=h,e=h,g=h,l=h,d=A([],{});d["$[]="]("htmlsyntax",this.attributes["$[]"]("htmlsyntax"));c=(b=e=this.options["$[]"]("template_dir"))===h||b.$$is_boolean&&1!=b?(b=c=this.options["$[]"]("template_dirs"))===h||b.$$is_boolean&&1!=b?h:d["$[]="]("template_dirs",c):d["$[]="]("template_dirs",[e]);!1!==c&&c!==h&&(d["$[]="]("template_cache",this.options.$fetch("template_cache",
!0)),d["$[]="]("template_engine",this.options["$[]"]("template_engine")),d["$[]="]("template_engine_options",this.options["$[]"]("template_engine_options")),d["$[]="]("eruby",this.options["$[]"]("eruby")),d["$[]="]("safe",this.safe));l=(b=g=this.options["$[]"]("converter"))===h||b.$$is_boolean&&1!=b?k.get("Converter").$$scope.get("Factory").$default(!1):k.get("Converter").$$scope.get("Factory").$new(a.get("Hash")["$[]"](this.$backend(),g));return l.$create(this.$backend(),d)});a.defn(r,"$convert",
function(a){var b,c,e,g=h,l=h,p=h,m=h;null==a&&(a=A([],{}));((b=this.parsed)===h||b.$$is_boolean&&1!=b)&&this.$parse();if((b=!1!==(c=n(this.safe,k.get("SafeMode").$$scope.get("SERVER")))&&c!==h?c:a["$empty?"]())===h||b.$$is_boolean&&1!=b)((b=this.attributes["$[]="]("outfile",a["$[]"]("outfile")))===h||b.$$is_boolean&&1!=b)&&this.attributes.$delete("outfile"),((b=this.attributes["$[]="]("outdir",a["$[]"]("outdir")))===h||b.$$is_boolean&&1!=b)&&this.attributes.$delete("outdir");((b=this.converter)===
h||b.$$is_boolean&&1!=b)&&this.$fail("asciidoctor: FAILED: missing converter for backend '"+this.$backend()+"'. Processing aborted.");this.$doctype()["$=="]("inline")?l=(b=(c=g=this.blocks["$[]"](0),!1!==c&&c!==h?g.$content_model()["$!="]("compound"):c))===h||b.$$is_boolean&&1!=b?h:g.$content():(p=(b=(c=a["$key?"]("header_footer"))===h||c.$$is_boolean&&1!=c?this.options["$[]"]("header_footer"):a["$[]"]("header_footer"))===h||b.$$is_boolean&&1!=b?"embedded":"document",l=this.converter.$convert(this,
p));!((b=this.parent_document)===h||b.$$is_boolean&&1!=b)||(b=(c=m=this.extensions,!1!==c&&c!==h?m["$postprocessors?"]():c))===h||b.$$is_boolean&&1!=b||(b=(c=m.$postprocessors()).$each,b.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=h);return l=a.$process_method()["$[]"](b,l)},e.$$s=this,e),b).call(c);return l});a.alias(r,"render","convert");a.defn(r,"$write",function(b,d){var c,e,g;if((c=k.get("Writer")["$==="](this.converter))===h||c.$$is_boolean&&1!=c){if((c=d["$respond_to?"]("write"))===h||
c.$$is_boolean&&1!=c)(c=(e=a.get("File")).$open,c.$$p=(g=function(a){null==a&&(a=h);return a.$write(b)},g.$$s=this,g),c).call(e,d,"w");else if((c=b["$nil_or_empty?"]())===h||c.$$is_boolean&&1!=c)d.$write(b.$chomp()),d.$write(k.get("EOL"));return h}return this.converter.$write(b,d)});a.defn(r,"$content",z=function(){var b=l.call(arguments,0),d=z.$$p;z.$$p=null;this.attributes.$delete("title");return a.find_super_dispatcher(this,"content",z,d).apply(this,b)});a.defn(r,"$docinfo",function(a,b){var c,
e,g,l,p=h,v=h,r=h,q=h,N=p=h,G=h,v=v=h;null==a&&(a="head");null==b&&(b=h);if(n(this.$safe(),k.get("SafeMode").$$scope.get("SECURE")))return"";p=a["$=="]("footer")?"-footer":h;if(!1===b||b===h)b=this.outfilesuffix;v=this.attributes["$[]"]("docinfodir");r=h;q=(c=(q=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===h||c.$$is_boolean&&1!=c?(c=(e=q.$split(",")).$map,c.$$p="strip".$to_proc(),c).call(e):(c=this.attributes["$key?"]("docinfo2"))===h||c.$$is_boolean&&1!=c?(c=this.attributes["$key?"]("docinfo1"))===
h||c.$$is_boolean&&1!=c?!1!==q&&q!==h?["private"]:h:["shared"]:["private","shared"];if(!1!==q&&q!==h){p="docinfo"+p+b;if((c=q["$&"](["shared","shared-"+a])["$empty?"]())===h||c.$$is_boolean&&1!=c)N=this.$normalize_system_path(p,v),(c=r=this.$read_asset(N,A(["normalize"],{normalize:!0})))===h||c.$$is_boolean&&1!=c||(c=!1!==(g=G)&&g!==h?g:G=this.$resolve_docinfo_subs())===h||c.$$is_boolean&&1!=c||(r=(c=G["$=="]("attributes"))===h||c.$$is_boolean&&1!=c?this.$apply_subs(r,G):this.$sub_attributes(r));
if((c=!1!==(g=this.attributes["$[]"]("docname")["$nil_or_empty?"]())&&g!==h?g:q["$&"](["private","private-"+a])["$empty?"]())===h||c.$$is_boolean&&1!=c)N=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+p,v),(c=v=this.$read_asset(N,A(["normalize"],{normalize:!0})))===h||c.$$is_boolean&&1!=c||((c=!1!==(g=G)&&g!==h?g:G=this.$resolve_docinfo_subs())===h||c.$$is_boolean&&1!=c||(v=(c=G["$=="]("attributes"))===h||c.$$is_boolean&&1!=c?this.$apply_subs(v,G):this.$sub_attributes(v)),r=
!1!==r&&r!==h?""+r+k.get("EOL")+v:v)}(c=(g=this.extensions,!1!==g&&g!==h?this["$docinfo_processors?"](a):g))===h||c.$$is_boolean&&1!=c||(v=m((c=(g=this.docinfo_processor_extensions["$[]"](a)).$map,c.$$p=(l=function(a){var b=l.$$s||this;null==a&&(a=h);return a.$process_method()["$[]"](b)},l.$$s=this,l),c).call(g).$compact(),k.get("EOL")),r=!1!==r&&r!==h?""+r+k.get("EOL")+v:v);return""+r});a.defn(r,"$resolve_docinfo_subs",function(){var a,b=h;if((a=this.attributes["$key?"]("docinfosubs"))===h||a.$$is_boolean&&
1!=a)return"attributes";b=this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",h,"docinfo");return(a=b["$empty?"]())===h||a.$$is_boolean&&1!=a?b:h});a.defn(r,"$docinfo_processors?",function(a){var b,c;null==a&&(a="head");return(b=this.docinfo_processor_extensions["$key?"](a))===h||b.$$is_boolean&&1!=b?(b=(c=this.extensions,!1!==c&&c!==h?this.document.$extensions()["$docinfo_processors?"](a):c))===h||b.$$is_boolean&&1!=b?this.docinfo_processor_extensions["$[]="](a,!1):this.docinfo_processor_extensions["$[]="](a,
this.document.$extensions().$docinfo_processors(a))["$!"]()["$!"]():this.docinfo_processor_extensions["$[]"](a)["$!="](!1)});return(a.defn(r,"$to_s",function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+((a=this.header["$!="](h))===h||a.$$is_boolean&&1!=a?h:this.header.$title()).$inspect()+", blocks: "+this.blocks.$size()+"}>"}),h)&&"to_s"})(w.base,w.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/inline"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.module,m=a.klass,h=a.hash2;return function(l){l=q(l,"Asciidoctor").$$scope;(function(e,$super){function l(){}var b=l=m(e,$super,"Inline",l),q;b.$attr_reader("text");b.$attr_reader("type");b.$attr_accessor("target");a.defn(b,"$initialize",q=function(b,e,l,m){var g,k=n;null==l&&(l=n);null==m&&(m=h([],{}));q.$$p=null;a.find_super_dispatcher(this,"initialize",q,null).apply(this,[b,e]);this.node_name="inline_"+
e;this.text=l;this.id=m["$[]"]("id");this.type=m["$[]"]("type");this.target=m["$[]"]("target");return(g=(k=m["$[]"]("attributes"))["$nil_or_empty?"]())===n||g.$$is_boolean&&1!=g?this.$update_attributes(k):n});a.defn(b,"$block?",function(){return!1});a.defn(b,"$inline?",function(){return!0});a.defn(b,"$convert",function(){return this.$converter().$convert(this)});return a.alias(b,"render","convert")})(l.base,l.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/list"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.slice,m=a.module,h=a.klass;return function(l){l=m(l,"Asciidoctor").$$scope;(function(e,$super){function l(){}var b=l=h(e,$super,"List",l),m=b.$$proto,x,u;m.context=m.document=m.style=n;a.alias(b,"items","blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.defn(b,"$initialize",x=function(b,e){var g=q.call(arguments,0),h=x.$$p;x.$$p=null;return a.find_super_dispatcher(this,"initialize",
x,h).apply(this,g)});a.defn(b,"$outline?",function(){var a;return!1!==(a=this.context["$=="]("ulist"))&&a!==n?a:this.context["$=="]("olist")});a.defn(b,"$convert",u=function(){var b=q.call(arguments,0),e=u.$$p,g=n;u.$$p=null;return this.context["$=="]("colist")?(g=a.find_super_dispatcher(this,"convert",u,e).apply(this,b),this.document.$callouts().$next_list(),g):a.find_super_dispatcher(this,"convert",u,e).apply(this,b)});a.alias(b,"render","convert");return(a.defn(b,"$to_s",function(){return"#<"+
this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"}),n)&&"to_s"})(l.base,l.get("AbstractBlock"));(function(e,$super){function l(){}var b=l=h(e,$super,"ListItem",l),m=b.$$proto,q=b.$$scope,u;m.text=m.blocks=n;b.$attr_accessor("marker");a.defn(b,"$initialize",u=function(b,e){null==e&&(e=n);u.$$p=null;a.find_super_dispatcher(this,"initialize",u,null).apply(this,[b,"list_item"]);this.text=e;return this.level=
b.$level()});a.defn(b,"$text?",function(){return this.text["$nil_or_empty?"]()["$!"]()});a.defn(b,"$text",function(){return this.$apply_subs(this.text)});a.defn(b,"$simple?",function(){var a,b,e=n;return!1!==(a=this.blocks["$empty?"]())&&a!==n?a:(b=this.blocks.$size()["$=="](1)?q.get("List")["$==="](e=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1),!1!==b&&b!==n?e["$outline?"]():b)});a.defn(b,"$compound?",function(){return this["$simple?"]()["$!"]()});a.defn(b,"$fold_first",function(a,b){var e,
h,l,m,u,f,d=n,y=n;null==a&&(a=!1);null==b&&(b=!1);(e=(h=(l=d=this.blocks["$[]"](0),!1!==l&&l!==n?q.get("Block")["$==="](d):l),!1!==h&&h!==n?!1!==(l=d.$context()["$=="]("paragraph")?a["$!"]():d.$context()["$=="]("paragraph"))&&l!==n?l:(m=(u=!1!==(f=b)&&f!==n?f:a["$!"](),!1!==u&&u!==n?d.$context()["$=="]("literal"):u),!1!==m&&m!==n?d["$option?"]("listparagraph"):m):h))===n||e.$$is_boolean&&1!=e||(y=this.$blocks().$shift(),((e=this.text["$nil_or_empty?"]())===n||e.$$is_boolean&&1!=e)&&y.$lines().$unshift(this.text),
this.text=y.$source());return n});return(a.defn(b,"$to_s",function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(!1!==(a=this.blocks)&&a!==n?a:[]).$size()+"}>"}),n)&&"to_s"})(l.base,l.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/parser"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?
a<=b:a["$<="](b)}function c(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function A(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}a.dynamic_require_severity="ignore";var b=a.nil,w=a.breaker,x=a.module,u=a.klass,p=a.hash2,r=a.range,g=a.gvars;return function(k){(function(k,$super){function z(){}var f=z=u(k,$super,"Parser",z),d=f.$$scope,y,E,B,J;a.cdecl(d,"BlockMatchData",d.get("Struct").$new("context","masq","tip","terminator"));a.cdecl(d,"TabRx",/\t/);a.cdecl(d,
"TabIndentRx",/^\t+/);a.cdecl(d,"StartOfBlockProc",(y=f.$lambda,y.$$p=(E=function(a){var c=E.$$s||this,e,f;null==a&&(a=b);return!1!==(e=(f=a["$start_with?"]("["),!1!==f&&f!==b?d.get("BlockAttributeLineRx")["$=~"](a):f))&&e!==b?e:c["$is_delimited_block?"](a)},E.$$s=f,E),y).call(f));a.cdecl(d,"StartOfListProc",(y=f.$lambda,y.$$p=(B=function(a){null==a&&(a=b);return d.get("AnyListRx")["$=~"](a)},B.$$s=f,B),y).call(f));a.cdecl(d,"StartOfBlockOrListProc",(y=f.$lambda,y.$$p=(J=function(a){var c=J.$$s||
this,e,f,g;null==a&&(a=b);return!1!==(e=!1!==(f=c["$is_delimited_block?"](a))&&f!==b?f:(g=a["$start_with?"]("["),!1!==g&&g!==b?d.get("BlockAttributeLineRx")["$=~"](a):g))&&e!==b?e:d.get("AnyListRx")["$=~"](a)},J.$$s=f,J),y).call(f));a.cdecl(d,"NoOp",b);a.defn(f,"$initialize",function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")});a.defs(f,"$parse",function(d,c,e){var f,g,h=b,k=b;null==e&&(e=p([],{}));h=this.$parse_document_header(d,c);if((f=e["$[]"]("header_only"))===
b||f.$$is_boolean&&1!=f)for(;(g=d["$has_more_lines?"]())!==b&&(!g.$$is_boolean||1==g);)if(g=a.to_ary(this.$next_section(d,c,h)),k=null==g[0]?b:g[0],h=null==g[1]?b:g[1],!1!==k&&k!==b)c["$<<"](k);return c});a.defs(f,"$parse_document_header",function(d,c){var e,f,g=b,h=b,k=b,l=b,m=b,p=l=b,n=b,g=this.$parse_block_metadata_lines(d,c);if((e=g["$has_key?"]("title"))!==b&&(!e.$$is_boolean||1==e))return c.$finalize_header(g,!1);h=b;if((e=(k=c.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===b||e.$$is_boolean&&
1!=e)e=[k],f=c,f["$title="].apply(f,e),e[e.length-1],h=k;l=b;if((e=this["$is_next_line_document_title?"](d,g))!==b&&(!e.$$is_boolean||1==e)){(e=c.$sourcemap())===b||e.$$is_boolean&&1!=e||(m=d.$cursor());e=a.to_ary(this.$parse_section_title(d,c));c["$id="](null==e[0]?b:e[0]);l=null==e[2]?b:e[2];p=null==e[4]?b:e[4];if(!1===h||h===b)e=[l],f=c,f["$title="].apply(f,e),e[e.length-1],h=l;!1!==p&&p!==b||c.$set_attribute("compat-mode","");(e=n=g.$delete("separator"))===b||e.$$is_boolean&&1!=e||c.$set_attribute("title-separator",
n);!1!==m&&m!==b&&(e=[m],f=c.$header(),f["$source_location="].apply(f,e),e[e.length-1]);c.$attributes()["$[]="]("doctitle",l);if((e=c.$id())===b||e.$$is_boolean&&1!=e)e=[g.$delete("id")],f=c,f["$id="].apply(f,e),e[e.length-1];this.$parse_header_metadata(d,c)}(e=(f=(k=c.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]()["$!"](),!1!==f&&f!==b?k["$!="](l):f))===b||e.$$is_boolean&&1!=e||(e=[k],f=c,f["$title="].apply(f,e),e[e.length-1],h=k);if(!1!==h&&h!==b)c.$attributes()["$[]="]("doctitle",h);c.$doctype()["$=="]("manpage")&&
this.$parse_manpage_header(d,c);return c.$finalize_header(g)});a.defs(f,"$parse_manpage_header",function(a,c){var e,f=b,f=f=b;(e=f=d.get("ManpageTitleVolnumRx").$match(c.$attributes()["$[]"]("doctitle")))===b||e.$$is_boolean&&1!=e?(this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"),c.$attributes()["$[]="]("mantitle",c.$attributes()["$[]"]("doctitle")),c.$attributes()["$[]="]("manvolnum","1")):(c.$attributes()["$[]="]("mantitle",c.$sub_attributes(f["$[]"](1).$rstrip().$downcase())),
c.$attributes()["$[]="]("manvolnum",f["$[]"](2).$strip()));a.$skip_blank_lines();if((e=this["$is_next_line_section?"](a,p([],{})))===b||e.$$is_boolean&&1!=e)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section expected");f=this.$initialize_section(a,c,p([],{}));if(f.$level()["$=="](1)){f=a.$read_lines_until(p(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," ");if((e=f=d.get("ManpageNamePurposeRx").$match(f))===b||e.$$is_boolean&&1!=e)return this.$warn("asciidoctor: ERROR: "+
a.$prev_line_info()+": malformed name section body");c.$attributes()["$[]="]("manname",c.$sub_attributes(f["$[]"](1)));c.$attributes()["$[]="]("manpurpose",f["$[]"](2));return c.$backend()["$=="]("manpage")?(c.$attributes()["$[]="]("docname",c.$attributes()["$[]"]("manname")),c.$attributes()["$[]="]("outfilesuffix","."+c.$attributes()["$[]"]("manvolnum"))):b}return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1")});a.defs(f,"$next_section",function(c,
e,f){var g,h,k,l,r=b,t=b,y=b,u=b,z=b,B=b,E=b,w=b,J=E=b,x=J=J=b,A=b,z=t=b;null==f&&(f=p([],{}));y=t=r=!1;(g=(h=(k=e.$context()["$=="]("document"))?e.$blocks()["$empty?"]():e.$context()["$=="]("document"),!1!==h&&h!==b?!1!==(k=!1!==(l=u=e["$has_header?"]())&&l!==b?l:f.$delete("invalid-header"))&&k!==b?k:this["$is_next_line_section?"](c,f)["$!"]():h))===b||g.$$is_boolean&&1!=g?(z=e.$document().$doctype(),B=this.$initialize_section(c,e,f),f=(g=E=f["$[]"]("title"))===b||g.$$is_boolean&&1!=g?p([],{}):p(["title"],
{title:E}),E=B.$level(),(g=(h=E["$=="](0))?z["$=="]("book"):E["$=="](0))===b||g.$$is_boolean&&1!=g?w=[n(E,1)]:(t=B.$special()["$!"](),w=(g=(h=B.$special(),!1!==h&&h!==b?["preface","appendix"]["$include?"](B.$sectname()):h))===b||g.$$is_boolean&&1!=g?[n(E,1)]:[n(E,2)])):(z=e.$doctype(),(g=!1!==(h=u)&&h!==b?h:(k=z["$=="]("book"))?f["$[]"](1)["$!="]("abstract"):z["$=="]("book"))===b||g.$$is_boolean&&1!=g||(r=y=d.get("Block").$new(e,"preamble",p(["content_model"],{content_model:"compound"})),(g=(h=z["$=="]("book"))?
e["$attr?"]("preface-title"):z["$=="]("book"))===b||g.$$is_boolean&&1!=g||(g=[e.$attr("preface-title")],h=r,h["$title="].apply(h,g),g[g.length-1]),e["$<<"](r)),B=e,E=0,w=(g=e.$attributes()["$has_key?"]("fragment"))===b||g.$$is_boolean&&1!=g?z["$=="]("book")?[0,1]:[1]:b);for(c.$skip_blank_lines();(h=c["$has_more_lines?"]())!==b&&(!h.$$is_boolean||1==h);){this.$parse_block_metadata_lines(c,B,f);if((h=J=this["$is_next_line_section?"](c,f))===b||h.$$is_boolean&&1!=h)(J=c.$line_info(),(h=x=this.$next_block(c,
!1!==(k=y)&&k!==b?k:B,f,p(["parse_metadata"],{parse_metadata:!1})))===b||h.$$is_boolean&&1!=h)||(!1!==t&&t!==b&&((h=B["$blocks?"]()["$!"]())===b||h.$$is_boolean&&1!=h?B.$blocks().$size()["$=="](1)&&((A=B.$blocks()["$[]"](0),(h=(k=y["$!"](),!1!==k&&k!==b?A.$content_model()["$=="]("compound"):k))===b||h.$$is_boolean&&1!=h)?(h=A.$content_model()["$!="]("compound"))===b||h.$$is_boolean&&1!=h||(y=d.get("Block").$new(B,"open",p(["content_model"],{content_model:"compound"})),h=["partintro"],k=y,k["$style="].apply(k,
h),h[h.length-1],B.$blocks().$shift(),A.$style()["$=="]("partintro")&&(h=["paragraph"],k=A,k["$context="].apply(k,h),h[h.length-1],h=[b],k=A,k["$style="].apply(k,h),h[h.length-1]),h=[y],k=A,k["$parent="].apply(k,h),h[h.length-1],y["$<<"](A),h=[y],k=x,k["$parent="].apply(k,h),h[h.length-1],B["$<<"](y)):this.$warn("asciidoctor: ERROR: "+J+": illegal block content outside of partintro block")):(h=x.$style()["$!="]("partintro"))===b||h.$$is_boolean&&1!=h||(x.$context()["$=="]("paragraph")?(h=["open"],
k=x,k["$context="].apply(k,h),h[h.length-1],h=["partintro"],k=x,k["$style="].apply(k,h),h[h.length-1]):(y=d.get("Block").$new(B,"open",p(["content_model"],{content_model:"compound"})),h=["partintro"],k=y,k["$style="].apply(k,h),h[h.length-1],h=[y],k=x,k["$parent="].apply(k,h),h[h.length-1],B["$<<"](y)))),(!1!==(h=y)&&h!==b?h:B)["$<<"](x),f=p([],{}));else if(J=n(J,B.$document().$attr("leveloffset",0).$to_i()),(h=!1!==(k=q(J,E))&&k!==b?k:B.$context()["$=="]("document")?J["$=="](0):B.$context()["$=="]("document"))===
b||h.$$is_boolean&&1!=h){(h=(k=J["$=="](0))?z["$!="]("book"):J["$=="](0))===b||h.$$is_boolean&&1!=h||this.$warn("asciidoctor: ERROR: "+c.$line_info()+": only book doctypes can contain level 0 sections");break}else(h=(k=J["$=="](0))?z["$!="]("book"):J["$=="](0))===b||h.$$is_boolean&&1!=h?(h=(k=!1!==w&&w!==b)?w["$include?"](J)["$!"]():w)===b||h.$$is_boolean&&1!=h||this.$warn(n(n("asciidoctor: WARNING: "+c.$line_info()+": section title out of sequence: ","expected "+(q(w.$size(),1)?"levels":"level")+
" "+m(w," or ")+", "),"got level "+J)):this.$warn("asciidoctor: ERROR: "+c.$line_info()+": only book doctypes can contain level 0 sections"),h=a.to_ary(this.$next_section(c,B,f)),J=null==h[0]?b:h[0],f=null==h[1]?b:h[1],B["$<<"](J);c.$skip_blank_lines()}if(!1!==t&&t!==b)((g=(h=B["$blocks?"](),!1!==h&&h!==b?B.$blocks()["$[]"](-1).$context()["$=="]("section"):h))===b||g.$$is_boolean&&1!=g)&&this.$warn("asciidoctor: ERROR: "+c.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");
else if(!1!==r&&r!==b)if(t=e,(g=r["$blocks?"]())===b||g.$$is_boolean&&1!=g)t.$blocks().$shift();else if((g=(h=(k=d.get("Compliance").$unwrap_standalone_preamble(),!1!==k&&k!==b?t.$blocks().$size()["$=="](1):k),!1!==h&&h!==b?z["$!="]("book"):h))!==b&&(!g.$$is_boolean||1==g))for(t.$blocks().$shift();(h=z=r.$blocks().$shift())!==b&&(!h.$$is_boolean||1==h);)h=[t],k=z,k["$parent="].apply(k,h),h[h.length-1],t["$<<"](z);return[(g=B["$!="](e))===b||g.$$is_boolean&&1!=g?b:B,f.$dup()]});a.defs(f,"$next_block",
function(c,e,f,g){var k,m,t,y,u,z,B,E,w,J,x,A=b,V=b,W=b,Q=b,aa=b,S=b,H=b,ea=b,I=b,T=b,ja=b,ma=b,ka=b,X=b,U=u=b,na=b,ha=b,ba=b,ga=ba=b,la=u=ba=u=b,ia=ba=I=I=b,ra=b,oa=b,pa=u=I=I=ia=ba=u=I=ia=b,qa=X=U=u=ba=u=u=b,ta=b,ua=b,va=X=U=U=b,sa=A=b,wa=b;null==f&&(f=p([],{}));null==g&&(g=p([],{}));A=c.$skip_blank_lines();if((k=c["$has_more_lines?"]())===b||k.$$is_boolean&&1!=k)return b;(k=(m=V=g["$[]"]("text"),!1!==m&&m!==b?q(A,0):m))===b||k.$$is_boolean&&1!=k||(g.$delete("text"),V=!1);W=g.$fetch("parse_metadata",
!0);Q=e.$document();(k=aa=Q.$extensions())===b||k.$$is_boolean&&1!=k?S=H=!1:(S=aa["$blocks?"](),H=aa["$block_macros?"]());ea=d.get("ListItem")["$==="](e);ja=T=I=b;ma=Q.$sourcemap();for(ka=b;(m=(t=I["$!"](),!1!==t&&t!==b?c["$has_more_lines?"]():t))!==b&&(!m.$$is_boolean||1==m);)if((m=(t=!1!==W&&W!==b)?this.$parse_block_metadata_line(c,Q,f,g):W)===b||m.$$is_boolean&&1!=m){!1!==ma&&ma!==b&&(ka=c.$cursor());X=c.$read_line();u=!1;ha=na=U=b;(m=f["$[]"](1))===b||m.$$is_boolean&&1!=m||(m=a.to_ary(this.$parse_style_attribute(f,
c)),T=null==m[0]?b:m[0],ja=null==m[1]?b:m[1]);(m=ba=this["$is_delimited_block?"](X,!0))===b||m.$$is_boolean&&1!=m||((u=!0,U=na=ba.$context(),ha=ba.$terminator(),(m=T["$!"]())===b||m.$$is_boolean&&1!=m)?(m=T["$!="](U.$to_s()))===b||m.$$is_boolean&&1!=m||((m=ba.$masq()["$include?"](T))===b||m.$$is_boolean&&1!=m?(m=(t=ba.$masq()["$include?"]("admonition"),!1!==t&&t!==b?d.get("ADMONITION_STYLES")["$include?"](T):t))===b||m.$$is_boolean&&1!=m?(m=(t=!1!==S&&S!==b)?aa["$registered_for_block?"](T,U):S)===
b||m.$$is_boolean&&1!=m?(this.$warn("asciidoctor: WARNING: "+c.$prev_line_info()+": invalid style for "+U+" block: "+T),T=U.$to_s()):U=T.$to_sym():U="admonition":U=T.$to_sym()):T=f["$[]="]("style",U.$to_s()));if(!1===u||u===b)for(;(t=!0)!==b&&(!t.$$is_boolean||1==t);){if((t=(y=(u=!1!==T&&T!==b)?d.get("Compliance").$strict_verbatim_paragraphs():T,!1!==y&&y!==b?d.get("VERBATIM_STYLES")["$include?"](T):y))!==b&&(!t.$$is_boolean||1==t)){U=T.$to_sym();c.$unshift_line(X);break}if(!1===V||V===b)if(ba=(t=
d.get("Compliance").$markdown_syntax())===b||t.$$is_boolean&&1!=t?X.$chr():X.$lstrip().$chr(),(t=(y=(u=d.get("LAYOUT_BREAK_LINES")["$has_key?"](ba),!1!==u&&u!==b?h(X.$length(),3):u),!1!==y&&y!==b?((u=d.get("Compliance").$markdown_syntax())===b||u.$$is_boolean&&1!=u?d.get("LayoutBreakLineRx"):d.get("LayoutBreakLinePlusRx"))["$=~"](X):y))!==b&&(!t.$$is_boolean||1==t)){I=d.get("Block").$new(e,d.get("LAYOUT_BREAK_LINES")["$[]"](ba),p(["content_model"],{content_model:"empty"}));break}else if((t=(y=X["$end_with?"]("]"),
!1!==y&&y!==b?ga=d.get("MediaBlockMacroRx").$match(X):y))!==b&&(!t.$$is_boolean||1==t)){u=ga["$[]"](1).$to_sym();I=d.get("Block").$new(e,u,p(["content_model"],{content_model:"empty"}));ba=u["$=="]("image")?["alt","width","height"]:u["$=="]("video")?["poster","width","height"]:[];if((t=!1!==(y=T["$!"]())&&y!==b?y:ja)===b||t.$$is_boolean&&1!=t){if(u["$=="]("image"))f["$[]="]("alt",T);f.$delete("style");T=b}I.$parse_attributes(ga["$[]"](3),ba,p(["unescape_input","sub_input","sub_result","into"],{unescape_input:u["$=="]("image"),
sub_input:!0,sub_result:!1,into:f}));u=I.$sub_attributes(ga["$[]"](2),p(["attribute_missing"],{attribute_missing:"drop-line"}));if((t=u["$empty?"]())!==b&&(!t.$$is_boolean||1==t)){if(Q.$attributes().$fetch("attribute-missing",d.get("Compliance").$attribute_missing())["$=="]("skip"))return d.get("Block").$new(e,"paragraph",p(["content_model","source"],{content_model:"simple",source:[X]}));f.$clear();return b}f["$[]="]("target",u);break}else if((t=(y=ba["$=="]("t"))?ga=d.get("TocBlockMacroRx").$match(X):
ba["$=="]("t"))!==b&&(!t.$$is_boolean||1==t)){I=d.get("Block").$new(e,"toc",p(["content_model"],{content_model:"empty"}));I.$parse_attributes(ga["$[]"](1),[],p(["sub_result","into"],{sub_result:!1,into:f}));break}else if((t=(y=(u=!1!==H&&H!==b)?ga=d.get("GenericBlockMacroRx").$match(X):H,!1!==y&&y!==b?la=aa["$registered_for_block_macro?"](ga["$[]"](1)):y))!==b&&(!t.$$is_boolean||1==t)){u=ga["$[]"](2);I=ga["$[]"](3);if(la.$config()["$[]"]("content_model")["$=="]("attributes"))((t=I["$empty?"]())===
b||t.$$is_boolean&&1!=t)&&Q.$parse_attributes(I,!1!==(t=la.$config()["$[]"]("pos_attrs"))&&t!==b?t:[],p(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:f}));else f["$[]="]("text",I);(t=I=la.$config()["$[]"]("default_attrs"))===b||t.$$is_boolean&&1!=t||(t=(y=I).$each,t.$$p=(z=function(a,d){var c,e,g;null==a&&(a=b);null==d&&(d=b);return c=a,e=f,!1!==(g=e["$[]"](c))&&g!==b?g:e["$[]="](c,d)},z.$$s=this,z),t).call(y);if((t=I=la.$process_method()["$[]"](e,u,f.$dup()))===b||t.$$is_boolean&&
1!=t)return f.$clear(),b;f.$replace(I.$attributes());break}if((t=ga=d.get("CalloutListRx").$match(X))!==b&&(!t.$$is_boolean||1==t)){I=d.get("List").$new(e,"colist");f["$[]="]("style","arabic");c.$unshift_line(X);for(ba=1;(u=!1!==(B=ga)&&B!==b?B:(E=c["$has_more_lines?"](),!1!==E&&E!==b?ga=d.get("CalloutListRx").$match(c.$peek_line()):E))!==b&&(!u.$$is_boolean||1==u);){(u=ga["$[]"](1).$to_i()["$!="](ba))===b||u.$$is_boolean&&1!=u||this.$warn("asciidoctor: WARNING: "+c.$path()+": line "+l(c.$lineno(),
2)+": callout list item index: expected "+ba+" got "+ga["$[]"](1));ia=this.$next_list_item(c,I,ga);ba=n(ba,1);if(!1!==ia&&ia!==b)if(I["$<<"](ia),ra=Q.$callouts().$callout_ids(I.$items().$size()),(u=ra["$empty?"]()["$!"]())===b||u.$$is_boolean&&1!=u)this.$warn("asciidoctor: WARNING: "+c.$path()+": line "+l(c.$lineno(),2)+": no callouts refer to list item "+I.$items().$size());else ia.$attributes()["$[]="]("coids",ra);ga=b}Q.$callouts().$next_list();break}else if((t=d.get("UnorderedListRx")["$=~"](X))!==
b&&(!t.$$is_boolean||1==t)){c.$unshift_line(X);I=this.$next_outline_list(c,"ulist",e);break}else if((t=ga=d.get("OrderedListRx").$match(X))!==b&&(!t.$$is_boolean||1==t)){c.$unshift_line(X);I=this.$next_outline_list(c,"olist",e);if((t=(u=f["$[]"]("style")["$!"](),!1!==u&&u!==b?I.$attributes()["$[]"]("style")["$!"]():u))!==b&&(!t.$$is_boolean||1==t))if(oa=I.$items()["$[]"](0).$marker(),(t=oa["$start_with?"]("."))===b||t.$$is_boolean&&1!=t)T=(t=(u=d.get("ORDERED_LIST_STYLES")).$detect,t.$$p=(w=function(a){null==
a&&(a=b);return d.get("OrderedListMarkerRxMap")["$[]"](a)["$=~"](oa)},w.$$s=this,w),t).call(u),f["$[]="]("style",(!1!==(t=T)&&t!==b?t:d.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());else f["$[]="]("style",(!1!==(t=d.get("ORDERED_LIST_STYLES")["$[]"](l(oa.$length(),1)))&&t!==b?t:d.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());break}else if((t=ga=d.get("DefinitionListRx").$match(X))!==b&&(!t.$$is_boolean||1==t)){c.$unshift_line(X);I=this.$next_labeled_list(c,ga,e);break}else if((t=(B=!1!==(E=T["$=="]("float"))&&
E!==b?E:T["$=="]("discrete"),!1!==B&&B!==b?this["$is_section_title?"](X,(E=d.get("Compliance").$underline_style_section_titles())===b||E.$$is_boolean&&1!=E?b:c.$peek_line(!0)):B))!==b&&(!t.$$is_boolean||1==t)){c.$unshift_line(X);t=a.to_ary(this.$parse_section_title(c,Q));ia=null==t[0]?b:t[0];I=null==t[1]?b:t[1];u=null==t[2]?b:t[2];ba=null==t[3]?b:t[3];if(!1!==I&&I!==b)f["$[]="]("reftext",I);(t=f["$has_key?"]("id"))===b||t.$$is_boolean&&1!=t||(!1!==(t=ia)&&t!==b?t:ia=f["$[]"]("id"));I=d.get("Block").$new(e,
"floating_title",p(["content_model"],{content_model:"empty"}));(t=ia["$nil_or_empty?"]())===b||t.$$is_boolean&&1!=t?t=[ia]:(ia=d.get("Section").$new(e),t=[u],B=ia,B["$title="].apply(B,t),t[t.length-1],t=[ia.$generate_id()]);B=I;B["$id="].apply(B,t);t[t.length-1];t=[ba];B=I;B["$level="].apply(B,t);t[t.length-1];t=[u];B=I;B["$title="].apply(B,t);t[t.length-1];break}else if((t=(B=!1!==T&&T!==b)?T["$!="]("normal"):T)!==b&&(!t.$$is_boolean||1==t))if((t=d.get("PARAGRAPH_STYLES")["$include?"](T))===b||t.$$is_boolean&&
1!=t)if((t=d.get("ADMONITION_STYLES")["$include?"](T))===b||t.$$is_boolean&&1!=t)if((t=(B=!1!==S&&S!==b)?aa["$registered_for_block?"](T,"paragraph"):S)===b||t.$$is_boolean&&1!=t)this.$warn("asciidoctor: WARNING: "+c.$prev_line_info()+": invalid style for paragraph: "+T),T=b;else{U=T.$to_sym();na="paragraph";c.$unshift_line(X);break}else{U="admonition";na="paragraph";c.$unshift_line(X);break}else{U=T.$to_sym();na="paragraph";c.$unshift_line(X);break}I=(t=A["$=="](0))?ea:A["$=="](0);if((t=(B=T["$!="]("normal"),
!1!==B&&B!==b?d.get("LiteralParagraphRx")["$=~"](X):B))===b||t.$$is_boolean&&1!=t){c.$unshift_line(X);I=this.$read_paragraph_lines(c,I,p(["skip_line_comments"],{skip_line_comments:!0}));if((t=I["$empty?"]())!==b&&(!t.$$is_boolean||1==t))return c.$advance(),b;this.$catalog_inline_anchors(I.$join(d.get("EOL")),Q);u=I["$[]"](0);if((t=(B=V["$!"](),!1!==B&&B!==b?pa=d.get("AdmonitionParagraphRx").$match(u):B))===b||t.$$is_boolean&&1!=t)if((t=(B=(E=V["$!"](),!1!==E&&E!==b?d.get("Compliance").$markdown_syntax():
E),!1!==B&&B!==b?u["$start_with?"]("> "):B))===b||t.$$is_boolean&&1!=t)if((t=(E=V["$!"](),!1!==E&&E!==b?this["$blockquote?"](I,u):E))===b||t.$$is_boolean&&1!=t){if(T["$=="]("normal"))this["$adjust_indentation!"](I);I=d.get("Block").$new(e,"paragraph",p(["content_model","source","attributes"],{content_model:"simple",source:I,attributes:f}))}else{I["$[]="](0,u["$[]"](r(1,-1,!1)));t=a.to_ary(I.$pop()["$[]"](r(3,-1,!1)).$split(", ",2));u=null==t[0]?b:t[0];for(ba=null==t[1]?b:t[1];(E=I["$[]"](-1)["$empty?"]())!==
b&&(!E.$$is_boolean||1==E);)I.$pop();I["$[]="](-1,I["$[]"](-1).$chop());f["$[]="]("style","quote");if(!1!==u&&u!==b)f["$[]="]("attribution",u);if(!1!==ba&&ba!==b)f["$[]="]("citetitle",ba);I=d.get("Block").$new(e,"quote",p(["content_model","source","attributes"],{content_model:"simple",source:I,attributes:f}))}else{(t=(B=I)["$map!"],t.$$p=(J=function(a){var d;null==a&&(a=b);return a["$=="](">")?a["$[]"](r(1,-1,!1)):(d=a["$start_with?"]("> "))===b||d.$$is_boolean&&1!=d?a:a["$[]"](r(2,-1,!1))},J.$$s=
this,J),t).call(B);if((t=I["$[]"](-1)["$start_with?"]("-- "))===b||t.$$is_boolean&&1!=t)t=a.to_ary(b),u=null==t[0]?b:t[0],ba=null==t[1]?b:t[1];else for(t=a.to_ary(I.$pop()["$[]"](r(3,-1,!1)).$split(", ",2)),u=null==t[0]?b:t[0],ba=null==t[1]?b:t[1];(E=I["$[]"](-1)["$empty?"]())!==b&&(!E.$$is_boolean||1==E);)I.$pop();f["$[]="]("style","quote");if(!1!==u&&u!==b)f["$[]="]("attribution",u);if(!1!==ba&&ba!==b)f["$[]="]("citetitle",ba);I=this.$build_block("quote","compound",!1,e,d.get("Reader").$new(I),
f)}else I["$[]="](0,pa.$post_match().$lstrip()),f["$[]="]("style",pa["$[]"](1)),f["$[]="]("name",u=pa["$[]"](1).$downcase()),t="caption",B=f,!1!==(E=B["$[]"](t))&&E!==b?E:B["$[]="](t,Q.$attributes()["$[]"](""+u+"-caption")),I=d.get("Block").$new(e,"admonition",p(["content_model","source","attributes"],{content_model:"simple",source:I,attributes:f}))}else c.$unshift_line(X),I=this.$read_paragraph_lines(c,I,p(["skip_line_comments"],{skip_line_comments:V})),this["$adjust_indentation!"](I),I=d.get("Block").$new(e,
"literal",p(["content_model","source","attributes"],{content_model:"verbatim",source:I,attributes:f})),!1!==ea&&ea!==b&&I.$set_option("listparagraph");break}if((m=(t=I["$!"](),!1!==t&&t!==b?U:t))!==b&&(!m.$$is_boolean||1==m))if((m=!1!==(t=U["$=="]("abstract"))&&t!==b?t:U["$=="]("partintro"))===b||m.$$is_boolean&&1!=m||(U="open"),u=U,"admonition"["$==="](u))f["$[]="]("name",u=T.$downcase()),m="caption",t=f,!1!==(E=t["$[]"](m))&&E!==b?E:t["$[]="](m,Q.$attributes()["$[]"](""+u+"-caption")),I=this.$build_block(U,
"compound",ha,e,c,f);else{if("comment"["$==="](u))return this.$build_block(U,"skip",ha,e,c,f),b;if("example"["$==="](u))I=this.$build_block(U,"compound",ha,e,c,f);else if("listing"["$==="](u)||"fenced_code"["$==="](u)||"source"["$==="](u)){if(U["$=="]("fenced_code")){T=f["$[]="]("style","source");m=a.to_ary(X["$[]"](r(3,-1,!1)).$tr(" ","").$split(",",2));U=null==m[0]?b:m[0];X=null==m[1]?b:m[1];if((m=U["$nil_or_empty?"]()["$!"]())!==b&&(!m.$$is_boolean||1==m)){if(f["$[]="]("language",U),(m=X["$nil_or_empty?"]())===
b||m.$$is_boolean&&1!=m)f["$[]="]("linenums","")}else if((m=qa=Q.$attributes()["$[]"]("source-language"))!==b&&(!m.$$is_boolean||1==m))f["$[]="]("language",qa);if((m=(t=f["$key?"]("indent")["$!"](),!1!==t&&t!==b?Q.$attributes()["$key?"]("source-indent"):t))!==b&&(!m.$$is_boolean||1==m))f["$[]="]("indent",Q.$attributes()["$[]"]("source-indent"));ha=ha["$[]"](r(0,2,!1))}else if(U["$=="]("source")){d.get("AttributeList").$rekey(f,[b,"language","linenums"]);if(((m=f["$key?"]("language"))===b||m.$$is_boolean&&
1!=m)&&(m=qa=Q.$attributes()["$[]"]("source-language"))!==b&&(!m.$$is_boolean||1==m))f["$[]="]("language",qa);if((m=(t=f["$key?"]("indent")["$!"](),!1!==t&&t!==b?Q.$attributes()["$key?"]("source-indent"):t))!==b&&(!m.$$is_boolean||1==m))f["$[]="]("indent",Q.$attributes()["$[]"]("source-indent"))}I=this.$build_block("listing","verbatim",ha,e,c,f)}else if("literal"["$==="](u))I=this.$build_block(U,"verbatim",ha,e,c,f);else if("pass"["$==="](u))I=this.$build_block(U,"raw",ha,e,c,f);else if("stem"["$==="](u)||
"latexmath"["$==="](u)||"asciimath"["$==="](u)){if(U["$=="]("stem"))f["$[]="]("style",(m=ta=f["$[]"](2))===b||m.$$is_boolean&&1!=m?(m=(ua=Q.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===b||m.$$is_boolean&&1!=m?ua:"asciimath":(m=ta["$include?"]("tex"))===b||m.$$is_boolean&&1!=m?"asciimath":"latexmath");I=this.$build_block("stem","raw",ha,e,c,f)}else if("open"["$==="](u)||"sidebar"["$==="](u))I=this.$build_block(U,"compound",ha,e,c,f);else if("table"["$==="](u)){U=c.$cursor();U=d.get("Reader").$new(c.$read_lines_until(p(["terminator",
"skip_line_comments"],{terminator:ha,skip_line_comments:!0})),U);u=ha.$chr();if(","["$==="](u))f["$[]="]("format","csv");else if(":"["$==="](u))f["$[]="]("format","dsv");I=this.$next_table(U,e,f)}else if("quote"["$==="](u)||"verse"["$==="](u))d.get("AttributeList").$rekey(f,[b,"attribution","citetitle"]),I=this.$build_block(U,U["$=="]("verse")?"verbatim":"compound",ha,e,c,f);else if((m=(t=!1!==S&&S!==b)?la=aa["$registered_for_block?"](U,na):S)===b||m.$$is_boolean&&1!=m)this.$raise("Unsupported block type "+
U+" at "+c.$line_info());else if((m=(X=la.$config()["$[]"]("content_model"))["$!="]("skip"))===b||m.$$is_boolean&&1!=m||((m=(va=!1!==(t=la.$config()["$[]"]("pos_attrs"))&&t!==b?t:[])["$empty?"]()["$!"]())===b||m.$$is_boolean&&1!=m||d.get("AttributeList").$rekey(f,[b].$concat(va)),(m=I=la.$config()["$[]"]("default_attrs"))===b||m.$$is_boolean&&1!=m||(m=(t=I).$each,m.$$p=(x=function(a,d){var c,e,g;null==a&&(a=b);null==d&&(d=b);return c=a,e=f,!1!==(g=e["$[]"](c))&&g!==b?g:e["$[]="](c,d)},x.$$s=this,
x),m).call(t)),I=this.$build_block(U,X,ha,e,c,f,p(["extension"],{extension:la})),(m=(E=!1!==I&&I!==b)?X["$!="]("skip"):I)===b||m.$$is_boolean&&1!=m)return f.$clear(),b}}else c.$advance();if(!1!==I&&I!==b){!1!==ka&&ka!==b&&(k=[ka],m=I,m["$source_location="].apply(m,k),k[k.length-1]);if((k=I["$title?"]())===b||k.$$is_boolean&&1!=k)k=[f["$[]"]("title")],m=I,m["$title="].apply(m,k),k[k.length-1];if(I.$context()["$=="]("image")){if(A=f["$[]"]("target"),I.$document().$register("images",A),k="alt",m=f,!1!==
(E=m["$[]"](k))&&E!==b?E:m["$[]="](k,d.get("Helpers").$basename(A,!0).$tr("_-"," ")),f["$[]="]("alt",I.$sub_specialchars(f["$[]"]("alt"))),I.$assign_caption(f.$delete("caption"),"figure"),!((k=sa=f["$[]"]("scaledwidth"))===b||k.$$is_boolean&&1!=k||(k=r(48,57,!1)["$include?"]((!1!==(m=sa["$[]"](-1))&&m!==b?m:0).$ord()))===b||k.$$is_boolean&&1!=k))f["$[]="]("scaledwidth",""+sa+"%")}else k=I,!1!==(m=k.$caption())&&m!==b?m:k["$caption="](f.$delete("caption"));k=[f["$[]"]("style")];m=I;m["$style="].apply(m,
k);k[k.length-1];(k=wa=(m=I,!1!==(E=m.$id())&&E!==b?E:m["$id="](f["$[]"]("id"))))===b||k.$$is_boolean&&1!=k||Q.$register("ids",[wa,!1!==(k=f["$[]"]("reftext"))&&k!==b?k:(m=I["$title?"]())===b||m.$$is_boolean&&1!=m?b:I.$title()]);((k=f["$empty?"]())===b||k.$$is_boolean&&1!=k)&&I.$attributes().$update(f);I.$lock_in_subs();(k=I["$sub?"]("callouts"))===b||k.$$is_boolean&&1!=k||!((k=this.$catalog_callouts(I.$source(),Q))===b||k.$$is_boolean&&1!=k)||I.$remove_sub("callouts")}return I});a.defs(f,"$blockquote?",
function(a,d){var c,e,f;null==d&&(d=b);return c=(e=q(a.$size(),1)?(!1!==(f=d)&&f!==b?f:a["$[]"](0))["$start_with?"]('"'):q(a.$size(),1),!1!==e&&e!==b?a["$[]"](-1)["$start_with?"]("-- "):e),!1!==c&&c!==b?a["$[]"](-2)["$end_with?"]('"'):c});a.defs(f,"$read_paragraph_lines",function(a,c,e){var f,g=b;null==e&&(e=p([],{}));e["$[]="]("break_on_blank_lines",!0);e["$[]="]("break_on_list_continuation",!0);e["$[]="]("preserve_last_line",!0);g=!1!==c&&c!==b?(f=d.get("Compliance").$block_terminates_paragraph())===
b||f.$$is_boolean&&1!=f?d.get("StartOfListProc"):d.get("StartOfBlockOrListProc"):(f=d.get("Compliance").$block_terminates_paragraph())===b||f.$$is_boolean&&1!=f?d.get("NoOp"):d.get("StartOfBlockProc");return(f=a.$read_lines_until,f.$$p=g.$to_proc(),f).call(a,e)});a.defs(f,"$is_delimited_block?",function(f,g){var h,k,p=b,n=b,t=b,u=b,t=p=k=b;null==g&&(g=!1);if((h=(k=q(p=f.$length(),1))?d.get("DELIMITED_BLOCK_LEADERS")["$include?"](f["$[]"](r(0,1,!1))):q(p=f.$length(),1))===b||h.$$is_boolean&&1!=h)return b;
if(p["$=="](2))n=f,t=2;else{e(p,4)?(n=f,t=p):(n=f["$[]"](r(0,3,!1)),t=4);u=!1;if((h=d.get("Compliance").$markdown_syntax())!==b&&(!h.$$is_boolean||1==h)&&(k=t["$=="](4)?n.$chop():n,k["$=="]("```"))){if((h=t["$=="](4)?n["$end_with?"]("`"):t["$=="](4))!==b&&(!h.$$is_boolean||1==h))return b;n=k;t=3;u=!0}if((h=(k=t["$=="](3))?u["$!"]():t["$=="](3))!==b&&(!h.$$is_boolean||1==h))return b}return(h=d.get("DELIMITED_BLOCKS")["$has_key?"](n))===b||h.$$is_boolean&&1!=h?b:(h=!1!==(k=c(t,4))&&k!==b?k:t["$=="](p))===
b||h.$$is_boolean&&1!=h?(""+n+m(n["$[]"](r(-1,-1,!1)),l(p,t)))["$=="](f)?!1!==g&&g!==b?(h=a.to_a(d.get("DELIMITED_BLOCKS")["$[]"](n)),p=null==h[0]?b:h[0],t=null==h[1]?b:h[1],d.get("BlockMatchData").$new(p,t,n,f)):!0:b:!1!==g&&g!==b?(h=a.to_a(d.get("DELIMITED_BLOCKS")["$[]"](n)),p=null==h[0]?b:h[0],t=null==h[1]?b:h[1],d.get("BlockMatchData").$new(p,t,n,n)):!0});a.defs(f,"$build_block",function(a,c,e,f,g,h,k){var m,l,n=b,r=b,t=n=r=b,t=t=t=t=b;null==k&&(k=p([],{}));(m=!1!==(l=c["$=="]("skip"))&&l!==
b?l:c["$=="]("raw"))===b||m.$$is_boolean&&1!=m?(n=!1,r=c):(n=c["$=="]("skip"),r="simple");(m=e["$nil?"]())===b||m.$$is_boolean&&1!=m?(m=r["$!="]("compound"))===b||m.$$is_boolean&&1!=m?e["$=="](!1)?(r=b,n=g):(r=b,t=g.$cursor(),n=d.get("Reader").$new(g.$read_lines_until(p(["terminator","skip_processing"],{terminator:e,skip_processing:n})),t)):(r=g.$read_lines_until(p(["terminator","skip_processing"],{terminator:e,skip_processing:n})),n=b):(r["$=="]("verbatim")?r=g.$read_lines_until(p(["break_on_blank_lines",
"break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(c["$=="]("compound")&&(c="simple"),r=this.$read_paragraph_lines(g,!1,p(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),n=b);if(c["$=="]("skip"))return h.$clear(),r;if(c["$=="]("verbatim"))if((m=t=h["$[]"]("indent"))!==b&&(!m.$$is_boolean||1==m))this["$adjust_indentation!"](r,t,!1!==(m=h["$[]"]("tabsize"))&&m!==b?m:f.$document().$attributes()["$[]"]("tabsize"));else if(q(t=
(!1!==(m=h["$[]"]("tabsize"))&&m!==b?m:f.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))this["$adjust_indentation!"](r,b,t);if((m=t=k["$[]"]("extension"))===b||m.$$is_boolean&&1!=m)t=d.get("Block").$new(f,a,p(["content_model","source","attributes"],{content_model:c,source:r,attributes:h}));else{h.$delete("style");if((m=t=t.$process_method()["$[]"](f,!1!==(l=n)&&l!==b?l:d.get("Reader").$new(r),h.$dup()))===b||m.$$is_boolean&&1!=m)return b;h.$replace(t.$attributes());(m=(l=t.$content_model()["$=="]("compound"))?
(r=t.$lines())["$nil_or_empty?"]()["$!"]():t.$content_model()["$=="]("compound"))===b||m.$$is_boolean&&1!=m||(c="compound",n=d.get("Reader").$new(r))}(m=(l=h["$has_key?"]("title"),!1!==l&&l!==b?t.$document()["$attr?"](""+t.$context()+"-caption"):l))===b||m.$$is_boolean&&1!=m||(m=[h.$delete("title")],l=t,l["$title="].apply(l,m),m[m.length-1],t.$assign_caption(h.$delete("caption")));c["$=="]("compound")&&this.$parse_blocks(n,t);return t});a.defs(f,"$parse_blocks",function(a,c){for(var e,f=b;(e=a["$has_more_lines?"]())!==
b&&(!e.$$is_boolean||1==e);)if(f=d.get("Parser").$next_block(a,c),!1!==f&&f!==b)c["$<<"](f)});a.defs(f,"$next_outline_list",function(a,e,f){var g,h,k,m=b,l=b,p=g=b,r=b,t=b,m=d.get("List").$new(f,e);g=f.$context()["$=="](e)?[n(f.$level(),1)]:[1];h=m;h["$level="].apply(h,g);for(g[g.length-1];(h=(k=a["$has_more_lines?"](),!1!==k&&k!==b?l=d.get("ListRxMap")["$[]"](e).$match(a.$peek_line()):k))!==b&&(!h.$$is_boolean||1==h);){g=this.$resolve_list_marker(e,l["$[]"](1));if((h=(k=m["$items?"](),!1!==k&&k!==
b?g["$!="](m.$items()["$[]"](0).$marker()):k))===b||h.$$is_boolean&&1!=h)p=m.$level();else for(p=n(m.$level(),1),r=f;r.$context()["$=="](e);){if(g["$=="](r.$items()["$[]"](0).$marker())){p=r.$level();break}r=r.$parent()}if((h=!1!==(k=m["$items?"]()["$!"]())&&k!==b?k:p["$=="](m.$level()))!==b&&(!h.$$is_boolean||1==h))t=this.$next_list_item(a,m,l);else if(c(p,m.$level()))break;else if(q(p,m.$level()))m.$items()["$[]"](-1)["$<<"](this.$next_block(a,m));if(!1!==t&&t!==b)m["$<<"](t);t=b;a.$skip_blank_lines()}return m});
a.defs(f,"$catalog_callouts",function(a,c){var e,f,h=b,h=!1;(e=a["$include?"]("<"))===b||e.$$is_boolean&&1!=e||(e=a.$scan,e.$$p=(f=function(){var a,d=b;null==g["~"]&&(g["~"]=b);d=g["~"];(a=d["$[]"](0).$chr()["$!="]("\\"))===b||a.$$is_boolean&&1!=a||c.$callouts().$register(d["$[]"](2));return h=!0},f.$$s=this,f),e).call(a,d.get("CalloutQuickScanRx"));return h});a.defs(f,"$catalog_inline_anchors",function(a,c){var e,f;(e=a["$include?"]("["))===b||e.$$is_boolean&&1!=e||(e=a.$scan,e.$$p=(f=function(){var a,
d=b,e=b,d=b;null==g["~"]&&(g["~"]=b);d=g["~"];if((a=d["$[]"](0)["$start_with?"]("\\"))!==b&&(!a.$$is_boolean||1==a))return b;e=!1!==(a=d["$[]"](1))&&a!==b?a:d["$[]"](3);d=!1!==(a=d["$[]"](2))&&a!==b?a:d["$[]"](4);return c.$register("ids",[e,d])},f.$$s=this,f),e).call(a,d.get("InlineAnchorRx"));return b});a.defs(f,"$next_labeled_list",function(c,e,f){for(var g,h,k,m=b,l=b,p=b,n=b,r=b,m=d.get("List").$new(f,"dlist"),l=b,p=d.get("DefinitionListSiblingRx")["$[]"](e["$[]"](2));(g=!1!==(h=e)&&h!==b?h:(k=
c["$has_more_lines?"](),!1!==k&&k!==b?e=p.$match(c.$peek_line()):k))!==b&&(!g.$$is_boolean||1==g);){g=a.to_ary(this.$next_list_item(c,m,e,p));n=null==g[0]?b:g[0];r=null==g[1]?b:g[1];if((g=(h=!1!==l&&l!==b)?l["$[]"](-1)["$!"]():l)===b||g.$$is_boolean&&1!=g)m.$items()["$<<"](l=[[n],r]);else l.$pop(),l["$[]"](0)["$<<"](n),l["$<<"](r);e=b}return m});a.defs(f,"$next_list_item",function(a,c,e,f){var g,h,k=b,m=b,l=b,n=b,q=l=b,t=q=q=n=b,u=b,y=u=t=b,z=b;null==f&&(f=b);if((k=c.$context())["$=="]("dlist"))m=
d.get("ListItem").$new(c,e["$[]"](1)),l=d.get("ListItem").$new(c,e["$[]"](3)),n=e["$[]"](3)["$nil_or_empty?"]()["$!"]();else{l=e["$[]"](2);q=!1;(g=(h=k["$=="]("ulist"))?l["$start_with?"]("["):k["$=="]("ulist"))===b||g.$$is_boolean&&1!=g||((g=l["$start_with?"]("[ ] "))===b||g.$$is_boolean&&1!=g?(g=!1!==(h=l["$start_with?"]("[x] "))&&h!==b?h:l["$start_with?"]("[*] "))===b||g.$$is_boolean&&1!=g||(n=q=!0,l=l["$[]"](r(3,-1,!1)).$lstrip()):(q=!0,n=!1,l=l["$[]"](r(3,-1,!1)).$lstrip()));l=d.get("ListItem").$new(c,
l);if(!1!==q&&q!==b&&(c.$attributes()["$[]="]("checklist-option",""),l.$attributes()["$[]="]("checkbox",""),!1!==n&&n!==b))l.$attributes()["$[]="]("checked","");!1!==(g=f)&&g!==b?g:f=this.$resolve_list_marker(k,e["$[]"](1),c.$items().$size(),!0,a);g=[f];h=l;h["$marker="].apply(h,g);g[g.length-1];n=!0}a.$advance();q=a.$cursor();q=d.get("Reader").$new(this.$read_lines_for_list_item(a,k,f,n),q);if((g=q["$has_more_lines?"]())!==b&&(!g.$$is_boolean||1==g)){t=q.$skip_line_comments();u=q.$peek_line();((g=
t["$empty?"]())===b||g.$$is_boolean&&1!=g)&&q.$unshift_lines(t);(g=u["$nil?"]()["$!"]())===b||g.$$is_boolean&&1!=g?u=t=!1:(t=u["$empty?"](),(g=(h=t["$!"](),!1!==h&&h!==b?k["$!="]("dlist"):h))===b||g.$$is_boolean&&1!=g||(n=!1),u=(g=t["$!"](),!1!==g&&g!==b?u["$empty?"]()["$!"]():g));for(y=p(["text"],{text:n["$!"]()});(h=q["$has_more_lines?"]())!==b&&(!h.$$is_boolean||1==h);)if((h=z=this.$next_block(q,l,p([],{}),y))!==b&&(!h.$$is_boolean||1==h))l["$<<"](z);l.$fold_first(t,u)}if(k["$=="]("dlist")){if((g=
!1!==(h=l["$text?"]())&&h!==b?h:l["$blocks?"]())===b||g.$$is_boolean&&1!=g)l=b;return[m,l]}return l});a.defs(f,"$read_lines_for_list_item",function(a,c,e,f){var h,k,m,l,n,r,q,t,u,y,z,B,E,w=b,J=b,x=b,A=b,H=b,ea=b,ea=l=b;null==g["~"]&&(g["~"]=b);null==e&&(e=b);null==f&&(f=!0);w=[];J="inactive";x=!1;for(A=b;(k=a["$has_more_lines?"]())!==b&&(!k.$$is_boolean||1==k);){H=a.$read_line();if((k=this["$is_sibling_list_item?"](H,c,e))!==b&&(!k.$$is_boolean||1==k))break;ea=(k=w["$empty?"]())===b||k.$$is_boolean&&
1!=k?w["$[]"](-1):b;if(ea["$=="](d.get("LIST_CONTINUATION"))){if(J["$=="]("inactive")&&(J="active",f=!0,!1===x||x===b))w["$[]="](-1,"");if(H["$=="](d.get("LIST_CONTINUATION"))){(k=J["$!="]("frozen"))===b||k.$$is_boolean&&1!=k||(J="frozen",w["$<<"](H));H=b;continue}}if((k=l=this["$is_delimited_block?"](H,!0))===b||k.$$is_boolean&&1!=k)if((k=(m=(l=c["$=="]("dlist"))?J["$!="]("active"):c["$=="]("dlist"),!1!==m&&m!==b?d.get("BlockAttributeLineRx")["$=~"](H):m))===b||k.$$is_boolean&&1!=k)if((k=(m=J["$=="]("active"))?
H["$empty?"]()["$!"]():J["$=="]("active"))===b||k.$$is_boolean&&1!=k)if((k=(l=ea["$nil?"]()["$!"](),!1!==l&&l!==b?ea["$empty?"]():l))===b||k.$$is_boolean&&1!=k)(k=H["$empty?"]()["$!"]())===b||k.$$is_boolean&&1!=k||(f=!0),(k=ea=(z=(B=!1!==x&&x!==b?["dlist"]:d.get("NESTABLE_LIST_CONTEXTS")).$detect,z.$$p=(E=function(a){null==a&&(a=b);return d.get("ListRxMap")["$[]"](a)["$=~"](H)},E.$$s=this,E),z).call(B))===b||k.$$is_boolean&&1!=k||(x=!0,(k=(z=ea["$=="]("dlist"))?g["~"]["$[]"](3)["$nil_or_empty?"]():
ea["$=="]("dlist"))===b||k.$$is_boolean&&1!=k||(f=!1)),w["$<<"](H);else{if(!((k=H["$empty?"]())===b||k.$$is_boolean&&1!=k||(a.$skip_blank_lines(),H=a.$read_line(),(k=!1!==(l=H["$nil?"]())&&l!==b?l:this["$is_sibling_list_item?"](H,c,e))===b||k.$$is_boolean&&1!=k)))break;if(H["$=="](d.get("LIST_CONTINUATION")))A=w.$size(),w["$<<"](H);else if(!1!==f&&f!==b)if((k=this["$is_sibling_list_item?"](H,c,e))===b||k.$$is_boolean&&1!=k)if((k=ea=(l=(t=d.get("NESTABLE_LIST_CONTEXTS")).$detect,l.$$p=(u=function(a){null==
a&&(a=b);return d.get("ListRxMap")["$[]"](a)["$=~"](H)},u.$$s=this,u),l).call(t))===b||k.$$is_boolean&&1!=k)if((k=d.get("LiteralParagraphRx")["$=~"](H))===b||k.$$is_boolean&&1!=k)break;else a.$unshift_line(H),w.$concat((k=(l=a).$read_lines_until,k.$$p=(y=function(a){var d=y.$$s||this;null==a&&(a=b);return c["$=="]("dlist")?d["$is_sibling_list_item?"](a,c,e):c["$=="]("dlist")},y.$$s=this,y),k).call(l,p(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,
break_on_blank_lines:!0,break_on_list_continuation:!0})));else w["$<<"](H),x=!0,(k=(l=ea["$=="]("dlist"))?g["~"]["$[]"](3)["$nil_or_empty?"]():ea["$=="]("dlist"))===b||k.$$is_boolean&&1!=k||(f=!1);else break;else!1!==x&&x!==b||w.$pop(),w["$<<"](H),f=!0}else if((k=d.get("LiteralParagraphRx")["$=~"](H))===b||k.$$is_boolean&&1!=k)if((k=!1!==(l=!1!==(r=d.get("BlockTitleRx")["$=~"](H))&&r!==b?r:d.get("BlockAttributeLineRx")["$=~"](H))&&l!==b?l:d.get("AttributeEntryRx")["$=~"](H))===b||k.$$is_boolean&&
1!=k)(k=ea=(l=(r=!1!==x&&x!==b?["dlist"]:d.get("NESTABLE_LIST_CONTEXTS")).$detect,l.$$p=(q=function(a){null==a&&(a=b);return d.get("ListRxMap")["$[]"](a)["$=~"](H)},q.$$s=this,q),l).call(r))===b||k.$$is_boolean&&1!=k||(x=!0,(k=(l=ea["$=="]("dlist"))?g["~"]["$[]"](3)["$nil_or_empty?"]():ea["$=="]("dlist"))===b||k.$$is_boolean&&1!=k||(f=!1)),w["$<<"](H),J="inactive";else w["$<<"](H);else a.$unshift_line(H),w.$concat((k=(m=a).$read_lines_until,k.$$p=(n=function(a){var d=n.$$s||this;null==a&&(a=b);return c["$=="]("dlist")?
d["$is_sibling_list_item?"](a,c,e):c["$=="]("dlist")},n.$$s=this,n),k).call(m,p(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),J="inactive";else break;else if(J["$=="]("active"))w["$<<"](H),w.$concat(a.$read_lines_until(p(["terminator","read_last_line"],{terminator:l.$terminator(),read_last_line:!0}))),J="inactive";else break;H=b}!1!==H&&H!==b&&a.$unshift_line(H);for(!1!==A&&A!==b&&w.$delete_at(A);(k=
(z=w["$empty?"]()["$!"](),!1!==z&&z!==b?w["$[]"](-1)["$empty?"]():z))!==b&&(!k.$$is_boolean||1==k);)w.$pop();(h=(k=w["$empty?"]()["$!"](),!1!==k&&k!==b?w["$[]"](-1)["$=="](d.get("LIST_CONTINUATION")):k))===b||h.$$is_boolean&&1!=h||w.$pop();return w});a.defs(f,"$initialize_section",function(c,e,f){var g,h=b,k=b,m=b,l=b,n=b,r=b,q=m=l=b;null==f&&(f=p([],{}));h=e.$document();(g=h.$sourcemap())===b||g.$$is_boolean&&1!=g||(k=c.$cursor());g=a.to_ary(this.$parse_section_title(c,h));m=null==g[0]?b:g[0];l=
null==g[1]?b:g[1];n=null==g[2]?b:g[2];r=null==g[3]?b:g[3];if(!1!==l&&l!==b)f["$[]="]("reftext",l);l=d.get("Section").$new(e,r,h.$attributes()["$has_key?"]("sectnums"));!1!==k&&k!==b&&(g=[k],e=l,e["$source_location="].apply(e,g),g[g.length-1]);g=[m];e=l;e["$id="].apply(e,g);g[g.length-1];g=[n];e=l;e["$title="].apply(e,g);g[g.length-1];(g=f["$[]"](1))===b||g.$$is_boolean&&1!=g?((g=n.$downcase()["$=="]("synopsis")?h.$doctype()["$=="]("manpage"):n.$downcase()["$=="]("synopsis"))===b||g.$$is_boolean&&
1!=g?g=["sect"+l.$level()]:(g=[!0],e=l,e["$special="].apply(e,g),g[g.length-1],g=["synopsis"]),e=l,e["$sectname="].apply(e,g),g[g.length-1]):(g=a.to_ary(this.$parse_style_attribute(f,c)),m=null==g[0]?b:g[0],!1!==m&&m!==b?(g=[m],e=l,e["$sectname="].apply(e,g),g[g.length-1],g=[!0],e=l,e["$special="].apply(e,g),g[g.length-1],(g=(e=l.$sectname()["$=="]("abstract"))?h.$doctype()["$=="]("book"):l.$sectname()["$=="]("abstract"))===b||g.$$is_boolean&&1!=g||(g=["sect1"],e=l,e["$sectname="].apply(e,g),g[g.length-
1],g=[!1],e=l,e["$special="].apply(e,g),g[g.length-1],g=[1],e=l,e["$level="].apply(e,g),g[g.length-1])):(g=["sect"+l.$level()],e=l,e["$sectname="].apply(e,g),g[g.length-1]));(g=(e=l.$id()["$!"](),!1!==e&&e!==b?q=f["$[]"]("id"):e))===b||g.$$is_boolean&&1!=g?(g=l,!1!==(e=g.$id())&&e!==b?e:g["$id="](l.$generate_id())):(g=[q],e=l,e["$id="].apply(e,g),g[g.length-1]);(g=l.$id())===b||g.$$is_boolean&&1!=g||l.$document().$register("ids",[l.$id(),!1!==(g=f["$[]"]("reftext"))&&g!==b?g:l.$title()]);l.$update_attributes(f);
c.$skip_blank_lines();return l});a.defs(f,"$section_level",function(a){return d.get("SECTION_LEVELS")["$[]"](a.$chr())});a.defs(f,"$single_line_section_level",function(a){return l(a.$length(),1)});a.defs(f,"$is_next_line_section?",function(c,e){var f,g,h,k,l=b,m=b;return(f=(g=(h=(l=e["$[]"](1))["$nil?"]()["$!"](),!1!==h&&h!==b?!1!==(k=(m=l["$[]"](0).$ord())["$=="](100))&&k!==b?k:m["$=="](102):h),!1!==g&&g!==b?l["$=~"](d.get("FloatingTitleStyleRx")):g))!==b&&(!f.$$is_boolean||1==f)||(f=c["$has_more_lines?"]())===
b||f.$$is_boolean&&1!=f?!1:(f=d.get("Compliance").$underline_style_section_titles())===b||f.$$is_boolean&&1!=f?this["$is_section_title?"](c.$peek_line()):(f=this)["$is_section_title?"].apply(f,a.to_a(c.$peek_lines(2)))});a.defs(f,"$is_next_line_document_title?",function(a,b){return this["$is_next_line_section?"](a,b)["$=="](0)});a.defs(f,"$is_section_title?",function(a,d){var c,e=b;null==d&&(d=b);return(c=e=this["$is_single_line_section_title?"](a))===b||c.$$is_boolean&&1!=c?(c=!1!==d&&d!==b?e=this["$is_two_line_section_title?"](a,
d):d)===b||c.$$is_boolean&&1!=c?!1:e:e});a.defs(f,"$is_single_line_section_title?",function(a){var c,e,f,g,h=b,k=b,h=!1!==a&&a!==b?a.$chr():b;return(c=(e=!1!==(f=h["$=="]("="))&&f!==b?f:(g=d.get("Compliance").$markdown_syntax(),!1!==g&&g!==b?h["$=="]("#"):g),!1!==e&&e!==b?k=d.get("AtxSectionRx").$match(a):e))===b||c.$$is_boolean&&1!=c?!1:this.$single_line_section_level(k["$[]"](1))});a.defs(f,"$is_two_line_section_title?",function(a,c){var f,g,h,k,m;return(f=(g=(h=(k=(m=!1!==a&&a!==b?c:a,!1!==m&&
m!==b?d.get("SECTION_LEVELS")["$has_key?"](c.$chr()):m),!1!==k&&k!==b?c["$=~"](d.get("SetextSectionLineRx")):k),!1!==h&&h!==b?a["$=~"](d.get("SetextSectionTitleRx")):h),!1!==g&&g!==b?e(l(this.$line_length(a),this.$line_length(c)).$abs(),1):g))===b||f.$$is_boolean&&1!=f?!1:this.$section_level(c)});a.defs(f,"$parse_section_title",function(a,c){var f,g,k,m,p,r=b,q=b,t=b,u=b,y=b,z=b,B=b,E=b,w=b,J=b,x=b,r=a.$read_line(),t=q=b,u=-1,y=b,z=!0,B=r.$chr();(f=(g=!1!==(k=B["$=="]("="))&&k!==b?k:(m=d.get("Compliance").$markdown_syntax(),
!1!==m&&m!==b?B["$=="]("#"):m),!1!==g&&g!==b?E=d.get("AtxSectionRx").$match(r):g))===b||f.$$is_boolean&&1!=f?(f=d.get("Compliance").$underline_style_section_titles())===b||f.$$is_boolean&&1!=f||(f=(g=(k=(m=(p=J=a.$peek_line(!0),!1!==p&&p!==b?d.get("SECTION_LEVELS")["$has_key?"](J.$chr()):p),!1!==m&&m!==b?J["$=~"](d.get("SetextSectionLineRx")):m),!1!==k&&k!==b?x=d.get("SetextSectionTitleRx").$match(r):k),!1!==g&&g!==b?e(l(this.$line_length(r),this.$line_length(J)).$abs(),1):g))===b||f.$$is_boolean&&
1!=f||(t=x["$[]"](1),(f=(g=t["$end_with?"]("]]"),!1!==g&&g!==b?w=d.get("InlineSectionAnchorRx").$match(t):g))===b||f.$$is_boolean&&1!=f||(f=w["$[]"](2)["$nil?"]())===b||f.$$is_boolean&&1!=f||(t=w["$[]"](1),q=w["$[]"](3),y=w["$[]"](4)),u=this.$section_level(J),z=!1,a.$advance()):(u=this.$single_line_section_level(E["$[]"](1)),t=E["$[]"](2),(f=(g=t["$end_with?"]("]]"),!1!==g&&g!==b?w=d.get("InlineSectionAnchorRx").$match(t):g))===b||f.$$is_boolean&&1!=f||(f=w["$[]"](2)["$nil?"]())===b||f.$$is_boolean&&
1!=f||(t=w["$[]"](1),q=w["$[]"](3),y=w["$[]"](4)));h(u,0)&&(u=n(u,c.$attr("leveloffset",0).$to_i()));return[q,y,t,u,z]});a.defs(f,"$line_length",function(a){var c;return(c=d.get("FORCE_UNICODE_LINE_LENGTH"))===b||c.$$is_boolean&&1!=c?a.$length():a.$scan(d.get("UnicodeCharScanRx")).$length()});a.defs(f,"$parse_header_metadata",function(c,e){var f,g,h,k,m,l,t=b,u=b,y=b,z=b,B=z=b,E=b,w=B=b,y=u=b;null==e&&(e=b);this.$process_attribute_entries(c,e);t=p([],{});y=u=b;if((f=(g=c["$has_more_lines?"](),!1!==
g&&g!==b?c["$next_line_empty?"]()["$!"]():g))!==b&&(!f.$$is_boolean||1==f)){z=this.$process_authors(c.$read_line());if((f=z["$empty?"]())===b||f.$$is_boolean&&1!=f)!1!==e&&e!==b&&((f=(g=z).$each,f.$$p=(h=function(d,c){var f;null==d&&(d=b);null==c&&(c=b);return(f=e.$attributes()["$has_key?"](d))===b||f.$$is_boolean&&1!=f?e.$attributes()["$[]="](d,(f=c["$is_a?"](a.get("String")))===b||f.$$is_boolean&&1!=f?c:e.$apply_header_subs(c)):b},h.$$s=this,h),f).call(g),u=e.$attributes()["$[]"]("author"),y=e.$attributes()["$[]"]("authors")),
t=z;this.$process_attribute_entries(c,e);z=p([],{});if((f=(k=c["$has_more_lines?"](),!1!==k&&k!==b?c["$next_line_empty?"]()["$!"]():k))!==b&&(!f.$$is_boolean||1==f))if(B=c.$read_line(),(f=E=d.get("RevisionInfoLineRx").$match(B))===b||f.$$is_boolean&&1!=f)c.$unshift_line(B);else{if((f=E["$[]"](1))!==b&&(!f.$$is_boolean||1==f))z["$[]="]("revnumber",E["$[]"](1).$rstrip());if(!(B=E["$[]"](2).$strip())["$=="](""))if((f=(k=E["$[]"](1)["$!"](),!1!==k&&k!==b?B["$start_with?"]("v"):k))===b||f.$$is_boolean&&
1!=f)z["$[]="]("revdate",B);else z["$[]="]("revnumber",B["$[]"](r(1,-1,!1)));if((f=E["$[]"](3))!==b&&(!f.$$is_boolean||1==f))z["$[]="]("revremark",E["$[]"](3).$rstrip())}if((f=z["$empty?"]())===b||f.$$is_boolean&&1!=f)!1!==e&&e!==b&&(f=(k=z).$each,f.$$p=(m=function(a,d){var c;null==a&&(a=b);null==d&&(d=b);return(c=e.$attributes()["$has_key?"](a))===b||c.$$is_boolean&&1!=c?e.$attributes()["$[]="](a,e.$apply_header_subs(d)):b},m.$$s=this,m),f).call(k),t.$update(z);this.$process_attribute_entries(c,
e);c.$skip_blank_lines()}if(!1!==e&&e!==b){z=b;if((f=(l=e.$attributes()["$has_key?"]("author"),!1!==l&&l!==b?(w=e.$attributes()["$[]"]("author"))["$!="](u):l))===b||f.$$is_boolean&&1!=f)if((f=(l=e.$attributes()["$has_key?"]("authors"),!1!==l&&l!==b?(w=e.$attributes()["$[]"]("authors"))["$!="](y):l))===b||f.$$is_boolean&&1!=f){u=[];for(y="author_"+n(u.$size(),1);(l=e.$attributes()["$has_key?"](y))!==b&&(!l.$$is_boolean||1==l);)u["$<<"](e.$attributes()["$[]"](y)),y="author_"+n(u.$size(),1);u.$size()["$=="](1)?
z=this.$process_authors(u["$[]"](0),!0,!1):q(u.$size(),1)&&(z=this.$process_authors(u.$join("; "),!0))}else z=this.$process_authors(w,!0);else z=this.$process_authors(w,!0,!1);if(!1!==z&&z!==b&&(e.$attributes().$update(z),(f=(l=e.$attributes()["$has_key?"]("email")["$!"](),!1!==l&&l!==b?e.$attributes()["$has_key?"]("email_1"):l))!==b&&(!f.$$is_boolean||1==f)))e.$attributes()["$[]="]("email",e.$attributes()["$[]"]("email_1"))}return t});a.defs(f,"$process_authors",function(a,c,e){var f,g,h,k,l,m=this,
r=b,q=b,t=b;null==c&&(c=!1);null==e&&(e=!0);r=p([],{});q="author authorinitials firstname middlename lastname email".split(" ");t=function(){return!1!==e&&e!==b?(f=(g=a.$split(";")).$map,f.$$p=(h=function(a){null==a&&(a=b);return a.$strip()},h.$$s=m,h),f).call(g):[a]}();(f=(k=t).$each_with_index,f.$$p=(l=function(a,e){var f=l.$$s||this,g,h,k,m,t,u,y,z=b,B=b,F=b,E=F=b,D=b;null==a&&(a=b);null==e&&(e=b);if((g=a["$empty?"]())!==b&&(!g.$$is_boolean||1==g))return b;z=p([],{});(g=e["$zero?"]())===b||g.$$is_boolean&&
1!=g?(g=(m=q).$each,g.$$p=(t=function(a){null==a&&(a=b);return z["$[]="](a.$to_sym(),""+a+"_"+n(e,1))},t.$$s=f,t),g).call(m):(g=(h=q).$each,g.$$p=(k=function(a){null==a&&(a=b);return z["$[]="](a.$to_sym(),a)},k.$$s=f,k),g).call(h);B=b;!1!==c&&c!==b?B=a.$split(" ",3):(g=F=d.get("AuthorInfoLineRx").$match(a))===b||g.$$is_boolean&&1!=g||(B=F.$to_a(),B.$shift());if((g=B["$nil?"]())===b||g.$$is_boolean&&1!=g){if(r["$[]="](z["$[]"]("firstname"),F=B["$[]"](0).$tr("_"," ")),r["$[]="](z["$[]"]("author"),F),
r["$[]="](z["$[]"]("authorinitials"),F["$[]"](0,1)),(g=(u=B["$[]"](1)["$nil?"]()["$!"](),!1!==u&&u!==b?B["$[]"](2)["$nil?"]()["$!"]():u))===b||g.$$is_boolean&&1!=g?(g=B["$[]"](1)["$nil?"]()["$!"]())===b||g.$$is_boolean&&1!=g||(r["$[]="](z["$[]"]("lastname"),D=B["$[]"](1).$tr("_"," ")),r["$[]="](z["$[]"]("author"),[F,D].$join(" ")),r["$[]="](z["$[]"]("authorinitials"),[F["$[]"](0,1),D["$[]"](0,1)].$join())):(r["$[]="](z["$[]"]("middlename"),E=B["$[]"](1).$tr("_"," ")),r["$[]="](z["$[]"]("lastname"),
D=B["$[]"](2).$tr("_"," ")),r["$[]="](z["$[]"]("author"),[F,E,D].$join(" ")),r["$[]="](z["$[]"]("authorinitials"),[F["$[]"](0,1),E["$[]"](0,1),D["$[]"](0,1)].$join())),(g=!1!==(u=c)&&u!==b?u:B["$[]"](3)["$nil?"]())===b||g.$$is_boolean&&1!=g)r["$[]="](z["$[]"]("email"),B["$[]"](3))}else r["$[]="](z["$[]"]("author"),r["$[]="](z["$[]"]("firstname"),F=a.$strip().$tr_s(" "," "))),r["$[]="](z["$[]"]("authorinitials"),F["$[]"](0,1));r["$[]="]("authorcount",n(e,1));e["$=="](1)&&(g=(u=q).$each,g.$$p=(y=function(a){var d;
null==a&&(a=b);return(d=r["$has_key?"](a))===b||d.$$is_boolean&&1!=d?b:r["$[]="](""+a+"_1",r["$[]"](a))},y.$$s=f,y),g).call(u);return(g=e["$zero?"]())===b||g.$$is_boolean&&1!=g?r["$[]="]("authors",""+r["$[]"]("authors")+", "+r["$[]"](z["$[]"]("author"))):r["$[]="]("authors",r["$[]"](z["$[]"]("author")))},l.$$s=m,l),f).call(k);return r});a.defs(f,"$parse_block_metadata_lines",function(a,d,c,e){var f;null==c&&(c=p([],{}));for(null==e&&(e=p([],{}));(f=this.$parse_block_metadata_line(a,d,c,e))!==b&&(!f.$$is_boolean||
1==f);)a.$advance(),a.$skip_blank_lines();return c});a.defs(f,"$parse_block_metadata_line",function(a,c,e,f){var g,h,k,m=b,l=b,n=b,l=m=b;null==f&&(f=p([],{}));if((g=a["$has_more_lines?"]())===b||g.$$is_boolean&&1!=g)return!1;m=a.$peek_line();if((g=(h=l=m["$start_with?"]("//"),!1!==h&&h!==b?n=d.get("CommentBlockRx").$match(m):h))!==b&&(!g.$$is_boolean||1==g))m=n["$[]"](0),a.$read_lines_until(p(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,
terminator:m,skip_processing:!0}));else if((g=(h=!1!==l&&l!==b)?d.get("CommentLineRx")["$=~"](m):l)===b||g.$$is_boolean&&1!=g)if((g=(h=(k=f["$[]"]("text")["$!"](),!1!==k&&k!==b?m["$start_with?"](":"):k),!1!==h&&h!==b?n=d.get("AttributeEntryRx").$match(m):h))!==b&&(!g.$$is_boolean||1==g))this.$process_attribute_entry(a,c,e,n);else if((g=(h=l=(k=m["$start_with?"]("["),!1!==k&&k!==b?m["$end_with?"]("]"):k),!1!==h&&h!==b?n=d.get("BlockAnchorRx").$match(m):h))===b||g.$$is_boolean&&1!=g)if((g=(h=!1!==l&&
l!==b)?n=d.get("BlockAttributeListRx").$match(m):l)===b||g.$$is_boolean&&1!=g){if((g=(h=f["$[]"]("text")["$!"](),!1!==h&&h!==b?n=d.get("BlockTitleRx").$match(m):h))===b||g.$$is_boolean&&1!=g)return!1;e["$[]="]("title",n["$[]"](1))}else c.$document().$parse_attributes(n["$[]"](1),[],p(["sub_input","into"],{sub_input:!0,into:e}));else if((g=n["$[]"](1)["$nil_or_empty?"]())===b||g.$$is_boolean&&1!=g)if(e["$[]="]("id",n["$[]"](1)),(g=n["$[]"](2)["$nil?"]())===b||g.$$is_boolean&&1!=g)e["$[]="]("reftext",
n["$[]"](2));return!0});a.defs(f,"$process_attribute_entries",function(a,d,c){var e;null==c&&(c=b);for(a.$skip_comment_lines();(e=this.$process_attribute_entry(a,d,c))!==b&&(!e.$$is_boolean||1==e);)a.$advance(),a.$skip_comment_lines()});a.defs(f,"$process_attribute_entry",function(a,c,e,f){var g,h,k=b,m=b,l=b,p=b,n=b,r=b;null==e&&(e=b);null==f&&(f=b);!1!==(g=f)&&g!==b?g:f=(h=a["$has_more_lines?"]())===b||h.$$is_boolean&&1!=h?b:d.get("AttributeEntryRx").$match(a.$peek_line());if(!1!==f&&f!==b){k=f["$[]"](1);
if(((g=(m=!1!==(h=f["$[]"](2))&&h!==b?h:"")["$empty?"]())===b||g.$$is_boolean&&1!=g)&&(g=!1!==(h=m["$end_with?"](l=d.get("LINE_CONTINUATION")))&&h!==b?h:m["$end_with?"](l=d.get("LINE_CONTINUATION_LEGACY")))!==b&&(!g.$$is_boolean||1==g))for(m=m.$chop().$rstrip();(h=a.$advance())!==b&&(!h.$$is_boolean||1==h)&&((h=(p=a.$peek_line().$strip())["$empty?"]())===b||h.$$is_boolean&&1!=h)&&((h=n=p["$end_with?"](l))===b||h.$$is_boolean&&1!=h||(p=p.$chop().$rstrip()),r=(h=m["$end_with?"](d.get("LINE_BREAK")))===
b||h.$$is_boolean&&1!=h?" ":d.get("EOL"),m=""+m+r+p,!1!==n&&n!==b););this.$store_attribute(k,m,!1!==c&&c!==b?c.$document():b,e);return!0}return!1});a.defs(f,"$store_attribute",function(a,c,e,f){var g,h=b,h=b;null==e&&(e=b);null==f&&(f=b);(g=a["$end_with?"]("!"))===b||g.$$is_boolean&&1!=g?(g=a["$start_with?"]("!"))===b||g.$$is_boolean&&1!=g||(c=b,a=a["$[]"](r(1,-1,!1))):(c=b,a=a.$chop());a=this.$sanitize_attribute_name(a);h=!0;!1!==e&&e!==b&&(a["$=="]("numbered")?a="sectnums":a["$=="]("leveloffset")&&
!1!==c&&c!==b&&(h=c.$chr(),"+"["$==="](h)?c=n(e.$attr("leveloffset",0).$to_i(),(!1!==(g=c["$[]"](r(1,-1,!1)))&&g!==b?g:0).$to_i()).$to_s():"-"["$==="](h)&&(c=l(e.$attr("leveloffset",0).$to_i(),(!1!==(g=c["$[]"](r(1,-1,!1)))&&g!==b?g:0).$to_i()).$to_s())),h=!1!==c&&c!==b?e.$set_attribute(a,c):e.$delete_attribute(a));(g=!1!==h&&h!==b?f:h)===b||g.$$is_boolean&&1!=g||(!1!==c&&c!==b&&(c=e.$attributes()["$[]"](a)),d.get("Document").$$scope.get("AttributeEntry").$new(a,c).$save_to(f));return[a,c]});a.defs(f,
"$resolve_list_marker",function(a,d,c,e,f){var g;null==c&&(c=0);null==e&&(e=!1);null==f&&(f=b);return(g=a["$=="]("olist")?d["$start_with?"](".")["$!"]():a["$=="]("olist"))===b||g.$$is_boolean&&1!=g?a["$=="]("colist")?"<1>":d:this.$resolve_ordered_list_marker(d,c,e,f)});a.defs(f,"$resolve_ordered_list_marker",function(a,c,e,f){var g,h,k,m=b,l=b,p=b,m=b;null==c&&(c=0);null==e&&(e=!1);null==f&&(f=b);m=(g=(h=d.get("ORDERED_LIST_STYLES")).$detect,g.$$p=(k=function(c){null==c&&(c=b);return d.get("OrderedListMarkerRxMap")["$[]"](c)["$=~"](a)},
k.$$s=this,k),g).call(h);l=p=b;"arabic"["$==="](m)?(!1!==e&&e!==b&&(l=n(c,1),p=a.$to_i()),a="1."):"loweralpha"["$==="](m)?(!1!==e&&e!==b&&(l=n("a"["$[]"](0).$ord(),c).$chr(),p=a.$chomp(".")),a="a."):"upperalpha"["$==="](m)?(!1!==e&&e!==b&&(l=n("A"["$[]"](0).$ord(),c).$chr(),p=a.$chomp(".")),a="A."):"lowerroman"["$==="](m)?(!1!==e&&e!==b&&(l=n(c,1),p=this.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](m)&&(!1!==e&&e!==b&&(l=n(c,1),p=this.$roman_numeral_to_int(a.$chomp(")"))),a=
"I)");(g=!1!==e&&e!==b?l["$!="](p):e)===b||g.$$is_boolean&&1!=g||this.$warn("asciidoctor: WARNING: "+f.$line_info()+": list item index: expected "+l+", got "+p);return a});a.defs(f,"$is_sibling_list_item?",function(c,e,f){var g,h=b,k=b,m=b;(g=f["$is_a?"](a.get("Regexp")))===b||g.$$is_boolean&&1!=g?(h=d.get("ListRxMap")["$[]"](e),k=f):(h=f,k=!1);return(g=m=h.$match(c))===b||g.$$is_boolean&&1!=g?!1:!1!==k&&k!==b?k["$=="](this.$resolve_list_marker(e,m["$[]"](1))):!0});a.defs(f,"$next_table",function(c,
e,f){var g,h,k,m,l,p,q=b,t=b,u=b,y=b,z=b,B=b,E=b,w=b,J=b,x=b,aa=B=b,q=d.get("Table").$new(e,f);(g=f["$has_key?"]("title"))===b||g.$$is_boolean&&1!=g||(g=[f.$delete("title")],h=q,h["$title="].apply(h,g),g[g.length-1],q.$assign_caption(f.$delete("caption")));(g=f["$[]"]("cols")["$nil_or_empty?"]())===b||g.$$is_boolean&&1!=g?(q.$create_columns(this.$parse_col_specs(f["$[]"]("cols"))),t=!0):t=!1;u=c.$skip_blank_lines();y=d.get("Table").$$scope.get("ParserContext").$new(c,q,f);for(z=-1;(h=c["$has_more_lines?"]())!==
b&&(!h.$$is_boolean||1==h);){z=n(z,1);B=c.$read_line();(h=(k=(m=(l=u["$=="](0)?z["$zero?"]():u["$=="](0),!1!==l&&l!==b?f["$has_key?"]("options")["$!"]():l),!1!==m&&m!==b?(E=c.$peek_line())["$nil?"]()["$!"]():m),!1!==k&&k!==b?E["$empty?"]():k))===b||h.$$is_boolean&&1!=h||(h=[!0],k=q,k["$has_header_option="].apply(k,h),h[h.length-1],q.$set_option("header"));y.$format()["$=="]("psv")&&((h=y["$starts_with_delimiter?"](B))===b||h.$$is_boolean&&1!=h?(h=a.to_ary(this.$parse_cell_spec(B,"start",y.$delimiter())),
w=null==h[0]?b:h[0],B=null==h[1]?b:h[1],(h=w["$nil?"]()["$!"]())===b||h.$$is_boolean&&1!=h||y.$close_open_cell(w)):(B=B["$[]"](r(1,-1,!1)),y.$close_open_cell()));for(J=!1;(k=!1!==(m=J["$!"]())&&m!==b?m:B["$empty?"]()["$!"]())!==b&&(!k.$$is_boolean||1==k);)if(J=!0,(k=x=y.$match_delimiter(B))===b||k.$$is_boolean&&1!=k)k=[""+y.$buffer()+B+d.get("EOL")],m=y,m["$buffer="].apply(m,k),k[k.length-1],y.$format()["$=="]("csv")&&(k=[""+y.$buffer().$rstrip()+" "],m=y,m["$buffer="].apply(m,k),k[k.length-1]),B=
"",(k=!1!==(m=y.$format()["$=="]("psv"))&&m!==b?m:(l=y.$format()["$=="]("csv"))?y["$buffer_has_unclosed_quotes?"]():y.$format()["$=="]("csv"))===b||k.$$is_boolean&&1!=k?y.$close_cell(!0):y.$keep_cell_open();else{if(y.$format()["$=="]("csv")){if((k=y["$buffer_has_unclosed_quotes?"](x.$pre_match()))!==b&&(!k.$$is_boolean||1==k)){B=y.$skip_matched_delimiter(x);continue}}else if((k=x.$pre_match()["$end_with?"]("\\"))!==b&&(!k.$$is_boolean||1==k)){if((k=(B=y.$skip_matched_delimiter(x,!0))["$empty?"]())!==
b&&(!k.$$is_boolean||1==k)){k=[""+y.$buffer()+d.get("EOL")];m=y;m["$buffer="].apply(m,k);k[k.length-1];y.$keep_cell_open();break}continue}y.$format()["$=="]("psv")?(k=a.to_ary(this.$parse_cell_spec(x.$pre_match(),"end")),w=null==k[0]?b:k[0],B=null==k[1]?b:k[1],y.$push_cell_spec(w),k=[""+y.$buffer()+B]):k=[""+y.$buffer()+x.$pre_match()];m=y;m["$buffer="].apply(m,k);k[k.length-1];(B=x.$post_match())["$=="]("")&&(J=!1);y.$close_cell()}if((h=y["$cell_open?"]())===b||h.$$is_boolean&&1!=h)u=c.$skip_blank_lines();
if((h=c["$has_more_lines?"]())===b||h.$$is_boolean&&1!=h)(h=y["$cell_open?"]())===b||h.$$is_boolean&&1!=h||y.$close_cell(!0)}g="colcount";h=q.$attributes();!1!==(k=h["$[]"](g))&&k!==b?k:h["$[]="](g,y.$col_count());(g=t["$!"]())===b||g.$$is_boolean&&1!=g||(aa=A(100,y.$col_count()).$floor(),(g=(h=q.$columns()).$each,g.$$p=(p=function(a){null==a&&(a=b);return a.$assign_width(0,aa)},p.$$s=this,p),g).call(h));q.$partition_header_footer(f);return q});a.defs(f,"$parse_col_specs",function(c){var e,f,g,h,
k,m=b;if((e=d.get("DigitsRx")["$=~"](c))!==b&&(!e.$$is_boolean||1==e))return(e=(f=a.get("Array")).$new,e.$$p=(g=function(){return p(["width"],{width:1})},g.$$s=this,g),e).call(f,c.$to_i());m=[];(e=(h=c.$split(",",-1)).$each,e.$$p=(k=function(c){var e=k.$$s||this,f,g,h,l=b,n=b,r=b,q=b;null==c&&(c=b);if(c["$=="](""))return m["$<<"](p(["width"],{width:1}));if((f=l=d.get("ColumnSpecRx").$match(c))===b||f.$$is_boolean&&1!=f)return b;n=p([],{});if((f=l["$[]"](2))!==b&&(!f.$$is_boolean||1==f)){f=a.to_ary(l["$[]"](2).$split("."));
r=null==f[0]?b:f[0];q=null==f[1]?b:f[1];if((f=(g=r["$nil_or_empty?"]()["$!"](),!1!==g&&g!==b?d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](r):g))!==b&&(!f.$$is_boolean||1==f))n["$[]="]("halign",d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](r));if((f=(g=q["$nil_or_empty?"]()["$!"](),!1!==g&&g!==b?d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](q):g))!==b&&(!f.$$is_boolean||1==f))n["$[]="]("valign",d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](q))}n["$[]="]("width",
(f=l["$[]"](3))===b||f.$$is_boolean&&1!=f?1:l["$[]"](3).$to_i());if((f=(g=l["$[]"](4),!1!==g&&g!==b?d.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](l["$[]"](4)):g))!==b&&(!f.$$is_boolean||1==f))n["$[]="]("style",d.get("Table").$$scope.get("TEXT_STYLES")["$[]"](l["$[]"](4)));return(f=l["$[]"](1))===b||f.$$is_boolean&&1!=f?m["$<<"](n):(f=(g=1).$upto,f.$$p=(h=function(){return m["$<<"](n.$dup())},h.$$s=e,h),f).call(g,l["$[]"](1).$to_i())},k.$$s=this,k),e).call(h);return m});a.defs(f,"$parse_cell_spec",
function(c,e,f){var g,h,k=b,m=b,l=b,n=l=k=b,r=b;null==e&&(e="start");null==f&&(f=b);k=b;m="";l=e;if("start"["$==="](l)){if((g=c["$include?"](f))===b||g.$$is_boolean&&1!=g)return[b,c];g=a.to_ary(c.$split(f,2));k=null==g[0]?b:g[0];m=null==g[1]?b:g[1];if((g=k=d.get("CellSpecStartRx").$match(k))===b||g.$$is_boolean&&1!=g)return[b,c];if((g=k["$[]"](0)["$empty?"]())!==b&&(!g.$$is_boolean||1==g))return[p([],{}),m]}else if("end"["$==="](l)){if((g=k=d.get("CellSpecEndRx").$match(c))===b||g.$$is_boolean&&1!=
g)return[p([],{}),c];if((g=k["$[]"](0).$lstrip()["$empty?"]())!==b&&(!g.$$is_boolean||1==g))return[p([],{}),c.$rstrip()];m=k.$pre_match()}l=p([],{});if((g=k["$[]"](1))!==b&&(!g.$$is_boolean||1==g))if(g=a.to_ary(k["$[]"](1).$split(".")),n=null==g[0]?b:g[0],r=null==g[1]?b:g[1],n=(g=n["$nil_or_empty?"]())===b||g.$$is_boolean&&1!=g?n.$to_i():1,r=(g=r["$nil_or_empty?"]())===b||g.$$is_boolean&&1!=g?r.$to_i():1,k["$[]"](2)["$=="]("+")){if(!n["$=="](1))l["$[]="]("colspan",n);if(!r["$=="](1))l["$[]="]("rowspan",
r)}else if(k["$[]"](2)["$=="]("*")&&!n["$=="](1))l["$[]="]("repeatcol",n);if((g=k["$[]"](3))!==b&&(!g.$$is_boolean||1==g)){g=a.to_ary(k["$[]"](3).$split("."));n=null==g[0]?b:g[0];r=null==g[1]?b:g[1];if((g=(h=n["$nil_or_empty?"]()["$!"](),!1!==h&&h!==b?d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](n):h))!==b&&(!g.$$is_boolean||1==g))l["$[]="]("halign",d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](n));if((g=(h=r["$nil_or_empty?"]()["$!"](),!1!==h&&h!==b?d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](r):
h))!==b&&(!g.$$is_boolean||1==g))l["$[]="]("valign",d.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](r))}if((g=(h=k["$[]"](4),!1!==h&&h!==b?d.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](k["$[]"](4)):h))!==b&&(!g.$$is_boolean||1==g))l["$[]="]("style",d.get("Table").$$scope.get("TEXT_STYLES")["$[]"](k["$[]"](4)));return[l,m]});a.defs(f,"$parse_style_attribute",function(a,c){var e,f,g,h,k,l,r,q=b,t=b,u=b,y=b,z=b,B=b,E=t=g=b;null==c&&(c=b);q=a["$[]"]("style");t=a["$[]"](1);if((e=(f=
(g=!1!==t&&t!==b)?t["$include?"](" ")["$!"]():t,!1!==f&&f!==b?d.get("Compliance").$shorthand_property_syntax():f))===b||e.$$is_boolean&&1!=e)return a["$[]="]("style",t),[t,q];u="style";y=[];z=p([],{});B=(e=(f=this).$lambda,e.$$p=(h=function(){var a=h.$$s||this,d,e,f=b;return(d=y["$empty?"]())===b||d.$$is_boolean&&1!=d?(f=u,"role"["$==="](f)||"option"["$==="](f)?(d=u,a=z,!1!==(e=a["$[]"](d))&&e!==b?e:a["$[]="](d,[]),z["$[]"](u).$push(y.$join())):("id"["$==="](f)&&((d=z["$has_key?"]("id"))===b||d.$$is_boolean&&
1!=d||a.$warn("asciidoctor: WARNING:"+((d=c["$nil?"]())===b||d.$$is_boolean&&1!=d?" "+c.$prev_line_info()+":":b)+" multiple ids detected in style attribute")),z["$[]="](u,y.$join())),y=[]):(d=u["$!="]("style"))===b||d.$$is_boolean&&1!=d?b:a.$warn("asciidoctor: WARNING:"+((d=c["$nil?"]())===b||d.$$is_boolean&&1!=d?" "+c.$prev_line_info()+":":b)+" invalid empty "+u+" detected in style attribute")},h.$$s=this,h),e).call(f);(e=(g=t).$each_char,e.$$p=(k=function(a){var d,c,e,f=b;null==a&&(a=b);if((d=!1!==
(c=!1!==(e=a["$=="]("."))&&e!==b?e:a["$=="]("#"))&&c!==b?c:a["$=="]("%"))===b||d.$$is_boolean&&1!=d)return y.$push(a);B.$call();f=a;return"."["$==="](f)?u="role":"#"["$==="](f)?u="id":"%"["$==="](f)?u="option":b},k.$$s=this,k),e).call(g);if(u["$=="]("style"))g=a["$[]="]("style",t);else{B.$call();g=(e=z["$has_key?"]("style"))===b||e.$$is_boolean&&1!=e?b:a["$[]="]("style",z["$[]"]("style"));if((e=z["$has_key?"]("id"))!==b&&(!e.$$is_boolean||1==e))a["$[]="]("id",z["$[]"]("id"));if((e=z["$has_key?"]("role"))!==
b&&(!e.$$is_boolean||1==e))a["$[]="]("role",m(z["$[]"]("role")," "));if((e=z["$has_key?"]("option"))!==b&&(!e.$$is_boolean||1==e))if((e=(l=t=z["$[]"]("option")).$each,e.$$p=(r=function(d){null==d&&(d=b);return a["$[]="](""+d+"-option","")},r.$$s=this,r),e).call(l),(e=E=a["$[]"]("options"))===b||e.$$is_boolean&&1!=e)a["$[]="]("options",m(t,","));else a["$[]="]("options",m(n(t,E.$split(",")),","))}return[g,q]});a.defs(f,"$adjust_indentation!",function(a,c,e){var f,h,k,p,t,u,y,z=b,B=b,E=b;null==c&&(c=
0);null==e&&(e=0);if((f=a["$empty?"]())!==b&&(!f.$$is_boolean||1==f))return b;(f=(h=q(e=e.$to_i(),0))?a.$join()["$include?"](d.get("TAB")):q(e=e.$to_i(),0))===b||f.$$is_boolean&&1!=f||(z=m(" ",e),(f=(h=a)["$map!"],f.$$p=(k=function(a){var c=k.$$s||this,f,h,p,r,q,t=b;null==a&&(a=b);if((f=a["$empty?"]())!==b&&(!f.$$is_boolean||1==f))return a;(f=a["$start_with?"](d.get("TAB")))===b||f.$$is_boolean&&1!=f||(f=(h=a)["$sub!"],f.$$p=(p=function(a){null==a&&(a=b);return m(z,a.$length())},p.$$s=c,p),f).call(h,
d.get("TabIndentRx"));if((f=a["$include?"](d.get("TAB")))===b||f.$$is_boolean&&1!=f)return a;t=0;return(f=(r=a)["$gsub!"],f.$$p=(q=function(){var a=b,d=b;null==g["~"]&&(g["~"]=b);if((a=n(g["~"].$begin(0),t))["$%"](e)["$=="](0))return t=n(t,l(e,1)),z;(d=l(e,a["$%"](e)))["$=="](1)||(t=n(t,l(d,1)));return m(" ",d)},q.$$s=c,q),f).call(r,d.get("TabRx"))},k.$$s=this,k),f).call(h));if((f=(h=!1!==c&&c!==b)?q(c=c.$to_i(),-1):c)===b||f.$$is_boolean&&1!=f)return b;B=b;(f=(h=a).$each,f.$$p=(p=function(a){var d,
c=b;null==a&&(a=b);return(d=a["$empty?"]())===b||d.$$is_boolean&&1!=d?(c=l(a.$length(),a.$lstrip().$length()))["$=="](0)?(B=b,w.$v=b,w):(d=!1!==B&&B!==b?q(c,B):B)===b||d.$$is_boolean&&1!=d?B=c:b:b},p.$$s=this,p),f).call(h);c["$=="](0)?!1!==B&&B!==b&&(f=a["$map!"],f.$$p=(t=function(a){var d;null==a&&(a=b);return(d=a["$empty?"]())===b||d.$$is_boolean&&1!=d?a["$[]"](r(B,-1,!1)):a},t.$$s=this,t),f).call(a):(E=m(" ",c),!1!==B&&B!==b?(f=a["$map!"],f.$$p=(u=function(a){var d;null==a&&(a=b);return(d=a["$empty?"]())===
b||d.$$is_boolean&&1!=d?n(E,a["$[]"](r(B,-1,!1))):a},u.$$s=this,u),f).call(a):(f=a["$map!"],f.$$p=(y=function(a){var d;null==a&&(a=b);return(d=a["$empty?"]())===b||d.$$is_boolean&&1!=d?n(E,a):a},y.$$s=this,y),f).call(a));return b});a.defs(f,"$sanitize_attribute_name",function(a){return a.$gsub(d.get("InvalidAttributeNameCharsRx"),"").$downcase()});return(a.defs(f,"$roman_numeral_to_int",function(a){var d,e,f,g=b,h=b;a=a.$downcase();g=p(["i","v","x"],{i:1,v:5,x:10});h=0;(d=(e=r(0,l(a.$length(),1),
!1)).$each,d.$$p=(f=function(d){var e,f=b;null==d&&(d=b);f=g["$[]"](a["$[]"](r(d,d,!1)));return(e=c(n(d,1),a.$length())?q(g["$[]"](a["$[]"](r(n(d,1),n(d,1),!1))),f):c(n(d,1),a.$length()))===b||e.$$is_boolean&&1!=e?h=n(h,f):h=l(h,f)},f.$$s=this,f),d).call(e);return h}),b)&&"roman_numeral_to_int"})(x(k,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/path_resolver"]=function(a){function n(a,e){return"number"===typeof a&&"number"===typeof e?a*e:a["$*"](e)}a.dynamic_require_severity="ignore";var q=a.nil,m=a.module,h=a.klass,l=a.hash2,e=a.range;return function(c){(function(c,$super){function m(){}var x=m=h(c,$super,"PathResolver",m),u=x.$$proto,p=x.$$scope;u.file_separator=u._partition_path_web=u._partition_path_sys=u.working_dir=q;a.cdecl(p,"DOT",".");a.cdecl(p,"DOT_DOT","..");a.cdecl(p,"DOT_SLASH","./");a.cdecl(p,"SLASH",
"/");a.cdecl(p,"BACKSLASH","\\");a.cdecl(p,"DOUBLE_SLASH","//");a.cdecl(p,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);x.$attr_accessor("file_separator");x.$attr_accessor("working_dir");a.defn(x,"$initialize",function(c,e){var h;null==c&&(c=q);null==e&&(e=q);this.file_separator=!1!==c&&c!==q?c:!1!==(h=a.get("File").$$scope.get("ALT_SEPARATOR"))&&h!==q?h:a.get("File").$$scope.get("SEPARATOR");this.working_dir=!1!==e&&e!==q?(h=this["$is_root?"](e))===q||h.$$is_boolean&&1!=h?a.get("File").$expand_path(e):
e:a.get("File").$expand_path(a.get("Dir").$pwd());this._partition_path_sys=l([],{});return this._partition_path_web=l([],{})});a.defn(x,"$is_root?",function(a){var c;return(c=a["$start_with?"](p.get("SLASH")))===q||c.$$is_boolean&&1!=c?(c=this.file_separator["$=="](p.get("BACKSLASH"))?p.get("WindowsRootRx")["$=~"](a):this.file_separator["$=="](p.get("BACKSLASH")))===q||c.$$is_boolean&&1!=c?!1:!0:!0});a.defn(x,"$is_unc?",function(a){return a["$start_with?"](p.get("DOUBLE_SLASH"))});a.defn(x,"$is_web_root?",
function(a){return a["$start_with?"](p.get("SLASH"))});a.defn(x,"$posixfy",function(a){var c;return(c=a["$nil_or_empty?"]())===q||c.$$is_boolean&&1!=c?(c=a["$include?"](p.get("BACKSLASH")))===q||c.$$is_boolean&&1!=c?a:a.$tr(p.get("BACKSLASH"),p.get("SLASH")):""});a.defn(x,"$expand_path",function(c){var e=q,h=q;c=a.to_ary(this.$partition_path(c));e=null==c[0]?q:c[0];h=null==c[1]?q:c[1];return this.$join_path(e,h)});a.defn(x,"$partition_path",function(a,c){var h,m=q,l=m=q,n=q;null==c&&(c=!1);if((h=
m=!1!==c&&c!==q?this._partition_path_web["$[]"](a):this._partition_path_sys["$[]"](a))!==q&&(!h.$$is_boolean||1==h))return m;m=this.$posixfy(a);l=!1!==c&&c!==q?(h=this["$is_web_root?"](m))===q||h.$$is_boolean&&1!=h?(h=m["$start_with?"](p.get("DOT_SLASH")))===q||h.$$is_boolean&&1!=h?q:p.get("DOT_SLASH"):p.get("SLASH"):(h=this["$is_root?"](m))===q||h.$$is_boolean&&1!=h?(h=m["$start_with?"](p.get("DOT_SLASH")))===q||h.$$is_boolean&&1!=h?q:p.get("DOT_SLASH"):(h=this["$is_unc?"](m))===q||h.$$is_boolean&&
1!=h?(h=m["$start_with?"](p.get("SLASH")))===q||h.$$is_boolean&&1!=h?m["$[]"](e(0,m.$index(p.get("SLASH")),!1)):p.get("SLASH"):p.get("DOUBLE_SLASH");n=m.$split(p.get("SLASH"));l["$=="](p.get("DOUBLE_SLASH"))?n=n["$[]"](e(2,-1,!1)):!1!==l&&l!==q&&n.$shift();n.$delete(p.get("DOT"));return(!1!==c&&c!==q?this._partition_path_web:this._partition_path_sys)["$[]="](a,[n,l,m])});a.defn(x,"$join_path",function(a,c){null==c&&(c=q);return!1!==c&&c!==q?""+c+n(a,p.get("SLASH")):n(a,p.get("SLASH"))});a.defn(x,
"$system_path",function(c,e,h,m){var n,u,f,d=q,y=q,E=q,B=q,w=q,F=w=E=q,v=q;null==h&&(h=q);null==m&&(m=l([],{}));!1!==h&&h!==q&&(((n=this["$is_root?"](h))===q||n.$$is_boolean&&1!=n)&&this.$raise(a.get("SecurityError"),"Jail is not an absolute path: "+h),h=this.$posixfy(h));(n=c["$nil_or_empty?"]())===q||n.$$is_boolean&&1!=n?(n=a.to_ary(this.$partition_path(c)),d=null==n[0]?q:n[0],y=null==n[1]?q:n[1]):d=[];if((n=d["$empty?"]())!==q&&(!n.$$is_boolean||1==n))if((n=e["$nil_or_empty?"]())===q||n.$$is_boolean&&
1!=n){if((n=this["$is_root?"](e))===q||n.$$is_boolean&&1!=n)return this.$system_path(e,h,h,m);if(!1===h||h===q)return this.$expand_path(e)}else return!1!==h&&h!==q?h:this.working_dir;if(!((n=(u=!1!==y&&y!==q)?y["$!="](p.get("DOT_SLASH")):y)===q||n.$$is_boolean&&1!=n||(E=this.$join_path(d,y),(n=!1!==(u=h["$!"]())&&u!==q?u:E["$start_with?"](h))===q||n.$$is_boolean&&1!=n)))return E;e=(n=e["$nil_or_empty?"]())===q||n.$$is_boolean&&1!=n?(n=this["$is_root?"](e))===q||n.$$is_boolean&&1!=n?this.$system_path(e,
h,h,m):this.$posixfy(e):!1!==h&&h!==q?h:this.working_dir;h["$=="](e)?(n=a.to_ary(this.$partition_path(h)),B=null==n[0]?q:n[0],w=null==n[1]?q:n[1],E=B.$dup()):(!1!==h&&h!==q?(((n=e["$start_with?"](h))===q||n.$$is_boolean&&1!=n)&&this.$raise(a.get("SecurityError"),""+(!1!==(n=m["$[]"]("target_name"))&&n!==q?n:"Start path")+" "+e+" is outside of jail: "+h+" (disallowed in safe mode)"),n=a.to_ary(this.$partition_path(e)),E=null==n[0]?q:n[0],w=null==n[1]?q:n[1],n=a.to_ary(this.$partition_path(h)),B=null==
n[0]?q:n[0]):(n=a.to_ary(this.$partition_path(e)),E=null==n[0]?q:n[0]),w=null==n[1]?q:n[1]);F=E.$dup();v=!1;(n=(u=d).$each,n.$$p=(f=function(d){var e=f.$$s||this,g;null==d&&(d=q);if(d["$=="](p.get("DOT_DOT"))){if(!1!==h&&h!==q){d=F.$length();var l=B.$length();if("number"===typeof d&&"number"===typeof l?d>l:d["$>"](l))return F.$pop();if((g=(!1!==q&&q!==q?q:m.$fetch("recover",!0))["$!"]())===q||g.$$is_boolean&&1!=g){if((g=v["$!"]())===q||g.$$is_boolean&&1!=g)return q;e.$warn("asciidoctor: WARNING: "+
(!1!==(g=m["$[]"]("target_name"))&&g!==q?g:"path")+" has illegal reference to ancestor of jail, auto-recovering");return v=!0}return e.$raise(a.get("SecurityError"),""+(!1!==(g=m["$[]"]("target_name"))&&g!==q?g:"path")+" "+c+" refers to location outside jail: "+h+" (disallowed in safe mode)")}return F.$pop()}return F.$push(d)},f.$$s=this,f),n).call(u);return this.$join_path(F,w)});a.defn(x,"$web_path",function(c,g){var h,m,l,n=q,f=q,d=q,u=q;null==g&&(g=q);c=this.$posixfy(c);g=this.$posixfy(g);n=q;
if((h=!1!==(m=g["$nil_or_empty?"]())&&m!==q?m:this["$is_web_root?"](c))===q||h.$$is_boolean&&1!=h)c=""+g+p.get("SLASH")+c,(h=n=p.get("Helpers").$uri_prefix(c))===q||h.$$is_boolean&&1!=h||(c=c["$[]"](e(n.$length(),-1,!1)));h=a.to_ary(this.$partition_path(c,!0));f=null==h[0]?q:h[0];d=null==h[1]?q:h[1];u=[];(h=(m=f).$each,h.$$p=(l=function(a){var c;null==a&&(a=q);return a["$=="](p.get("DOT_DOT"))?(c=u["$empty?"]())===q||c.$$is_boolean&&1!=c?u["$[]"](-1)["$=="](p.get("DOT_DOT"))?u["$<<"](a):u.$pop():
(c=!1!==d&&d!==q?d["$!="](p.get("DOT_SLASH")):d)===q||c.$$is_boolean&&1!=c?u["$<<"](a):q:u["$<<"](a)},l.$$s=this,l),h).call(m);return!1!==n&&n!==q?""+n+this.$join_path(u,d):this.$join_path(u,d)});return(a.defn(x,"$relative_path",function(a,c){var h,m,l=q;if((h=(m=this["$is_root?"](a),!1!==m&&m!==q?this["$is_root?"](c):m))===q||h.$$is_boolean&&1!=h)return a;h=c.$chomp(this.file_separator).$length();l="number"===typeof h?h+1:h["$+"](1);return a["$[]"](e(l,-1,!1))}),q)&&"relative_path"})(m(c,"Asciidoctor").$$scope.base,
null)}(a.base)};
Opal.modules["asciidoctor/reader"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}a.dynamic_require_severity="ignore";var e=a.nil,c=a.breaker,A=
a.slice,b=a.module,w=a.klass,x=a.hash2,u=a.range;return function(p){p=b(p,"Asciidoctor").$$scope;(function(b,$super){function k(){}var l=k=w(b,$super,"Reader",k),p=l.$$proto,z=l.$$scope,f;p.file=p.dir=p.lines=p.process_lines=p.look_ahead=p.eof=p.unescape_next_line=p.lineno=p.path=p.source_lines=e;(function(b,$super){function c(){}var f=c=w(b,$super,"Cursor",c);f.$attr_accessor("file");f.$attr_accessor("dir");f.$attr_accessor("path");f.$attr_accessor("lineno");a.defn(f,"$initialize",function(a,b,d,
c){null==b&&(b=e);null==d&&(d=e);null==c&&(c=e);this.file=a;this.dir=b;this.path=d;return this.lineno=c});a.defn(f,"$line_info",function(){return""+this.$path()+": line "+this.$lineno()});return a.alias(f,"to_s","line_info")})(z.base,null);l.$attr_reader("file");l.$attr_reader("dir");l.$attr_reader("path");l.$attr_reader("lineno");l.$attr_reader("source_lines");l.$attr_accessor("process_lines");a.defn(l,"$initialize",function(b,c,f){var h;null==b&&(b=e);null==c&&(c=e);null==f&&(f=x(["normalize"],
{normalize:!1}));if((h=c["$!"]())===e||h.$$is_boolean&&1!=h)if((h=c["$is_a?"](a.get("String")))===e||h.$$is_boolean&&1!=h){this.file=c.$file();this.dir=c.$dir();this.path=!1!==(h=c.$path())&&h!==e?h:"<stdin>";if((h=this.file)!==e&&(!h.$$is_boolean||1==h)){if((h=this.dir)===e||h.$$is_boolean&&1!=h)this.dir=a.get("File").$dirname(this.file),this.dir["$=="](".")&&(this.dir=e);if((h=c.$path())===e||h.$$is_boolean&&1!=h)this.path=a.get("File").$basename(this.file)}this.lineno=!1!==(h=c.$lineno())&&h!==
e?h:1}else this.file=c,h=a.to_ary(a.get("File").$split(this.file)),this.dir=null==h[0]?e:h[0],this.path=null==h[1]?e:h[1],this.lineno=1;else this.file=this.dir=e,this.path="<stdin>",this.lineno=1;this.lines=!1!==b&&b!==e?this.$prepare_lines(b,f):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=!1});a.defn(l,"$prepare_lines",function(b,c){var f;null==c&&(c=x([],{}));return(f=b["$is_a?"](a.get("String")))===
e||f.$$is_boolean&&1!=f?(f=c["$[]"]("normalize"))===e||f.$$is_boolean&&1!=f?b.$dup():z.get("Helpers").$normalize_lines_array(b):(f=c["$[]"]("normalize"))===e||f.$$is_boolean&&1!=f?b.$split(z.get("EOL")):z.get("Helpers").$normalize_lines_from_string(b)});a.defn(l,"$process_line",function(a){var b;(b=this.process_lines)===e||b.$$is_boolean&&1!=b||(this.look_ahead=n(this.look_ahead,1));return a});a.defn(l,"$has_more_lines?",function(){var a;return(!1!==(a=this.eof)&&a!==e?a:this.eof=this.$peek_line()["$nil?"]())["$!"]()});
a.defn(l,"$next_line_empty?",function(){return this.$peek_line()["$nil_or_empty?"]()});a.defn(l,"$peek_line",function(a){var b,c,f=e;null==a&&(a=!1);if((b=!1!==(c=a)&&c!==e?c:q(this.look_ahead,0))===e||b.$$is_boolean&&1!=b){if((b=!1!==(c=this.eof)&&c!==e?c:this.lines["$empty?"]())===e||b.$$is_boolean&&1!=b)return(b=(f=this.$process_line(this.lines["$[]"](0)))["$!"]())===e||b.$$is_boolean&&1!=b?f:this.$peek_line();this.eof=!0;this.look_ahead=0;return e}return(b=this.unescape_next_line)===e||b.$$is_boolean&&
1!=b?this.lines["$[]"](0):this.lines["$[]"](0)["$[]"](u(1,-1,!1))});a.defn(l,"$peek_lines",function(a,b){var f,h,k,l,m,p=e,n=e;null==a&&(a=1);null==b&&(b=!0);p=this.look_ahead;n=[];(f=(h=a).$times,f.$$p=(k=function(){var a,d=e;return(a=d=(k.$$s||this).$read_line(b))===e||a.$$is_boolean&&1!=a?(c.$v=e,c):n["$<<"](d)},k.$$s=this,k),f).call(h);if((f=n["$empty?"]())===e||f.$$is_boolean&&1!=f)(f=(l=n).$reverse_each,f.$$p=(m=function(a){var b=m.$$s||this;null==a&&(a=e);return b.$unshift(a)},m.$$s=this,m),
f).call(l),!1!==b&&b!==e&&(this.look_ahead=p);return n});a.defn(l,"$read_line",function(a){var b,c,f;null==a&&(a=!1);return(b=!1!==(c=!1!==(f=a)&&f!==e?f:q(this.look_ahead,0))&&c!==e?c:this["$has_more_lines?"]())===e||b.$$is_boolean&&1!=b?e:this.$shift()});a.defn(l,"$read_lines",function(){for(var a,b=e,b=[];(a=this["$has_more_lines?"]())!==e&&(!a.$$is_boolean||1==a);)b["$<<"](this.$shift());return b});a.alias(l,"readlines","read_lines");a.defn(l,"$read",function(){return m(this.$read_lines(),z.get("EOL"))});
a.defn(l,"$advance",function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()});a.defn(l,"$unshift_line",function(a){this.$unshift(a);return e});a.alias(l,"restore_line","unshift_line");a.defn(l,"$unshift_lines",function(a){var b,c;(b=a.$reverse_each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=e);return b.$unshift(a)},c.$$s=this,c),b).call(a);return e});a.alias(l,"restore_lines","unshift_lines");a.defn(l,"$replace_line",function(a){this.$advance();this.$unshift(a);return e});a.defn(l,
"$skip_blank_lines",function(){var a,b,c=e,f=e;if((a=this["$eof?"]())!==e&&(!a.$$is_boolean||1==a))return 0;for(c=0;!((b=f=this.$peek_line())===e||b.$$is_boolean&&1!=b||(b=f["$empty?"]())===e||b.$$is_boolean&&1!=b);)this.$advance(),c=n(c,1);return c});a.defn(l,"$skip_comment_lines",function(b){var c,f,h=e,k=e,l=e,m=e,p=e;null==b&&(b=x([],{}));if((c=this["$eof?"]())!==e&&(!c.$$is_boolean||1==c))return[];h=[];for(k=b["$[]"]("include_blank_lines");(f=l=this.$peek_line())!==e&&(!f.$$is_boolean||1==f);)if((f=
(b=!1!==k&&k!==e)?l["$empty?"]():k)===e||f.$$is_boolean&&1!=f)if((f=(b=m=l["$start_with?"]("//"),!1!==b&&b!==e?p=z.get("CommentBlockRx").$match(l):b))===e||f.$$is_boolean&&1!=f)if((b=!1!==m&&m!==e?z.get("CommentLineRx")["$=~"](l):m)===e||b.$$is_boolean&&1!=b)break;else h["$<<"](this.$shift());else h["$<<"](this.$shift()),(f=h).$push.apply(f,a.to_a(this.$read_lines_until(x(["terminator","read_last_line","skip_processing"],{terminator:p["$[]"](0),read_last_line:!0,skip_processing:!0}))));else h["$<<"](this.$shift());
return h});a.defn(l,"$skip_line_comments",function(){var a,b,c=e,f=e;if((a=this["$eof?"]())!==e&&(!a.$$is_boolean||1==a))return[];for(c=[];!((b=f=this.$peek_line())===e||b.$$is_boolean&&1!=b||(b=z.get("CommentLineRx")["$=~"](f))===e||b.$$is_boolean&&1!=b);)c["$<<"](this.$shift());return c});a.defn(l,"$terminate",function(){this.lineno=n(this.lineno,this.lines.$size());this.lines.$clear();this.eof=!0;this.look_ahead=0;return e});a.defn(l,"$eof?",function(){return this["$has_more_lines?"]()["$!"]()});
a.alias(l,"empty?","eof?");a.defn(l,"$read_lines_until",f=function(b){var k,l,m,p,n,q=f.$$p||e,r=e,t=e,u=e,w=e,C=e,A=e,fa=e,ca=e,Z=e,Y=e;null==b&&(b=x([],{}));f.$$p=null;r=[];(k=b["$[]"]("skip_first_line"))===e||k.$$is_boolean&&1!=k||this.$advance();(k=(l=this.process_lines,!1!==l&&l!==e?b["$[]"]("skip_processing"):l))===e||k.$$is_boolean&&1!=k?t=!1:(this.process_lines=!1,t=!0);(k=u=b["$[]"]("terminator"))===e||k.$$is_boolean&&1!=k?(w=b["$[]"]("break_on_blank_lines"),C=b["$[]"]("break_on_list_continuation")):
C=w=!1;A=b["$[]"]("skip_line_comments");for(Z=ca=fa=!1;(l=(m=Z["$!"](),!1!==m&&m!==e?Y=this.$read_line():m))!==e&&(!l.$$is_boolean||1==l);)if(Z=function(){for(;(m=!0)!==e&&(!m.$$is_boolean||1==m);)return((m=(p=!1!==u&&u!==e)?Y["$=="](u):u)===e||m.$$is_boolean&&1!=m)&&((m=(p=!1!==w&&w!==e)?Y["$empty?"]():w)===e||m.$$is_boolean&&1!=m)?(m=(p=(n=!1!==C&&C!==e)?fa:C,!1!==p&&p!==e?Y["$=="](z.get("LIST_CONTINUATION")):p))===e||m.$$is_boolean&&1!=m?(m=(p=q!==e)?(n=a.yield1(q,Y))===c?c.$v:n:q!==e)===e||m.$$is_boolean&&
1!=m?!1:!0:(b["$[]="]("preserve_last_line",!0),!0):!0;return e}(),!1!==Z&&Z!==e)(l=b["$[]"]("read_last_line"))===e||l.$$is_boolean&&1!=l||(r["$<<"](Y),fa=!0),(l=b["$[]"]("preserve_last_line"))===e||l.$$is_boolean&&1!=l||(this.$restore_line(Y),ca=!0);else if((l=(m=(p=!1!==A&&A!==e)?Y["$start_with?"]("//"):A,!1!==m&&m!==e?z.get("CommentLineRx")["$=~"](Y):m))===e||l.$$is_boolean&&1!=l)r["$<<"](Y),fa=!0;!1!==t&&t!==e&&(this.process_lines=!0,(k=(l=!1!==ca&&ca!==e)?u["$!"]():ca)===e||k.$$is_boolean&&1!=
k||(this.look_ahead=h(this.look_ahead,1)));return r});a.defn(l,"$shift",function(){this.lineno=n(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=h(this.look_ahead,1));return this.lines.$shift()});a.defn(l,"$unshift",function(a){this.lineno=h(this.lineno,1);this.look_ahead=n(this.look_ahead,1);this.eof=!1;return this.lines.$unshift(a)});a.defn(l,"$cursor",function(){return z.get("Cursor").$new(this.file,this.dir,this.path,this.lineno)});a.defn(l,"$line_info",function(){return""+this.path+
": line "+this.lineno});a.alias(l,"next_line_info","line_info");a.defn(l,"$prev_line_info",function(){return""+this.path+": line "+h(this.lineno,1)});a.defn(l,"$lines",function(){return this.lines.$dup()});a.defn(l,"$string",function(){return m(this.lines,z.get("EOL"))});a.defn(l,"$source",function(){return m(this.source_lines,z.get("EOL"))});return(a.defn(l,"$to_s",function(){return this.$line_info()}),e)&&"to_s"})(p.base,null);(function(b,$super){function k(){}var p=k=w(b,$super,"PreprocessorReader",
k),C=p.$$proto,z=p.$$scope,f,d,y,E;C.document=C.lineno=C.process_lines=C.look_ahead=C.skipping=C.include_stack=C.conditional_stack=C.path=C.include_processor_extensions=C.maxdepth=C.dir=C.lines=C.file=C.includes=C.unescape_next_line=e;p.$attr_reader("include_stack");p.$attr_reader("includes");a.defn(p,"$initialize",f=function(b,d,c){var h,k,m=e;null==d&&(d=e);null==c&&(c=e);f.$$p=null;this.document=b;a.find_super_dispatcher(this,"initialize",f,null).apply(this,[d,c,x(["normalize"],{normalize:!0})]);
m=b.$attributes().$fetch("max-include-depth",64).$to_i();if("number"===typeof m?0>m:m["$<"](0))m=0;this.maxdepth=x(["abs","rel"],{abs:m,rel:m});this.include_stack=[];this.includes=(h=b.$references(),!1!==(k=h["$[]"]("includes"))&&k!==e?k:h["$[]="]("includes",[]));this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=e});a.defn(p,"$prepare_lines",d=function(b,c){var f=A.call(arguments,0),h,k,l,p=d.$$p,q=e,r=e,t=e,u=e;null==c&&(c=x([],{}));d.$$p=null;q=a.find_super_dispatcher(this,
"prepare_lines",d,p).apply(this,f);if(!((h=(k=this.document,!1!==k&&k!==e?this.document.$attributes()["$has_key?"]("skip-front-matter"):k))===e||h.$$is_boolean&&1!=h||(h=r=this["$skip_front_matter!"](q))===e||h.$$is_boolean&&1!=h))this.document.$attributes()["$[]="]("front-matter",m(r,z.get("EOL")));if((h=c.$fetch("condense",!0))!==e&&(!h.$$is_boolean||1==h)){for(;(k=(l=t=q["$[]"](0),!1!==l&&l!==e?t["$empty?"]():l))!==e&&(!k.$$is_boolean||1==k);)k=q.$shift(),!1!==k&&k!==e?this.lineno=n(this.lineno,
1):k;for(;(k=(l=u=q["$[]"](-1),!1!==l&&l!==e?u["$empty?"]():l))!==e&&(!k.$$is_boolean||1==k);)q.$pop()}if((h=c["$[]"]("indent"))!==e&&(!h.$$is_boolean||1==h))z.get("Parser")["$adjust_indentation!"](q,c["$[]"]("indent"),this.document.$attr("tabsize"));return q});a.defn(p,"$process_line",function(b){var d,c,f,h,k=e,l=e;if((d=this.process_lines)===e||d.$$is_boolean&&1!=d)return b;if((d=b["$empty?"]())!==e&&(!d.$$is_boolean||1==d))return this.look_ahead=n(this.look_ahead,1),"";if((d=(c=(f=b["$end_with?"]("]"),
!1!==f&&f!==e?b["$start_with?"]("[")["$!"]():f),!1!==c&&c!==e?b["$include?"]("::"):c))===e||d.$$is_boolean&&1!=d){if((d=this.skipping)===e||d.$$is_boolean&&1!=d)return this.look_ahead=n(this.look_ahead,1),b;this.$advance();return e}if((d=(c=b["$include?"]("if"),!1!==c&&c!==e?k=z.get("ConditionalDirectiveRx").$match(b):c))===e||d.$$is_boolean&&1!=d){if((d=this.skipping)===e||d.$$is_boolean&&1!=d)return(d=(f=!1!==(h=l=b["$start_with?"]("\\include::"))&&h!==e?h:b["$start_with?"]("include::"),!1!==f&&
f!==e?k=z.get("IncludeDirectiveRx").$match(b):f))===e||d.$$is_boolean&&1!=d?(this.look_ahead=n(this.look_ahead,1),b):!1!==l&&l!==e?(this.unescape_next_line=!0,this.look_ahead=n(this.look_ahead,1),b["$[]"](u(1,-1,!1))):(d=this.$preprocess_include(k["$[]"](1),k["$[]"](2).$strip()))===e||d.$$is_boolean&&1!=d?(this.look_ahead=n(this.look_ahead,1),b):e;this.$advance();return e}if((d=b["$start_with?"]("\\"))===e||d.$$is_boolean&&1!=d){if((d=(c=this).$preprocess_conditional_inclusion.apply(c,a.to_a(k.$captures())))===
e||d.$$is_boolean&&1!=d)return this.look_ahead=n(this.look_ahead,1),b;this.$advance();return e}this.unescape_next_line=!0;this.look_ahead=n(this.look_ahead,1);return b["$[]"](u(1,-1,!1))});a.defn(p,"$peek_line",y=function(b){var d=A.call(arguments,0),c,f=y.$$p,h=e;null==b&&(b=!1);y.$$p=null;return(c=h=a.find_super_dispatcher(this,"peek_line",y,f).apply(this,d))===e||c.$$is_boolean&&1!=c?(c=this.include_stack["$empty?"]())===e||c.$$is_boolean&&1!=c?(this.$pop_include(),this.$peek_line(b)):e:h});a.defn(p,
"$preprocess_conditional_inclusion",function(a,b,d,c){var f,h,k,l,m,p,n,r,t,u,y=e,E=y=e,w=e,C=w=E=y=e,E=e;if((f=!1!==(h=(k=!1!==(l=a["$=="]("ifdef"))&&l!==e?l:a["$=="]("ifndef"),!1!==k&&k!==e?b["$empty?"]():k))&&h!==e?h:(k=a["$=="]("endif"))?c:a["$=="]("endif"))!==e&&(!f.$$is_boolean||1==f))return!1;b=b.$downcase();if(a["$=="]("endif"))return y=this.conditional_stack.$size(),q(y,0)?(y=this.conditional_stack["$[]"](-1),(f=!1!==(h=b["$empty?"]())&&h!==e?h:b["$=="](y["$[]"]("target")))===e||f.$$is_boolean&&
1!=f?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": mismatched macro: endif::"+b+"[], expected endif::"+y["$[]"]("target")+"[]"):(this.conditional_stack.$pop(),this.skipping=(f=this.conditional_stack["$empty?"]())===e||f.$$is_boolean&&1!=f?this.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1)):this.$warn("asciidoctor: ERROR: "+this.$line_info()+": unmatched macro: endif::"+b+"[]"),!0;E=!1;if((f=this.skipping)===e||f.$$is_boolean&&1!=f)if(w=a,"ifdef"["$==="](w))w=d,e["$==="](w)?E=this.document.$attributes()["$has_key?"](b)["$!"]():
","["$==="](w)?E=(f=(h=b.$split(",")).$detect,f.$$p=(m=function(a){var b=m.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)},m.$$s=this,m),f).call(h)["$!"]():"+"["$==="](w)&&(E=(f=(k=b.$split("+")).$detect,f.$$p=(p=function(a){var b=p.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)["$!"]()},p.$$s=this,p),f).call(k));else if("ifndef"["$==="](w))w=d,e["$==="](w)?E=this.document.$attributes()["$has_key?"](b):
","["$==="](w)?E=(f=(l=b.$split(",")).$detect,f.$$p=(n=function(a){var b=n.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)["$!"]()},n.$$s=this,n),f).call(l)["$!"]():"+"["$==="](w)&&(E=(f=(r=b.$split("+")).$detect,f.$$p=(t=function(a){var b=t.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)},t.$$s=this,t),f).call(r));else if("ifeval"["$==="](w)){if((f=!1!==(u=b["$empty?"]()["$!"]())&&
u!==e?u:(y=z.get("EvalExpressionRx").$match(c.$strip()))["$!"]())!==e&&(!f.$$is_boolean||1==f))return!1;E=this.$resolve_expr_val(y["$[]"](1));w=this.$resolve_expr_val(y["$[]"](3));E=(C=y["$[]"](2))["$=="]("!=")?E.$send("==",w):E.$send(C.$to_sym(),w)["$!"]()}if((f=!1!==(u=a["$=="]("ifeval"))&&u!==e?u:c["$!"]())!==e&&(!f.$$is_boolean||1==f))!1!==E&&E!==e&&(this.skipping=!0),this.conditional_stack["$<<"](x(["target","skip","skipping"],{target:b,skip:E,skipping:this.skipping}));else if((f=!1!==(u=this.skipping)&&
u!==e?u:E)===e||f.$$is_boolean&&1!=f)E=this.$peek_line(!0),this.$replace_line(c.$rstrip()),this.$unshift(E);return!0});a.defn(p,"$preprocess_include",function(b,d){var f,k,p,r,t,u,y,E,w,C=e,A=e,Y=e,da=e,P=e,M=e,R=e,V=e,W=e,Q=e,aa=e,S=e,H=e,ea=e,I=e;if((f=(C=this.document.$sub_attributes(b,x(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===e||f.$$is_boolean&&1!=f){if((f=(k=this["$include_processors?"](),!1!==k&&k!==e?A=(p=(r=this.include_processor_extensions).$find,p.$$p=(t=
function(a){null==a&&(a=e);return a.$instance()["$handles?"](C)},t.$$s=this,t),p).call(r):k))===e||f.$$is_boolean&&1!=f){if(l(this.document.$safe(),z.get("SafeMode").$$scope.get("SECURE")))return this.$replace_line("link:"+C+"[]"),!0;if((f=(k=q(Y=this.maxdepth["$[]"]("abs"),0))?l(this.include_stack.$size(),Y):q(Y=this.maxdepth["$[]"]("abs"),0))===e||f.$$is_boolean&&1!=f){if(q(Y,0)){if((f=a.get("RUBY_ENGINE_OPAL"))===e||f.$$is_boolean&&1!=f)if((f=z.get("Helpers")["$uriish?"](C))===e||f.$$is_boolean&&
1!=f){da="file";P=this.document.$normalize_system_path(C,this.dir,e,x(["target_name"],{target_name:"include file"}));if((f=a.get("File")["$file?"](P))===e||f.$$is_boolean&&1!=f)return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include file not found: "+P),this.$replace_line("Unresolved directive in "+this.path+" - include::"+C+"["+d+"]"),!0;M=z.get("PathResolver").$new().$relative_path(P,this.document.$base_dir())}else{if((f=this.document.$attributes()["$has_key?"]("allow-uri-read"))===
e||f.$$is_boolean&&1!=f)return this.$replace_line("link:"+C+"[]"),!0;da="uri";P=M=C;if((f=this.document.$attributes()["$has_key?"]("cache-uri"))===e||f.$$is_boolean&&1!=f)(f=a.get("RUBY_ENGINE_OPAL")["$!"]())===e||f.$$is_boolean&&1!=f||a.get("OpenURI");else{var T;try{T=null!=a.get("OpenURI").$$scope.get("Cache")?"constant":e}catch(ja){if(ja.$$class===a.NameError)T=e;else throw ja;}((f=T)===e||f.$$is_boolean&&1!=f)&&z.get("Helpers").$require_library("open-uri/cached","open-uri-cached")}}else da="file",
P=M=(f=this.include_stack["$empty?"]())===e||f.$$is_boolean&&1!=f?a.get("File").$join(this.dir,C):a.get("Dir").$pwd()["$=="](this.document.$base_dir())?C:a.get("File").$join(this.dir,C);V=R=e;W=x([],{});(f=d["$empty?"]()["$!"]())===e||f.$$is_boolean&&1!=f||(W=z.get("AttributeList").$new(d).$parse(),(f=W["$has_key?"]("lines"))===e||f.$$is_boolean&&1!=f?(f=W["$has_key?"]("tag"))===e||f.$$is_boolean&&1!=f?(f=W["$has_key?"]("tags"))===e||f.$$is_boolean&&1!=f||(V=W["$[]"]("tags").$split(z.get("DataDelimiterRx")).$to_set()):
V=[W["$[]"]("tag")].$to_set():(R=[],(f=(k=W["$[]"]("lines").$split(z.get("DataDelimiterRx"))).$each,f.$$p=(u=function(b){var d,c,f,h=e,k=e;null==b&&(b=e);if((d=b["$include?"](".."))===e||d.$$is_boolean&&1!=d)return R["$<<"](b.$to_i());d=a.to_ary((c=(f=b.$split("..")).$map,c.$$p="to_i".$to_proc(),c).call(f));h=null==d[0]?e:d[0];k=null==d[1]?e:d[1];return k["$=="](-1)?(R["$<<"](h),R["$<<"](1/0)):R.$concat(a.get("Range").$new(h,k).$to_a())},u.$$s=this,u),f).call(k),R=R.$sort().$uniq()));if(!1!==R&&R!==
e){if((f=R["$empty?"]())===e||f.$$is_boolean&&1!=f){Q=[];S=aa=0;try{(f=(p=this).$open,f.$$p=(y=function(b){var d=y.$$s||this,f,h,k;null==b&&(b=e);return(f=(h=b).$each_line,f.$$p=(k=function(d){var f,h,k=e;null==d&&(d=e);S=n(S,1);k=R["$[]"](0);if((f=(h=k["$is_a?"](a.get("Float")),!1!==h&&h!==e?k["$infinite?"]():h))===e||f.$$is_boolean&&1!=f)return b.$lineno()["$=="](k)&&(Q.$push(d),aa["$=="](0)&&(aa=S),R.$shift()),(f=R["$empty?"]())===e||f.$$is_boolean&&1!=f?e:(c.$v=e,c);Q.$push(d);return aa["$=="](0)?
aa=S:e},k.$$s=d,k),f).call(h)},y.$$s=this,y),f).call(p,P,"r")}catch(ja){try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+da+" not readable: "+P),this.$replace_line("Unresolved directive in "+this.path+" - include::"+C+"["+d+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}this.$advance();this.$push_include(Q,P,M,aa,W)}}else if(!1!==V&&V!==e){if((f=V["$empty?"]())===e||f.$$is_boolean&&1!=f){Q=[];S=aa=0;H=e;ea=a.get("Set").$new();try{(f=this.$open,f.$$p=(E=function(b){var d=
E.$$s||this,f,h,k;null==b&&(b=e);return(f=(h=b).$each_line,f.$$p=(k=function(b){var d=k.$$s||this,f,h,l,m=e;null==b&&(b=e);S=n(S,1);(f=z.get("FORCE_ENCODING"))===e||f.$$is_boolean&&1!=f||b.$force_encoding(a.get("Encoding").$$scope.get("UTF_8"));b=b.$rstrip();m=b.$chomp("--\x3e").$rstrip();return!1!==H&&H!==e?(f=m["$end_with?"]("end::"+H+"[]"))===e||f.$$is_boolean&&1!=f?(((f=(h=m["$end_with?"]("[]"),!1!==h&&h!==e?z.get("TagDirectiveRx")["$=~"](m):h))===e||f.$$is_boolean&&1!=f)&&Q.$push(b),aa["$=="](0)?
aa=S:e):H=e:(f=(h=m["$end_with?"]("[]"),!1!==h&&h!==e?z.get("TagDirectiveRx")["$=~"](m):h))===e||f.$$is_boolean&&1!=f?e:(f=(h=V).$each,f.$$p=(l=function(a){var b;null==a&&(a=e);if((b=m["$end_with?"]("tag::"+a+"[]"))===e||b.$$is_boolean&&1!=b)return e;H=a;ea["$<<"](a);return c.$v=e,c},l.$$s=d,l),f).call(h)},k.$$s=d,k),f).call(h)},E.$$s=this,E),f).call(this,P,"r")}catch(ja){try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+da+" not readable: "+P),this.$replace_line("Unresolved directive in "+
this.path+" - include::"+C+"["+d+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}((f=(I=h(V.$to_a(),ea.$to_a()))["$empty?"]())===e||f.$$is_boolean&&1!=f)&&this.$warn("asciidoctor: WARNING: "+this.$line_info()+": tag"+(q(I.$size(),1)?"s":e)+" '"+m(I,",")+"' not found in include "+da+": "+P);this.$advance();this.$push_include(Q,P,M,aa,W)}}else try{this.$advance(),this.$push_include((f=this.$open,f.$$p=(w=function(a){null==a&&(a=e);return a.$read()},w.$$s=this,w),f).call(this,P,"r"),P,M,1,W)}catch(ja){try{this.$warn("asciidoctor: WARNING: "+
this.$line_info()+": include "+da+" not readable: "+P),this.$replace_line("Unresolved directive in "+this.path+" - include::"+C+"["+d+"]")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return!0}return!1}this.$warn("asciidoctor: ERROR: "+this.$line_info()+": maximum include depth of "+this.maxdepth["$[]"]("rel")+" exceeded");return!1}this.$advance();A.$process_method()["$[]"](this.document,this,C,z.get("AttributeList").$new(d).$parse());return!0}this.document.$attributes().$fetch("attribute-missing",
z.get("Compliance").$attribute_missing())["$=="]("skip")?this.$replace_line("Unresolved directive in "+this.path+" - include::"+b+"["+d+"]"):this.$advance();return!0});a.defn(p,"$push_include",function(b,d,c,f,k){var l,m=e,p=e;null==d&&(d=e);null==c&&(c=e);null==f&&(f=1);null==k&&(k=x([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);!1!==d&&d!==e?(this.file=d,this.dir=z.get("File").$dirname(d),this.process_lines=z.get("ASCIIDOC_EXTENSIONS")["$[]"](a.get("File").$extname(d))):
(this.file=e,this.dir=".",this.process_lines=!0);!1!==c&&c!==e?(this.includes["$<<"](z.get("Helpers").$rootname(c)),d=c):d="<stdin>";this.path=d;this.lineno=f;if((l=k["$has_key?"]("depth"))!==e&&(!l.$$is_boolean||1==l)){m=k["$[]"]("depth").$to_i();if("number"===typeof m?0>=m:m["$<="](0))m=1;this.maxdepth=x(["abs","rel"],{abs:n(h(this.include_stack.$size(),1),m),rel:m})}(l=(this.lines=this.$prepare_lines(b,x(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:k["$[]"]("indent")})))["$empty?"]())===
e||l.$$is_boolean&&1!=l?((l=k["$has_key?"]("leveloffset"))===e||l.$$is_boolean&&1!=l||(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+k["$[]"]("leveloffset")),this.lines.$push(""),(l=p=this.document.$attr("leveloffset"))===e||l.$$is_boolean&&1!=l?this.lines.$push(":leveloffset!:"):this.lines.$push(":leveloffset: "+p),this.lineno=h(this.lineno,2)),this.eof=!1,this.look_ahead=0):this.$pop_include();return e});a.defn(p,"$pop_include",function(){var b;q(this.include_stack.$size(),0)&&(b=
a.to_ary(this.include_stack.$pop()),this.lines=null==b[0]?e:b[0],this.file=null==b[1]?e:b[1],this.dir=null==b[2]?e:b[2],this.path=null==b[3]?e:b[3],this.lineno=null==b[4]?e:b[4],this.maxdepth=null==b[5]?e:b[5],this.process_lines=null==b[6]?e:b[6],this.eof=this.lines["$empty?"](),this.look_ahead=0);return e});a.defn(p,"$include_depth",function(){return this.include_stack.$size()});a.defn(p,"$exceeded_max_depth?",function(){var a,b=e;return(a=q(b=this.maxdepth["$[]"]("abs"),0)?l(this.include_stack.$size(),
b):q(this.maxdepth["$[]"]("abs"),0))===e||a.$$is_boolean&&1!=a?!1:this.maxdepth["$[]"]("rel")});a.defn(p,"$shift",E=function(){var b=A.call(arguments,0),d,c=E.$$p;E.$$p=null;if((d=this.unescape_next_line)===e||d.$$is_boolean&&1!=d)return a.find_super_dispatcher(this,"shift",E,c).apply(this,b);this.unescape_next_line=!1;return a.find_super_dispatcher(this,"shift",E,c).apply(this,b)["$[]"](u(1,-1,!1))});a.defn(p,"$skip_front_matter!",function(b,d){var c,f,h,k=e,l=e;null==d&&(d=!0);k=e;if(b["$[]"](0)["$=="]("---")){l=
b.$dup();k=[];b.$shift();!1!==d&&d!==e&&(this.lineno=n(this.lineno,1));for(;(f=(h=b["$empty?"]()["$!"](),!1!==h&&h!==e?b["$[]"](0)["$!="]("---"):h))!==e&&(!f.$$is_boolean||1==f);)k.$push(b.$shift()),!1!==d&&d!==e&&(this.lineno=n(this.lineno,1));(c=b["$empty?"]())===e||c.$$is_boolean&&1!=c?(b.$shift(),!1!==d&&d!==e&&(this.lineno=n(this.lineno,1))):((c=b).$unshift.apply(c,a.to_a(l)),!1!==d&&d!==e&&(this.lineno=0),k=e)}return k});a.defn(p,"$resolve_expr_val",function(a){var b,d,c,f=e;(b=!1!==(d=(c=a["$start_with?"]('"'),
!1!==c&&c!==e?a["$end_with?"]('"'):c))&&d!==e?d:(c=a["$start_with?"]("'"),!1!==c&&c!==e?a["$end_with?"]("'"):c))===e||b.$$is_boolean&&1!=b?f=!1:(f=!0,a=a["$[]"](u(1,-1,!0)));(b=a["$include?"]("{"))===e||b.$$is_boolean&&1!=b||(a=this.document.$sub_attributes(a,x(["attribute_missing"],{attribute_missing:"drop"})));return!1!==f&&f!==e?a:(b=a["$empty?"]())===e||b.$$is_boolean&&1!=b?a["$=="]("true")?!0:a["$=="]("false")?!1:(b=a.$rstrip()["$empty?"]())===e||b.$$is_boolean&&1!=b?(b=a["$include?"]("."))===
e||b.$$is_boolean&&1!=b?a.$to_i():a.$to_f():" ":e});a.defn(p,"$include_processors?",function(){var a,b;return(a=this.include_processor_extensions["$nil?"]())===e||a.$$is_boolean&&1!=a?this.include_processor_extensions["$!="](!1):(a=(b=this.document["$extensions?"](),!1!==b&&b!==e?this.document.$extensions()["$include_processors?"]():b))===e||a.$$is_boolean&&1!=a?this.include_processor_extensions=!1:(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]()});
return(a.defn(p,"$to_s",function(){var a,b,d;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+(a=(b=this.include_stack).$map,a.$$p=(d=function(a){null==a&&(a=e);return a.$to_s()},d.$$s=this,d),a).call(b).$join(", ")+"]}>"}),e)&&"to_s"})(p.base,p.get("Reader"))}(a.base)};
Opal.modules["asciidoctor/section"]=function(a){function n(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}a.dynamic_require_severity="ignore";var m=a.nil,h=a.slice,l=a.module,e=a.klass,c=a.hash2,A=a.range;return function(b){b=l(b,"Asciidoctor").$$scope;(function(b,$super){function l(){}var p=l=e(b,$super,"Section",l),r=p.$$proto,g=p.$$scope,k,t,C;r.level=r.document=r.parent=r.number=r.title=r.numbered=
r.blocks=m;p.$attr_accessor("index");p.$attr_accessor("number");p.$attr_accessor("sectname");p.$attr_accessor("special");p.$attr_accessor("numbered");a.defn(p,"$initialize",k=function(b,f,d,e){null==b&&(b=m);null==f&&(f=m);null==d&&(d=!0);null==e&&(e=c([],{}));k.$$p=null;a.find_super_dispatcher(this,"initialize",k,null).apply(this,[b,"section",e]);this.level=!1!==f&&f!==m?f:!1!==b&&b!==m?n(b.$level(),1):1;this.numbered=(f=!1!==d&&d!==m)?q(this.level,0):d;this.special=(f=!1!==b&&b!==m?b.$context()["$=="]("section"):
b,!1!==f&&f!==m?b.$special():f);this.index=0;return this.number=1});a.alias(p,"name","title");a.defn(p,"$generate_id",function(){var a,b,d=m,c=m,e=m,h=c=m;if((a=this.document.$attributes()["$has_key?"]("sectids"))===m||a.$$is_boolean&&1!=a)return m;d=!1!==(a=this.document.$attributes()["$[]"]("idseparator"))&&a!==m?a:"_";c=!1!==(a=this.document.$attributes()["$[]"]("idprefix"))&&a!==m?a:"_";e=""+c+this.$title().$downcase().$gsub(g.get("InvalidSectionIdCharsRx"),d).$tr_s(d,d).$chomp(d);if((a=(b=c["$empty?"](),
!1!==b&&b!==m?e["$start_with?"](d):b))!==m&&(!a.$$is_boolean||1==a))for(e=e["$[]"](A(1,-1,!1));(b=e["$start_with?"](d))!==m&&(!b.$$is_boolean||1==b);)e=e["$[]"](A(1,-1,!1));c=e;for(h=g.get("Compliance").$unique_id_start_index();(b=this.document.$references()["$[]"]("ids")["$has_key?"](c))!==m&&(!b.$$is_boolean||1==b);)c=""+e+d+h,h=n(h,1);return c});a.defn(p,"$sectnum",function(a,b){var d,c,e,g;null==a&&(a=".");null==b&&(b=m);!1!==(d=b)&&d!==m?d:b=b["$=="](!1)?"":a;return(d=(c=(e=(g=this.level,!1!==
g&&g!==m?q(this.level,1):g),!1!==e&&e!==m?this.parent:e),!1!==c&&c!==m?this.parent.$context()["$=="]("section"):c))===m||d.$$is_boolean&&1!=d?""+this.number+b:""+this.parent.$sectnum(a)+this.number+b});a.defn(p,"$<<",t=function(b){var c=h.call(arguments,0),d=t.$$p;t.$$p=null;a.find_super_dispatcher(this,"<<",t,d).apply(this,c);return b.$context()["$=="]("section")?this.$assign_index(b):m});return(a.defn(p,"$to_s",C=function(){var b=h.call(arguments,0),c,d=C.$$p,e=m;C.$$p=null;if((c=this.title["$!="](m))===
m||c.$$is_boolean&&1!=c)return a.find_super_dispatcher(this,"to_s",C,d).apply(this,b);e=(c=this.numbered)===m||c.$$is_boolean&&1!=c?this.title:""+this.$sectnum()+" "+this.title;return"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+e.$inspect()+", blocks: "+this.blocks.$size()+"}>"}),m)&&"to_s"})(b.base,b.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/stylesheets"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.module,m=a.klass,h=a.hash2;return function(l){(function(e,$super){function l(){}var b=l=m(e,$super,"Stylesheets",l),q=b.$$proto,x=b.$$scope;q.primary_stylesheet_data=q.coderay_stylesheet_data=q.pygments_stylesheet_data=n;a.cdecl(x,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(x,"DEFAULT_PYGMENTS_STYLE","default");a.cdecl(x,"STYLESHEETS_DATA_PATH",a.get("File").$join(x.get("DATA_PATH"),"stylesheets"));
b.__instance__=b.$new();a.defs(b,"$instance",function(){null==this.__instance__&&(this.__instance__=n);return this.__instance__});a.defn(b,"$primary_stylesheet_name",function(){return x.get("DEFAULT_STYLESHEET_NAME")});a.defn(b,"$primary_stylesheet_data",function(){var b;return!1!==(b=this.primary_stylesheet_data)&&b!==n?b:this.primary_stylesheet_data=a.get("IO").$read(a.get("File").$join(x.get("STYLESHEETS_DATA_PATH"),"asciidoctor-default.css")).$chomp()});a.defn(b,"$embed_primary_stylesheet",function(){return"<style>\n"+
this.$primary_stylesheet_data()+"\n</style>"});a.defn(b,"$write_primary_stylesheet",function(b){var e,h,g;return(e=(h=a.get("File")).$open,e.$$p=(g=function(a){var b=g.$$s||this;null==a&&(a=n);return a.$write(b.$primary_stylesheet_data())},g.$$s=this,g),e).call(h,a.get("File").$join(b,this.$primary_stylesheet_name()),"w")});a.defn(b,"$coderay_stylesheet_name",function(){return"coderay-asciidoctor.css"});a.defn(b,"$coderay_stylesheet_data",function(){var b;return!1!==(b=this.coderay_stylesheet_data)&&
b!==n?b:this.coderay_stylesheet_data=a.get("IO").$read(a.get("File").$join(x.get("STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()});a.defn(b,"$embed_coderay_stylesheet",function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"});a.defn(b,"$write_coderay_stylesheet",function(b){var e,h,g;return(e=(h=a.get("File")).$open,e.$$p=(g=function(a){var b=g.$$s||this;null==a&&(a=n);return a.$write(b.$coderay_stylesheet_data())},g.$$s=this,g),e).call(h,a.get("File").$join(b,this.$coderay_stylesheet_name()),
"w")});a.defn(b,"$pygments_stylesheet_name",function(a){var b;null==a&&(a=n);return"pygments-"+(!1!==(b=a)&&b!==n?b:x.get("DEFAULT_PYGMENTS_STYLE"))+".css"});a.defn(b,"$pygments_stylesheet_data",function(a){var b;return(b=this.$load_pygments())===n||b.$$is_boolean&&1!=b?"/* Pygments styles disabled. Pygments is not available. */":!1!==(b=this.pygments_stylesheet_data)&&b!==n?b:this.pygments_stylesheet_data=h([],{})});a.defn(b,"$embed_pygments_stylesheet",function(a){null==a&&(a=n);return"<style>\n"+
this.$pygments_stylesheet_data(a)+"\n</style>"});a.defn(b,"$write_pygments_stylesheet",function(b,e){var h,g,k;null==e&&(e=n);return(h=(g=a.get("File")).$open,h.$$p=(k=function(a){var b=k.$$s||this;null==a&&(a=n);return a.$write(b.$pygments_stylesheet_data(e))},k.$$s=this,k),h).call(g,a.get("File").$join(b,this.$pygments_stylesheet_name(e)),"w")});return(a.defn(b,"$load_pygments",function(){var b;return(b=null==a.Object.$$scope.Pygments?n:"constant")===n||b.$$is_boolean&&1!=b?x.get("Helpers").$require_library("pygments",
"pygments.rb","ignore")["$nil?"]()["$!"]():!0}),n)&&"load_pygments"})(q(l,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/table"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var e=a.nil,c=a.slice,A=a.module,
b=a.klass,w=a.hash2,x=a.range;return function(u){u=A(u,"Asciidoctor").$$scope;(function(c,$super){function g(){}var k=g=b(c,$super,"Table",g),t=k.$$proto,u=k.$$scope,z;t.attributes=t.document=t.has_header_option=t.rows=e;(function(c,$super){function e(){}var g=e=b(c,$super,"Rows",e);g.$attr_accessor("head","foot","body");a.defn(g,"$initialize",function(a,b,c){null==a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c});return a.alias(g,"[]","send")})(u.base,null);a.cdecl(u,
"DEFAULT_DATA_FORMAT","psv");a.cdecl(u,"DATA_FORMATS",["psv","dsv","csv"]);a.cdecl(u,"DEFAULT_DELIMITERS",w(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","}));a.cdecl(u,"TEXT_STYLES",w("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.cdecl(u,"ALIGNMENTS",w(["h","v"],{h:w(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:w(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})}));k.$attr_accessor("columns");k.$attr_accessor("rows");
k.$attr_accessor("has_header_option");a.defn(k,"$initialize",z=function(b,d){var c,g,h,k=e,l=e;z.$$p=null;a.find_super_dispatcher(this,"initialize",z,null).apply(this,[b,"table"]);this.rows=u.get("Rows").$new();this.columns=[];this.has_header_option=d["$key?"]("header-option");k=d["$[]"]("width");l=k.$to_i().$abs();(c=!1!==(g=(h=l["$=="](0))?k["$!="]("0"):l["$=="](0))&&g!==e?g:n(l,100))===e||c.$$is_boolean&&1!=c||(l=100);this.attributes["$[]="]("tablepcwidth",l);return(c=this.document.$attributes()["$key?"]("pagewidth"))===
e||c.$$is_boolean&&1!=c?e:(c="tableabswidth",g=this.attributes,!1!==(h=g["$[]"](c))&&h!==e?h:g["$[]="](c,q(m(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()))});a.defn(k,"$header_row?",function(){var a;return a=this.has_header_option,!1!==a&&a!==e?this.rows.$body()["$empty?"]():a});a.defn(k,"$create_columns",function(a){var b,c,g,k,l=e,p=e,n=e,l=0,p=[];(b=a.$each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=e);l=h(l,a["$[]"]("width"));
return p["$<<"](u.get("Column").$new(b,p.$size(),a))},c.$$s=this,c),b).call(a);if((b=p["$empty?"]())===e||b.$$is_boolean&&1!=b)this.attributes["$[]="]("colcount",p.$size()),n=m(100,p.$size()).$floor(),(b=(g=p).$each,b.$$p=(k=function(a){null==a&&(a=e);return a.$assign_width(l,n)},k.$$s=this,k),b).call(g);this.columns=p;return e});return(a.defn(k,"$partition_header_footer",function(a){var b,c,g,h=e,k=e;this.attributes["$[]="]("rowcount",this.rows.$body().$size());h=this.rows.$body().$size();(b=(c=
n(h,0))?this.has_header_option:n(h,0))===e||b.$$is_boolean&&1!=b||(k=this.rows.$body().$shift(),h=l(h,1),(b=(c=k).$each,b.$$p=(g=function(a){var b,d;null==a&&(a=e);return b=[e],d=a,d["$style="].apply(d,b),b[b.length-1]},g.$$s=this,g),b).call(c),b=[[k]],c=this.rows,c["$head="].apply(c,b),b[b.length-1]);(b=(c=n(h,0))?a["$key?"]("footer-option"):n(h,0))===e||b.$$is_boolean&&1!=b||(b=[[this.rows.$body().$pop()]],c=this.rows,c["$foot="].apply(c,b),b[b.length-1]);return e}),e)&&"partition_header_footer"})(u.base,
u.get("AbstractBlock"));(function(c,$super){function g(){}var k=g=b(c,$super,"Column",g),l;k.$$proto.attributes=e;k.$attr_accessor("style");a.defn(k,"$initialize",l=function(b,c,f){var d;null==f&&(f=w([],{}));l.$$p=null;a.find_super_dispatcher(this,"initialize",l,null).apply(this,[b,"column"]);this.style=f["$[]"]("style");f["$[]="]("colnumber",h(c,1));b="width";c=f;!1!==(d=c["$[]"](b))&&d!==e?d:c["$[]="](b,1);b="halign";c=f;!1!==(d=c["$[]"](b))&&d!==e?d:c["$[]="](b,"left");b="valign";c=f;!1!==(d=
c["$[]"](b))&&d!==e?d:c["$[]="](b,"top");return this.$update_attributes(f)});a.alias(k,"table","parent");return(a.defn(k,"$assign_width",function(a,b){var c,d=e,d=n(a,0)?q(m(this.attributes["$[]"]("width").$to_f(),a),100).$floor():b;this.attributes["$[]="]("colpcwidth",d);if((c=this.$parent().$attributes()["$key?"]("tableabswidth"))!==e&&(!c.$$is_boolean||1==c))this.attributes["$[]="]("colabswidth",q(m(d.$to_f(),100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round());return e}),e)&&"assign_width"})(u.get("Table"),
u.get("AbstractNode"));(function(h,$super){function g(){}var k=g=b(h,$super,"Cell",g),l=k.$$proto,m=k.$$scope,n,f;l.style=l.document=l.text=l.inner_document=l.colspan=l.rowspan=l.attributes=e;k.$attr_accessor("style");k.$attr_accessor("colspan");k.$attr_accessor("rowspan");a.alias(k,"column","parent");k.$attr_reader("inner_document");a.defn(k,"$initialize",n=function(b,c,f,g){var h,k=e,l=e,p=e,q=e;null==f&&(f=w([],{}));null==g&&(g=e);n.$$p=null;a.find_super_dispatcher(this,"initialize",n,null).apply(this,
[b,"cell"]);this.text=c;this.rowspan=this.colspan=this.style=e;!1!==b&&b!==e&&(this.style=b.$attributes()["$[]"]("style"),this.$update_attributes(b.$attributes()));!1!==f&&f!==e&&(this.colspan=f.$delete("colspan"),this.rowspan=f.$delete("rowspan"),(h=f["$key?"]("style"))===e||h.$$is_boolean&&1!=h||(this.style=f["$[]"]("style")),this.$update_attributes(f));if((h=(c=this.style["$=="]("asciidoc"))?b.$table()["$header_row?"]()["$!"]():this.style["$=="]("asciidoc"))===e||h.$$is_boolean&&1!=h)return e;
k=this.document.$attributes().$delete("doctitle");l=this.text.$split(m.get("EOL"));if((h=!1!==(c=l["$empty?"]())&&c!==e?c:l["$[]"](0)["$include?"]("::")["$!"]())===e||h.$$is_boolean&&1!=h)p=l["$[]"](0),q=m.get("PreprocessorReader").$new(this.document,p).$readlines(),(h=q["$!="](p))===e||h.$$is_boolean&&1!=h||(l.$shift(),(h=l).$unshift.apply(h,a.to_a(q)));this.inner_document=m.get("Document").$new(l,w(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:g}));return(c=k["$nil?"]())===
e||c.$$is_boolean&&1!=c?this.document.$attributes()["$[]="]("doctitle",k):e});a.defn(k,"$text",function(){return this.$apply_normal_subs(this.text).$strip()});a.defn(k,"$content",function(){var a,b,c;return this.style["$=="]("asciidoc")?this.inner_document.$convert():(a=(b=this.$text().$split(m.get("BlankLineRx"))).$map,a.$$p=(c=function(a){var b=c.$$s||this,d,f;null==b.style&&(b.style=e);null==a&&(a=e);return(d=!1!==(f=b.style["$!"]())&&f!==e?f:b.style["$=="]("header"))===e||d.$$is_boolean&&1!=d?
m.get("Inline").$new(b.$parent(),"quoted",a,w(["type"],{type:b.style})).$convert():a},c.$$s=this,c),a).call(b)});return(a.defn(k,"$to_s",f=function(){var b=c.call(arguments,0),g,h=f.$$p;f.$$p=null;return""+a.find_super_dispatcher(this,"to_s",f,h).apply(this,b).$to_s()+" - [text: "+this.text+", colspan: "+(!1!==(g=this.colspan)&&g!==e?g:1)+", rowspan: "+(!1!==(g=this.rowspan)&&g!==e?g:1)+", attributes: "+this.attributes+"]"}),e)&&"to_s"})(u.get("Table"),u.get("AbstractNode"));(function(c,$super){function g(){}
var k=g=b(c,$super,"ParserContext",g),m=k.$$proto,q=k.$$scope;m.format=m.delimiter=m.delimiter_re=m.buffer=m.cell_specs=m.cell_open=m.last_cursor=m.table=m.current_row=m.col_count=m.col_visits=m.active_rowspans=m.linenum=e;k.$attr_accessor("table");k.$attr_accessor("format");k.$attr_reader("col_count");k.$attr_accessor("buffer");k.$attr_reader("delimiter");k.$attr_reader("delimiter_re");a.defn(k,"$initialize",function(a,b,d){var c,g;null==d&&(d=w([],{}));this.reader=a;this.table=b;this.last_cursor=
a.$cursor();(c=this.format=d["$[]"]("format"))===e||c.$$is_boolean&&1!=c?this.format=q.get("Table").$$scope.get("DEFAULT_DATA_FORMAT"):((c=q.get("Table").$$scope.get("DATA_FORMATS")["$include?"](this.format))===e||c.$$is_boolean&&1!=c)&&this.$raise("Illegal table format: "+this.format);this.delimiter=(c=(g=this.format["$=="]("psv")?d["$key?"]("separator")["$!"]():this.format["$=="]("psv"),!1!==g&&g!==e?b.$document()["$nested?"]():g))===e||c.$$is_boolean&&1!=c?!1!==(c=d["$[]"]("separator"))&&c!==e?
c:q.get("Table").$$scope.get("DEFAULT_DELIMITERS")["$[]"](this.format):"!";this.delimiter_re=new RegExp(""+q.get("Regexp").$escape(this.delimiter));this.col_count=(c=b.$columns()["$empty?"]())===e||c.$$is_boolean&&1!=c?b.$columns().$size():-1;this.buffer="";this.cell_specs=[];this.cell_open=!1;this.active_rowspans=[0];this.col_visits=0;this.current_row=[];return this.linenum=-1});a.defn(k,"$starts_with_delimiter?",function(a){return a["$start_with?"](this.delimiter)});a.defn(k,"$match_delimiter",
function(a){return this.delimiter_re.$match(a)});a.defn(k,"$skip_matched_delimiter",function(a,b){null==b&&(b=!1);this.buffer=""+this.buffer+(!1!==b&&b!==e?a.$pre_match().$chop():a.$pre_match())+this.delimiter;return a.$post_match()});a.defn(k,"$buffer_has_unclosed_quotes?",function(a){var b,d,c=e;null==a&&(a=e);c=(""+this.buffer+a).$strip();return b=(d=c["$start_with?"]('"'),!1!==d&&d!==e?c["$start_with?"]('""')["$!"]():d),!1!==b&&b!==e?c["$end_with?"]('"')["$!"]():b});a.defn(k,"$buffer_quoted?",
function(){var a;this.buffer=this.buffer.$lstrip();return a=this.buffer["$start_with?"]('"'),!1!==a&&a!==e?this.buffer["$start_with?"]('""')["$!"]():a});a.defn(k,"$take_cell_spec",function(){return this.cell_specs.$shift()});a.defn(k,"$push_cell_spec",function(a){var b;null==a&&(a=w([],{}));this.cell_specs["$<<"](!1!==(b=a)&&b!==e?b:w([],{}));return e});a.defn(k,"$keep_cell_open",function(){this.cell_open=!0;return e});a.defn(k,"$mark_cell_closed",function(){this.cell_open=!1;return e});a.defn(k,
"$cell_open?",function(){return this.cell_open});a.defn(k,"$cell_closed?",function(){return this.cell_open["$!"]()});a.defn(k,"$close_open_cell",function(a){var b;null==a&&(a=w([],{}));this.$push_cell_spec(a);(b=this["$cell_open?"]())===e||b.$$is_boolean&&1!=b||this.$close_cell(!0);this.$advance();return e});a.defn(k,"$close_cell",function(b){try{var c,d,g,k=e,m=e,p=e;null==b&&(b=!1);k=this.buffer.$strip();this.buffer="";this.format["$=="]("psv")?(m=this.$take_cell_spec(),!1!==m&&m!==e?(p=m.$fetch("repeatcol",
1),m.$delete("repeatcol")):(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),m=w([],{}),p=1)):(m=e,p=1,!this.format["$=="]("csv")||(c=(d=k["$empty?"]()["$!"](),!1!==d&&d!==e?k["$include?"]('"'):d))===e||c.$$is_boolean&&1!=c||((c=(d=k["$start_with?"]('"'),!1!==d&&d!==e?k["$end_with?"]('"'):d))===e||c.$$is_boolean&&1!=c||(k=k["$[]"](x(1,-1,!0)).$strip()),k=k.$tr_s('"','"')));(c=(d=1).$upto,c.$$p=(g=function(d){var c=g.$$s||
this,f,t,u,w,x,A,fa=e,ca=e,Z=e,fa=e;null==c.col_count&&(c.col_count=e);null==c.table&&(c.table=e);null==c.current_row&&(c.current_row=e);null==c.last_cursor&&(c.last_cursor=e);null==c.reader&&(c.reader=e);null==c.col_visits&&(c.col_visits=e);null==c.linenum&&(c.linenum=e);null==d&&(d=e);if(c.col_count["$=="](-1))c.table.$columns()["$<<"](fa=q.get("Table").$$scope.get("Column").$new(c.table,l(h(c.table.$columns().$size(),d),1))),(f=(t=(u=!1!==m&&m!==e)?m["$key?"]("colspan"):m,!1!==t&&t!==e?n(ca=l(m["$[]"]("colspan").$to_i(),
1),0):t))===e||f.$$is_boolean&&1!=f||(Z=c.table.$columns().$size(),(f=(t=ca).$times,f.$$p=(w=function(a){var b=w.$$s||this;null==b.table&&(b.table=e);null==a&&(a=e);return b.table.$columns()["$<<"](q.get("Table").$$scope.get("Column").$new(b.table,h(Z,a)))},w.$$s=c,w),f).call(t));else if((f=fa=c.table.$columns()["$[]"](c.current_row.$size()))===e||f.$$is_boolean&&1!=f)c.$warn("asciidoctor: ERROR: "+c.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),a.ret(e);
fa=q.get("Table").$$scope.get("Cell").$new(fa,k,m,c.last_cursor);c.last_cursor=c.reader.$cursor();((f=!1!==(u=fa.$rowspan()["$!"]())&&u!==e?u:fa.$rowspan()["$=="](1))===e||f.$$is_boolean&&1!=f)&&c.$activate_rowspan(fa.$rowspan(),!1!==(f=fa.$colspan())&&f!==e?f:1);c.col_visits=h(c.col_visits,!1!==(f=fa.$colspan())&&f!==e?f:1);c.current_row["$<<"](fa);return(f=(u=c["$end_of_row?"](),!1!==u&&u!==e?!1!==(x=!1!==(A=c.col_count["$!="](-1))&&A!==e?A:n(c.linenum,0))&&x!==e?x:(A=!1!==b&&b!==e)?d["$=="](p):
b:u))===e||f.$$is_boolean&&1!=f?e:c.$close_row()},g.$$s=this,g),c).call(d,p);this.cell_open=!1;return e}catch(t){if(t===a.returner)return t.$v;throw t;}});a.defn(k,"$close_row",function(){var a,b;this.table.$rows().$body()["$<<"](this.current_row);this.col_count["$=="](-1)&&(this.col_count=this.col_visits);this.col_visits=0;this.current_row=[];this.active_rowspans.$shift();a=this.active_rowspans;!1!==(b=a["$[]"](0))&&b!==e?b:a["$[]="](0,0);return e});a.defn(k,"$activate_rowspan",function(a,b){var d,
c,g;(d=(c=(1).$upto(l(a,1))).$each,d.$$p=(g=function(a){var d=g.$$s||this,c;null==d.active_rowspans&&(d.active_rowspans=e);null==a&&(a=e);return d.active_rowspans["$[]="](a,h(!1!==(c=d.active_rowspans["$[]"](a))&&c!==e?c:0,b))},g.$$s=this,g),d).call(c);return e});a.defn(k,"$end_of_row?",function(){var a;return!1!==(a=this.col_count["$=="](-1))&&a!==e?a:this.$effective_col_visits()["$=="](this.col_count)});a.defn(k,"$effective_col_visits",function(){return h(this.col_visits,this.active_rowspans["$[]"](0))});
return(a.defn(k,"$advance",function(){return this.linenum=h(this.linenum,1)}),e)&&"advance"})(u.get("Table"),null)}(a.base)};
Opal.modules.asciidoctor=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="ignore";var h,l=a.top,e=a.nil,c=a.gvars,A=a.module,b=a.hash2,w=a.range,x=a.hash;null==c[":"]&&(c[":"]=e);((h=null!=a.RUBY_ENGINE)===e||h.$$is_boolean&&1!=h)&&a.cdecl(a,"RUBY_ENGINE","unknown");a.cdecl(a,
"RUBY_ENGINE_OPAL",a.get("RUBY_ENGINE")["$=="]("opal"));a.cdecl(a,"RUBY_ENGINE_JRUBY",a.get("RUBY_ENGINE")["$=="]("jruby"));a.cdecl(a,"RUBY_MIN_VERSION_1_9",n(a.get("RUBY_VERSION"),"1.9"));a.cdecl(a,"RUBY_MIN_VERSION_2",n(a.get("RUBY_VERSION"),"2"));l.$require("set");a.get("RUBY_ENGINE")["$=="]("opal")&&l.$require("asciidoctor/opal_ext");c[":"].$unshift(a.get("File").$dirname("asciidoctor"));(function(c){c=A(c,"Asciidoctor");var h=c.$$scope,l,g,k,t=e,C=e;a.cdecl(h,"RUBY_ENGINE",a.get("RUBY_ENGINE"));
(function(b){b=A(b,"SafeMode").$$scope;a.cdecl(b,"UNSAFE",0);a.cdecl(b,"SAFE",1);a.cdecl(b,"SERVER",10);a.cdecl(b,"SECURE",20)})(h.base);(function(b){b=A(b,"Compliance");b.keys=a.get("Set").$new();(function(a){return a.$attr("keys")})(a.get_singleton_class(b));a.defs(b,"$define",function(b,d){var c,g;null==this.keys&&(this.keys=e);(c=!1!==(g=b["$=="]("keys"))&&g!==e?g:this["$respond_to?"](b))===e||c.$$is_boolean&&1!=c||this.$raise(a.get("ArgumentError"),"illegal key name: "+b);this.$instance_variable_set("@"+
b,d);a.get_singleton_class(this).$send("attr_accessor",b);return this.keys["$<<"](b)});b.$define("block_terminates_paragraph",!0);b.$define("strict_verbatim_paragraphs",!0);b.$define("underline_style_section_titles",!0);b.$define("unwrap_standalone_preamble",!0);b.$define("attribute_missing","skip");b.$define("attribute_undefined","drop-line");b.$define("shorthand_property_syntax",!0);b.$define("unique_id_start_index",2);b.$define("markdown_syntax",!0)})(h.base);a.cdecl(h,"ROOT_PATH",a.get("File").$dirname(a.get("File").$dirname(a.get("File").$expand_path("asciidoctor"))));
a.cdecl(h,"LIB_PATH",a.get("File").$join(h.get("ROOT_PATH"),"lib"));a.cdecl(h,"DATA_PATH",a.get("File").$join(h.get("ROOT_PATH"),"data"));try{a.cdecl(h,"USER_HOME",a.get("Dir").$home())}catch(z){try{a.cdecl(h,"USER_HOME",!1!==(l=a.get("ENV")["$[]"]("HOME"))&&l!==e?l:a.get("Dir").$pwd())}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}a.cdecl(h,"COERCE_ENCODING",(l=a.get("RUBY_ENGINE_OPAL")["$!"](),!1!==l&&l!==e?a.get("RUBY_MIN_VERSION_1_9"):l));a.cdecl(h,"FORCE_ENCODING",(l=h.get("COERCE_ENCODING"),
!1!==l&&l!==e?a.get("Encoding").$default_external()["$!="](a.get("Encoding").$$scope.get("UTF_8")):l));a.cdecl(h,"BOM_BYTES_UTF_8","\u00ef\u00bb\u00bf".$bytes().$to_a());a.cdecl(h,"BOM_BYTES_UTF_16LE","\u00ff\u00fe".$bytes().$to_a());a.cdecl(h,"BOM_BYTES_UTF_16BE","\u00fe\u00ff".$bytes().$to_a());a.cdecl(h,"FORCE_UNICODE_LINE_LENGTH",a.get("RUBY_MIN_VERSION_1_9")["$!"]());a.cdecl(h,"SUPPORTS_GSUB_RESULT_HASH",(l=a.get("RUBY_MIN_VERSION_1_9"),!1!==l&&l!==e?a.get("RUBY_ENGINE_OPAL")["$!"]():l));a.cdecl(h,
"EOL","\n");a.cdecl(h,"NULL","\x00");a.cdecl(h,"TAB","\t");a.cdecl(h,"DEFAULT_DOCTYPE","article");a.cdecl(h,"DEFAULT_BACKEND","html5");a.cdecl(h,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.cdecl(h,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(h,"BACKEND_ALIASES",b(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.cdecl(h,"DEFAULT_PAGE_WIDTHS",b(["docbook"],{docbook:425}));a.cdecl(h,"DEFAULT_EXTENSIONS",b(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",
pdf:".pdf",epub:".epub",asciidoc:".adoc"}));a.cdecl(h,"ASCIIDOC_EXTENSIONS",b([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.cdecl(h,"SECTION_LEVELS",b(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.cdecl(h,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.cdecl(h,"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.cdecl(h,
"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.cdecl(h,"DELIMITED_BLOCKS",b('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.get("Set").$new()],____:["quote",
["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.get("Set").$new()],",===":["table",a.get("Set").$new()],":===":["table",a.get("Set").$new()],"!===":["table",a.get("Set").$new()],"////":["comment",a.get("Set").$new()],"```":["fenced_code",a.get("Set").$new()]}));a.cdecl(h,"DELIMITED_BLOCK_LEADERS",(l=(g=h.get("DELIMITED_BLOCKS").$keys()).$map,l.$$p=(k=function(a){null==a&&(a=e);return a["$[]"](w(0,1,!1))},k.$$s=c,
k),l).call(g).$to_set());a.cdecl(h,"LAYOUT_BREAK_LINES",b(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"}));a.cdecl(h,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.cdecl(h,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.cdecl(h,"ORDERED_LIST_KEYWORDS",b(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.cdecl(h,
"LIST_CONTINUATION","+");a.cdecl(h,"LINE_BREAK"," +");a.cdecl(h,"LINE_CONTINUATION"," \\");a.cdecl(h,"LINE_CONTINUATION_LEGACY"," +");a.cdecl(h,"BLOCK_MATH_DELIMITERS",b(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.cdecl(h,"INLINE_MATH_DELIMITERS",b(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.cdecl(h,"FLEXIBLE_ATTRIBUTES",["sectnums"]);h.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(h,"CC_ALPHA","a-zA-Z"),a.cdecl(h,"CG_ALPHA","[a-zA-Z]"),
a.cdecl(h,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(h,"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(h,"CG_BLANK","[ \\t]"),a.cdecl(h,"CC_EOL","(?=\\n|$)"),a.cdecl(h,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(h,"CC_ALL","[\\s\\S]"),a.cdecl(h,"CC_WORD","a-zA-Z0-9_"),a.cdecl(h,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(h,"AuthorInfoLineRx",new RegExp("^("+h.get("CG_WORD")+"["+h.get("CC_WORD")+"\\-'.]*)(?: +("+h.get("CG_WORD")+"["+h.get("CC_WORD")+"\\-'.]*))?(?: +("+h.get("CG_WORD")+"["+h.get("CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.cdecl(h,
"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/);a.cdecl(h,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/);a.cdecl(h,"ManpageNamePurposeRx",new RegExp("^(.*?)"+h.get("CG_BLANK")+"+-"+h.get("CG_BLANK")+"+(.*)$"));a.cdecl(h,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/);a.cdecl(h,"EvalExpressionRx",new RegExp("^(\\S.*?)"+h.get("CG_BLANK")+"*(==|!=|<=|>=|<|>)"+h.get("CG_BLANK")+"*(\\S.*)$"));a.cdecl(h,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/);
a.cdecl(h,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/);a.cdecl(h,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+h.get("CG_BLANK")+"+(.*))?$"));a.cdecl(h,"InvalidAttributeNameCharsRx",/[^\w\-]/);a.cdecl(h,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/);a.cdecl(h,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);a.cdecl(h,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+h.get("CC_ALPHA")+":_]["+h.get("CC_WORD")+":.-]*)(?:,"+h.get("CG_BLANK")+"*(\\S.*))?)\\]\\]$"));a.cdecl(h,
"BlockAttributeListRx",new RegExp("^\\[(|"+h.get("CG_BLANK")+"*["+h.get("CC_WORD")+"\\{,.#\"'%].*)\\]$"));a.cdecl(h,"BlockAttributeLineRx",new RegExp("^\\[(|"+h.get("CG_BLANK")+"*["+h.get("CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+h.get("CC_ALPHA")+":_]["+h.get("CC_WORD")+":.-]*(?:,"+h.get("CG_BLANK")+"*\\S.*)?)\\])\\]$"));a.cdecl(h,"BlockTitleRx",/^\.([^\s.].*)$/);a.cdecl(h,"AdmonitionParagraphRx",new RegExp("^("+q(h.get("ADMONITION_STYLES").$to_a(),"|")+"):"+h.get("CG_BLANK")));a.cdecl(h,"LiteralParagraphRx",
new RegExp("^("+h.get("CG_BLANK")+"+.*)$"));a.cdecl(h,"CommentBlockRx",/^\/{4,}$/);a.cdecl(h,"CommentLineRx",/^\/\/(?:[^\/]|$)/);a.cdecl(h,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+h.get("CG_BLANK")+"+(\\S.*?)(?:"+h.get("CG_BLANK")+"+\\1)?$"));a.cdecl(h,"SetextSectionTitleRx",new RegExp("^((?=.*"+h.get("CG_WORD")+"+.*)[^.].*?)$"));a.cdecl(h,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/);a.cdecl(h,"InlineSectionAnchorRx",new RegExp("^(.*?)"+h.get("CG_BLANK")+"+(\\\\)?\\[\\[(["+h.get("CC_ALPHA")+":_]["+
h.get("CC_WORD")+":.-]*)(?:,"+h.get("CG_BLANK")+"*(\\S.*?))?\\]\\]$"));a.cdecl(h,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,5}|#x[a-fA-F0-9]{2,4});|[^"+h.get("CC_WORD")+"]+?"));a.cdecl(h,"FloatingTitleStyleRx",/^(?:float|discrete)\b/);a.cdecl(h,"AnyListRx",new RegExp("^(?:<?\\d+>"+h.get("CG_BLANK")+"+"+h.get("CG_GRAPH")+"|"+h.get("CG_BLANK")+"*(?:-|(?:\\*|\\.|\\u2022){1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+h.get("CG_BLANK")+"+"+h.get("CG_GRAPH")+"|"+h.get("CG_BLANK")+"*.*?(?::{2,4}|;;)(?:"+
h.get("CG_BLANK")+"+"+h.get("CG_GRAPH")+"|$))"));a.cdecl(h,"UnorderedListRx",new RegExp("^"+h.get("CG_BLANK")+"*(-|\\*{1,5}|\\u2022{1,5})"+h.get("CG_BLANK")+"+(.*)$"));a.cdecl(h,"OrderedListRx",new RegExp("^"+h.get("CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+h.get("CG_BLANK")+"+(.*)$"));a.cdecl(h,"OrderedListMarkerRxMap",b(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));
a.cdecl(h,"DefinitionListRx",new RegExp("^(?!\\/\\/)"+h.get("CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+h.get("CG_BLANK")+"+(.*))?$"));a.cdecl(h,"DefinitionListSiblingRx",b(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+h.get("CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+h.get("CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+h.get("CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+h.get("CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+h.get("CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+h.get("CG_BLANK")+"+(.*))?$"),
";;":new RegExp("^(?!\\/\\/)"+h.get("CG_BLANK")+"*(.*)(;;)(?:"+h.get("CG_BLANK")+"+(.*))?$")}));a.cdecl(h,"CalloutListRx",new RegExp("^<?(\\d+)>"+h.get("CG_BLANK")+"+(.*)"));a.cdecl(h,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.cdecl(h,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.cdecl(h,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+h.get("CC_EOL")+")"));a.cdecl(h,"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+
h.get("CC_EOL")+")"));a.cdecl(h,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+h.get("CC_EOL")+")");a.cdecl(h,"ListRxMap",b(["ulist","olist","dlist","colist"],{ulist:h.get("UnorderedListRx"),olist:h.get("OrderedListRx"),dlist:h.get("DefinitionListRx"),colist:h.get("CalloutListRx")}));a.cdecl(h,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.cdecl(h,"CellSpecStartRx",new RegExp("^"+h.get("CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));
a.cdecl(h,"CellSpecEndRx",new RegExp(""+h.get("CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.cdecl(h,"GenericBlockMacroRx",new RegExp("^("+h.get("CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$"));a.cdecl(h,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/);a.cdecl(h,"TocBlockMacroRx",/^toc::\[(.*?)\]$/);a.cdecl(h,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+h.get("CC_ALPHA")+":_]["+h.get("CC_WORD")+
":.-]*)(?:,"+h.get("CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"));a.cdecl(h,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+h.get("CC_WORD")+":]["+h.get("CC_WORD")+":.-]*?)\\]\\]\\]"));a.cdecl(h,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+h.get("CG_WORD")+"["+h.get("CC_WORD")+".%+-]*@"+h.get("CG_ALNUM")+"["+h.get("CC_ALNUM")+".-]*\\."+h.get("CG_ALPHA")+"{2,4}\\b"));a.cdecl(h,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+h.get("CC_ALL")+"*?[^\\\\])\\]"));
a.cdecl(h,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/);a.cdecl(h,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+h.get("CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+h.get("CC_ALL")+"+?)\\)\\)(?!\\)))"));a.cdecl(h,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/);a.cdecl(h,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+h.get("CG_BLANK")+"*[^\\1])"));a.cdecl(h,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/);
a.cdecl(h,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/);a.cdecl(h,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+h.get("CC_ALL")+"*?[^\\\\])\\]"));a.cdecl(h,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+h.get("CG_WORD")+"|"+h.get("CG_WORD")+".*?\\S)\\["+h.get("CG_BLANK")+"*(.+?)?\\]"));a.cdecl(h,"MenuInlineRx",new RegExp('\\\\?"('+h.get("CG_WORD")+'[^"]*?'+h.get("CG_BLANK")+"*&gt;"+h.get("CG_BLANK")+'*[^" \\t][^"]*)"'));a.cdecl(h,"PassInlineRx",
x(!1,["+","`",new RegExp("(^|[^"+h.get("CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+h.get("CC_ALL")+"*?\\S)\\4)(?!"+h.get("CG_WORD")+")")],!0,["`",e,new RegExp("(^|[^`"+h.get("CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+h.get("CC_ALL")+"*?\\S)\\4)(?![`"+h.get("CC_WORD")+"])")]));a.cdecl(h,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+h.get("CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+h.get("CC_ALL")+"*?[^\\\\])\\])"));
a.cdecl(h,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+h.get("CC_WORD")+'":.\\/]'+h.get("CC_ALL")+"*?)&gt;&gt;|xref:(["+h.get("CC_WORD")+'":.\\/]'+h.get("CC_ALL")+"*?)\\[("+h.get("CC_ALL")+"*?)\\])"));h.get("RUBY_ENGINE")["$=="]("opal")&&a.cdecl(h,"LineBreakRx",/^(.*)[ \t]\+$/m);a.cdecl(h,"LayoutBreakLineRx",/^('|<){3,}$/);a.cdecl(h,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/);a.cdecl(h,"BlankLineRx",new RegExp("^"+h.get("CG_BLANK")+"*\\n"));a.cdecl(h,"DataDelimiterRx",
/,|;/);a.cdecl(h,"DigitsRx",/^\d+$/);a.cdecl(h,"DoubleQuotedRx",/^("|)(.*)\1$/);a.cdecl(h,"DoubleQuotedMultiRx",new RegExp('^("|)('+h.get("CC_ALL")+"*)\\1$"));a.cdecl(h,"TrailingDigitsRx",/\d+$/);a.cdecl(h,"EscapedSpaceRx",new RegExp("\\\\("+h.get("CG_BLANK")+")"));a.cdecl(h,"SpaceDelimiterRx",new RegExp("([^\\\\])"+h.get("CG_BLANK")+"+"));a.cdecl(h,"SubModifierSniffRx",/[+-]/);a.cdecl(h,"UnicodeCharScanRx",function(){h.get("RUBY_ENGINE")["$=="]("opal");return e}());a.cdecl(h,"UriSniffRx",new RegExp("^"+
h.get("CG_ALPHA")+"["+h.get("CC_ALNUM")+".+-]+:/{0,2}"));a.cdecl(h,"UriTerminator",/[);:]$/);a.cdecl(h,"XmlSanitizeRx",/<[^>]+>/);a.cdecl(h,"INTRINSIC_ATTRIBUTES",b("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::",
"two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));t=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+h.get("CC_ALL")+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+h.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+h.get("CC_ALL")+"*?\\S)\\*(?!"+h.get("CG_WORD")+")")],["double","constrained",
new RegExp("(^|[^"+h.get("CC_WORD")+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+h.get("CC_ALL")+'*?\\S)`"(?!'+h.get("CG_WORD")+")")],["single","constrained",new RegExp("(^|[^"+h.get("CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+h.get("CC_ALL")+"*?\\S)`'(?!"+h.get("CG_WORD")+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+h.get("CC_ALL")+"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+h.get("CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+h.get("CC_ALL")+
"*?\\S)`(?!["+h.get("CC_WORD")+"\"'`])")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+h.get("CC_ALL")+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+h.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+h.get("CC_ALL")+"*?\\S)_(?!"+h.get("CG_WORD")+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+h.get("CC_ALL")+"+?)##")],["mark","constrained",new RegExp("(^|[^"+h.get("CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+h.get("CC_ALL")+"*?\\S)#(?!"+
h.get("CG_WORD")+")")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];C=t.$dup();C["$[]="](2,["double","constrained",new RegExp("(^|[^"+h.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+h.get("CC_ALL")+"*?\\S)''(?!"+h.get("CG_WORD")+")")]);C["$[]="](3,["single","constrained",new RegExp("(^|[^"+h.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+h.get("CC_ALL")+"*?\\S)'(?!"+h.get("CG_WORD")+")")]);C["$[]="](4,
["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+h.get("CC_ALL")+"+?)\\+\\+")]);C["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+h.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+h.get("CC_ALL")+"*?\\S)\\+(?!"+h.get("CG_WORD")+")")]);C.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+h.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+h.get("CC_ALL")+"*?\\S)'(?!"+h.get("CG_WORD")+")")]);a.cdecl(h,"QUOTE_SUBS",x(!1,t,!0,C));C=t=e;a.cdecl(h,"REPLACEMENTS",
[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+h.get("CG_WORD")+")\\\\?--(?="+h.get("CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+h.get("CG_ALNUM")+")\\\\?'(?="+h.get("CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,
"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,5}|#x[a-fA-F0-9]{2,4});)/,"","bounding"]]);(function(c){var f=c.$$scope;a.defn(c,"$load",function(d,c){var g,h,k,l,m,n,p,q,r,t=this,u=e,z=e,w=e,x=e,C=e,A=e,P=e,M=e,R=e,V=e,W=e,Q=e,aa=e,S=e;null==c&&(c=b([],{}));try{c=c.$dup();(g=u=c["$[]"]("timings"))===e||g.$$is_boolean&&1!=g||u.$start("read");z=c["$[]="]("attributes",function(){if((g=(w=c["$[]"]("attributes"))["$!"]())===e||g.$$is_boolean&&1!=g){if((g=!1!==(h=a.get("Hash")["$==="](w))&&h!==e?h:(k=
a.get("RUBY_ENGINE_JRUBY"),!1!==k&&k!==e?a.get("Java").$$scope.get("JavaUtil").$$scope.get("Map")["$==="](w):k))===e||g.$$is_boolean&&1!=g){if((g=a.get("Array")["$==="](w))===e||g.$$is_boolean&&1!=g){if((g=a.get("String")["$==="](w))===e||g.$$is_boolean&&1!=g){if((g=(n=w["$respond_to?"]("keys"),!1!==n&&n!==e?w["$respond_to?"]("[]"):n))===e||g.$$is_boolean&&1!=g)return t.$raise(a.get("ArgumentError"),"illegal type for attributes option: "+w.$class().$ancestors());C=w;w=b([],{});(g=(n=C.$keys()).$each,
g.$$p=(p=function(a){null==a&&(a=e);return w["$[]="](a,C["$[]"](a))},p.$$s=t,p),g).call(n);return w}x="\\1";w=w.$gsub(f.get("SpaceDelimiterRx"),""+x+f.get("NULL")).$gsub(f.get("EscapedSpaceRx"),x);return(g=(k=w.$split(f.get("NULL"))).$inject,g.$$p=(m=function(b,d){var c,f=e,g=e;null==b&&(b=e);null==d&&(d=e);c=a.to_ary(d.$split("=",2));f=null==c[0]?e:c[0];g=null==c[1]?e:c[1];b["$[]="](f,!1!==(c=g)&&c!==e?c:"");return b},m.$$s=t,m),g).call(k,b([],{}))}return(g=(h=w).$inject,g.$$p=(l=function(b,d){var c,
f=e,g=e;null==b&&(b=e);null==d&&(d=e);c=a.to_ary(d.$split("=",2));f=null==c[0]?e:c[0];g=null==c[1]?e:c[1];b["$[]="](f,!1!==(c=g)&&c!==e?c:"");return b},l.$$s=t,l),g).call(h,b([],{}))}return w.$dup()}return b([],{})}());A=e;if((g=a.get("File")["$==="](d))===e||g.$$is_boolean&&1!=g)if((g=d["$respond_to?"]("readlines"))===e||g.$$is_boolean&&1!=g)(g=a.get("String")["$==="](d))===e||g.$$is_boolean&&1!=g?(g=a.get("Array")["$==="](d))===e||g.$$is_boolean&&1!=g?t.$raise(a.get("ArgumentError"),"unsupported input type: "+
d.$class()):A=d.$dup():A=d.$lines().$entries();else{try{d.$rewind()}catch(H){try{e}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}A=d.$readlines()}else P=a.get("File").$expand_path(d.$path()),M=d.$mtime(),A=d.$readlines(),z["$[]="]("docfile",P),z["$[]="]("docdir",a.get("File").$dirname(P)),z["$[]="]("docname",f.get("Helpers").$basename(P,!0)),R=(g="docdate",q=z,!1!==(r=q["$[]"](g))&&r!==e?r:q["$[]="](g,M.$strftime("%Y-%m-%d"))),V=(g="doctime",q=z,!1!==(r=q["$[]"](g))&&r!==e?r:q["$[]="](g,M.$strftime("%H:%M:%S %Z"))),
z["$[]="]("docdatetime",""+R+" "+V);!1!==u&&u!==e&&(u.$record("read"),u.$start("parse"));W=c["$[]"]("parse")["$=="](!1)?f.get("Document").$new(A,c):f.get("Document").$new(A,c).$parse();!1!==u&&u!==e&&u.$record("parse");return W}catch(H){Q=H;try{try{aa="asciidoctor: FAILED: "+(!1!==(g=z["$[]"]("docfile"))&&g!==e?g:"<stdin>")+": Failed to load AsciiDoc document",(g=Q["$respond_to?"]("exception"))===e||g.$$is_boolean&&1!=g?(S=Q.$class().$new(aa,Q),g=[Q.$stack_trace()],q=S,q["$stack_trace="].apply(q,
g),g[g.length-1]):(S=Q.$exception(""+aa+" - "+Q.$message()),S.$set_backtrace(Q.$backtrace()))}catch(ea){try{S=Q}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return t.$raise(S)}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}});a.defn(c,"$load_file",function(d,c){null==c&&(c=b([],{}));return this.$load(a.get("File").$new(!1!==d&&d!==e?d:""),c)});a.defn(c,"$convert",function(d,c){var g,h,k,l,p,q,r,t=e,u=e,z=e,w=e,x=e,C=e,A=e,Y=e,da=e,P=e,M=x=e,R=t=t=Y=C=e,V=C=u=e,W=t=A=w=e,Q=z=e;null==c&&(c=b([],
{}));c=c.$dup();c.$delete("parse");t=c.$delete("to_file");u=c.$delete("to_dir");z=!1!==(g=c.$delete("mkdirs"))&&g!==e?g:!1;w=c["$[]"]("timings");x=t;if((!0)["$==="](x)||e["$==="](x))C=(g=u["$!"](),!1!==g&&g!==e?a.get("File")["$==="](d):g),A=!1,Y=u,t=e;else if((!1)["$==="](x))Y=A=C=!1,t=e;else{if("/dev/null"["$==="](x))return this.$load(d,c);C=!1;A=t["$respond_to?"]("write");Y=!1!==A&&A!==e?!1:t}if(((g=c["$key?"]("header_footer"))===e||g.$$is_boolean&&1!=g)&&(g=!1!==(h=C)&&h!==e?h:Y)!==e&&(!g.$$is_boolean||
1==g))c["$[]="]("header_footer",!0);if(!1!==C&&C!==e)da=a.get("File").$expand_path(d.$path()),c["$[]="]("to_dir",P=a.get("File").$dirname(da));else if(!1!==Y&&Y!==e)if(!1!==u&&u!==e)if(!1!==t&&t!==e)c["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(a.get("File").$join(u,t))));else c["$[]="]("to_dir",a.get("File").$expand_path(u));else{if(!1!==t&&t!==e)c["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(t)))}else c["$[]="]("to_dir",e);x=this.$load(d,c);if(!1!==C&&
C!==e)M=a.get("File").$join(P,""+x.$attributes()["$[]"]("docname")+x.$outfilesuffix()),M["$=="](da)&&this.$raise(a.get("IOError"),"input file and output file cannot be the same: "+M);else if(!1!==Y&&Y!==e){if(C=(g=c["$has_key?"]("base_dir"))===e||g.$$is_boolean&&1!=g?a.get("File").$expand_path(a.get("Dir").$pwd()):a.get("File").$expand_path(c["$[]"]("base_dir")),Y=n(x.$safe(),f.get("SafeMode").$$scope.get("SAFE"))?C:e,!1!==u&&u!==e?(P=x.$normalize_system_path(u,C,Y,b(["target_name","recover"],{target_name:"to_dir",
recover:!1})),!1!==t&&t!==e?(M=x.$normalize_system_path(t,P,e,b(["target_name","recover"],{target_name:"to_dir",recover:!1})),P=a.get("File").$dirname(M)):M=a.get("File").$join(P,""+x.$attributes()["$[]"]("docname")+x.$outfilesuffix())):!1!==t&&t!==e&&(M=x.$normalize_system_path(t,C,Y,b(["target_name","recover"],{target_name:"to_dir",recover:!1})),P=a.get("File").$dirname(M)),(g=a.get("File")["$directory?"](P))===e||g.$$is_boolean&&1!=g)!1!==z&&z!==e?a.get("FileUtils").$mkdir_p(P):this.$raise(a.get("IOError"),
"target directory does not exist: "+u)}else M=t,P=e;!1!==w&&w!==e&&w.$start("convert");t=(g=(h=!1!==M&&M!==e)?A["$!"]():M)===e||g.$$is_boolean&&1!=g?b([],{}):b(["outfile","outdir"],{outfile:M,outdir:P});t=x.$convert(t);!1!==w&&w!==e&&w.$record("convert");return!1!==M&&M!==e?(!1!==w&&w!==e&&w.$start("write"),x.$write(t,M),!1!==w&&w!==e&&w.$record("write"),(g=(h=(k=(l=(p=(q=A["$!"](),!1!==q&&q!==e?m(x.$safe(),f.get("SafeMode").$$scope.get("SECURE")):q),!1!==p&&p!==e?x["$attr?"]("linkcss"):p),!1!==l&&
l!==e?x["$attr?"]("copycss"):l),!1!==k&&k!==e?x["$attr?"]("basebackend-html"):k),!1!==h&&h!==e?(k=R=x.$attr("stylesdir"),!1!==k&&k!==e?f.get("Helpers")["$uriish?"](R):k)["$!"]():h))===e||g.$$is_boolean&&1!=g||(C=u=!1,(g=V=x.$attr("stylesheet"))===e||g.$$is_boolean&&1!=g||((g=f.get("DEFAULT_STYLESHEET_KEYS")["$include?"](V))===e||g.$$is_boolean&&1!=g?(g=f.get("Helpers")["$uriish?"](V)["$!"]())===e||g.$$is_boolean&&1!=g||(C=!0):u=!0),w=(g=x["$attr?"]("source-highlighter","coderay"),!1!==g&&g!==e?x.$attr("coderay-css",
"class")["$=="]("class"):g),A=(g=x["$attr?"]("source-highlighter","pygments"),!1!==g&&g!==e?x.$attr("pygments-css","class")["$=="]("class"):g),(g=!1!==(h=!1!==(k=!1!==(l=u)&&l!==e?l:C)&&k!==e?k:w)&&h!==e?h:A)===e||g.$$is_boolean&&1!=g||(t=x.$normalize_system_path(R,P,n(x.$safe(),f.get("SafeMode").$$scope.get("SAFE"))?P:e),!1!==z&&z!==e&&f.get("Helpers").$mkdir_p(t),!1!==u&&u!==e?f.get("Stylesheets").$instance().$write_primary_stylesheet(t):!1!==C&&C!==e&&(W=(g=(W=x.$attr("copycss"))["$empty?"]())===
e||g.$$is_boolean&&1!=g?x.$normalize_system_path(W):x.$normalize_system_path(V),z=x.$normalize_system_path(V,t,n(x.$safe(),f.get("SafeMode").$$scope.get("SAFE"))?P:e),((g=!1!==(h=W["$=="](z))&&h!==e?h:(Q=x.$read_asset(W))["$nil?"]())===e||g.$$is_boolean&&1!=g)&&(g=(h=a.get("File")).$open,g.$$p=(r=function(a){null==a&&(a=e);return a.$write(Q)},r.$$s=this,r),g).call(h,z,"w")),!1!==w&&w!==e?f.get("Stylesheets").$instance().$write_coderay_stylesheet(t):!1!==A&&A!==e&&f.get("Stylesheets").$instance().$write_pygments_stylesheet(t,
x.$attr("pygments-style")))),x):t});a.alias(c,"render","convert");a.defn(c,"$convert_file",function(d,c){null==c&&(c=b([],{}));return this.$convert(a.get("File").$new(!1!==d&&d!==e?d:""),c)});return a.alias(c,"render_file","convert_file")})(a.get_singleton_class(c));h.get("RUBY_ENGINE")["$=="]("opal")&&(c.$require("asciidoctor/version"),c.$require("asciidoctor/timings"))})(a.base);l.$require("asciidoctor/core_ext");l.$require("asciidoctor/helpers");l.$require("asciidoctor/substitutors");l.$require("asciidoctor/abstract_node");
l.$require("asciidoctor/abstract_block");l.$require("asciidoctor/attribute_list");l.$require("asciidoctor/block");l.$require("asciidoctor/callouts");l.$require("asciidoctor/converter");(h=a.get("RUBY_ENGINE_OPAL"))===e||h.$$is_boolean&&1!=h||l.$require("asciidoctor/converter/html5");l.$require("asciidoctor/document");l.$require("asciidoctor/inline");l.$require("asciidoctor/list");l.$require("asciidoctor/parser");l.$require("asciidoctor/path_resolver");l.$require("asciidoctor/reader");l.$require("asciidoctor/section");
l.$require("asciidoctor/stylesheets");return l.$require("asciidoctor/table")};
Opal.modules["asciidoctor/extensions"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var h=a.nil,l=a.breaker,e=a.slice,c=a.module,A=a.klass,b=a.hash2,w=a.range,x=a.hash;return function(u){(function(p){p=c(p,"Extensions");var r=p.$$scope;(function(c,$super){function l(){}
var m=l=A(c,$super,"Processor",l),n=m.$$scope,f,d,p;m.$$proto.config=h;(function(d){a.defn(d,"$config",function(){var a;null==this.config&&(this.config=h);return!1!==(a=this.config)&&a!==h?a:this.config=b([],{})});a.defn(d,"$option",function(a,b){return this.$config()["$[]="](a,b)});a.defn(d,"$use_dsl",function(){var a;return(a=this.$name()["$nil_or_empty?"]())===h||a.$$is_boolean&&1!=a?(a=this.$constants().$grep("DSL"))===h||a.$$is_boolean&&1!=a?h:this.$extend(this.$const_get("DSL")):(a=this.$constants().$grep("DSL"))===
h||a.$$is_boolean&&1!=a?h:this.$include(this.$const_get("DSL"))});a.alias(d,"extend_dsl","use_dsl");return a.alias(d,"include_dsl","use_dsl")})(a.get_singleton_class(m));m.$attr_reader("config");a.defn(m,"$initialize",function(a){null==a&&(a=b([],{}));return this.config=this.$class().$config().$merge(a)});a.defn(m,"$update_config",function(a){return this.config.$update(a)});a.defn(m,"$process",function(){var b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),c=0;c<b;c++)d[c]=arguments[c+0];return this.$raise(a.get("NotImplementedError"))});
a.defn(m,"$create_block",function(a,d,c,e,f){null==f&&(f=b([],{}));return n.get("Block").$new(a,d,b(["source","attributes"],{source:c,attributes:e}).$merge(f))});a.defn(m,"$create_image_block",function(a,d,c){null==c&&(c=b([],{}));return this.$create_block(a,"image",h,d,c)});a.defn(m,"$create_inline",function(a,d,c,e){null==e&&(e=b([],{}));return n.get("Inline").$new(a,d,c,e)});a.defn(m,"$parse_content",function(a,d,c){var e,f,g=h,l=h;null==c&&(c=b([],{}));for(g=(e=d["$is_a?"](n.get("Reader")))===
h||e.$$is_boolean&&1!=e?n.get("Reader").$new(d):d;(f=g["$has_more_lines?"]())!==h&&(!f.$$is_boolean||1==f);)if(l=n.get("Parser").$next_block(g,a,c),!1!==l&&l!==h)a["$<<"](l);return h});return(f=(d=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor",
"create_inline","anchor"]]).$each,f.$$p=(p=function(b,d,c){var f=p.$$s||this,g,l;null==b&&(b=h);null==d&&(d=h);null==c&&(c=h);return(g=f.$define_method,g.$$p=(l=function(b){var f=l.$$s||this,g;b=e.call(arguments,0);return(g=f).$send.apply(g,[d].concat(a.to_a(b.$dup().$insert(1,c))))},l.$$s=f,l),g).call(f,b)},p.$$s=m,p),f).call(d)})(r.base,null);(function(b){b=c(b,"ProcessorDsl");var e;a.defn(b,"$option",function(a,b){return this.$config()["$[]="](a,b)});a.defn(b,"$process",e=function(){var b,c=e.$$p||
h;null==this.process_block&&(this.process_block=h);var g=arguments.length-0;0>g&&(g=0);for(var f=Array(g),d=0;d<g;d++)f[d]=arguments[d+0];e.$$p=null;return c!==h?this.process_block=c:(b=this.process_block)===h||b.$$is_boolean&&1!=b?this.$raise(a.get("NotImplementedError")):(b=this.process_block).$call.apply(b,a.to_a(f))});a.defn(b,"$process_block_given?",function(){var a;return(a=this.process_block,null!=a&&a!==h)?"instance-variable":h})})(r.base);(function(b,$super){function c(){}var e=c=A(b,$super,
"Preprocessor",c);return(a.defn(e,"$process",function(b,c){return this.$raise(a.get("NotImplementedError"))}),h)&&"process"})(r.base,r.get("Processor"));a.casgn(r.get("Preprocessor"),"DSL",r.get("ProcessorDsl"));(function(b,$super){function c(){}var e=c=A(b,$super,"Treeprocessor",c);return(a.defn(e,"$process",function(b){return this.$raise(a.get("NotImplementedError"))}),h)&&"process"})(r.base,r.get("Processor"));a.casgn(r.get("Treeprocessor"),"DSL",r.get("ProcessorDsl"));(function(b,$super){function c(){}
var e=c=A(b,$super,"Postprocessor",c);return(a.defn(e,"$process",function(b,c){return this.$raise(a.get("NotImplementedError"))}),h)&&"process"})(r.base,r.get("Processor"));a.casgn(r.get("Postprocessor"),"DSL",r.get("ProcessorDsl"));(function(b,$super){function c(){}var e=c=A(b,$super,"IncludeProcessor",c);a.defn(e,"$process",function(b,c,d,e){return this.$raise(a.get("NotImplementedError"))});return(a.defn(e,"$handles?",function(a){return!0}),h)&&"handles?"})(r.base,r.get("Processor"));a.casgn(r.get("IncludeProcessor"),
"DSL",r.get("ProcessorDsl"));(function(c,$super){function e(){}var l=e=A(c,$super,"DocinfoProcessor",e),m;l.$$proto.config=h;l.$attr_accessor("location");a.defn(l,"$initialize",m=function(c){var d,e;null==c&&(c=b([],{}));m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[c]);return d=this.config,!1!==(e=d["$[]"]("location"))&&e!==h?e:d["$[]="]("location","head")});return(a.defn(l,"$process",function(b){return this.$raise(a.get("NotImplementedError"))}),h)&&"process"})(r.base,
r.get("Processor"));(function(b){b=c(b,"DocinfoProcessorDsl");b.$include(b.$$scope.get("ProcessorDsl"));a.defn(b,"$at_location",function(a){return this.$option("location",a)})})(r.base);a.casgn(r.get("DocinfoProcessor"),"DSL",r.get("DocinfoProcessorDsl"));(function(c,$super){function e(){}var l=e=A(c,$super,"BlockProcessor",e),m;l.$$proto.config=h;l.$attr_accessor("name");a.defn(l,"$initialize",m=function(c,d){var e,g,l,n=h;null==c&&(c=h);null==d&&(d=b([],{}));m.$$p=null;a.find_super_dispatcher(this,
"initialize",m,null).apply(this,[d]);this.name=!1!==(e=c)&&e!==h?e:this.config["$[]"]("name");n=this.config["$[]"]("contexts");if(a.get("NilClass")["$==="](n))e="contexts",g=this.config,!1!==(l=g["$[]"](e))&&l!==h?l:g["$[]="](e,["open","paragraph"].$to_set());else if(a.get("Symbol")["$==="](n))this.config["$[]="]("contexts",[this.config["$[]"]("contexts")].$to_set());else this.config["$[]="]("contexts",this.config["$[]"]("contexts").$to_set());return e="content_model",g=this.config,!1!==(l=g["$[]"](e))&&
l!==h?l:g["$[]="](e,"compound")});return(a.defn(l,"$process",function(b,d,c){return this.$raise(a.get("NotImplementedError"))}),h)&&"process"})(r.base,r.get("Processor"));(function(b){b=c(b,"BlockProcessorDsl");var e=b.$$scope;b.$include(e.get("ProcessorDsl"));a.defn(b,"$named",function(a){var b;return(b=this["$is_a?"](e.get("Processor")))===h||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=a});a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$contexts",function(){var a=
arguments.length-0;0>a&&(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];return this.$option("contexts",b.$flatten())});a.alias(b,"on_contexts","contexts");a.alias(b,"on_context","contexts");a.defn(b,"$content_model",function(a){return this.$option("content_model",a)});a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];return this.$option("pos_attrs",b.$flatten())});
a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",function(a){return this.$option("default_attrs",a)});a.alias(b,"seed_attributes_with","default_attrs")})(r.base);a.casgn(r.get("BlockProcessor"),"DSL",r.get("BlockProcessorDsl"));(function(c,$super){function e(){}var l=e=A(c,$super,"MacroProcessor",e),m;l.$$proto.config=h;l.$attr_accessor("name");a.defn(l,"$initialize",
m=function(c,d){var e,g,l;null==c&&(c=h);null==d&&(d=b([],{}));m.$$p=null;a.find_super_dispatcher(this,"initialize",m,null).apply(this,[d]);this.name=!1!==(e=c)&&e!==h?e:this.config["$[]"]("name");return e="content_model",g=this.config,!1!==(l=g["$[]"](e))&&l!==h?l:g["$[]="](e,"attributes")});return(a.defn(l,"$process",function(b,d,c){return this.$raise(a.get("NotImplementedError"))}),h)&&"process"})(r.base,r.get("Processor"));(function(b){b=c(b,"MacroProcessorDsl");var e=b.$$scope;b.$include(e.get("ProcessorDsl"));
a.defn(b,"$named",function(a){var b;return(b=this["$is_a?"](e.get("Processor")))===h||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=a});a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$content_model",function(a){return this.$option("content_model",a)});a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];return this.$option("pos_attrs",b.$flatten())});
a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",function(a){return this.$option("default_attrs",a)});a.alias(b,"seed_attributes_with","default_attrs")})(r.base);(function(a,$super){function b(){}b=A(a,$super,"BlockMacroProcessor",b);return h})(r.base,r.get("MacroProcessor"));a.casgn(r.get("BlockMacroProcessor"),"DSL",r.get("MacroProcessorDsl"));(function(b,
$super){function c(){}var e=c=A(b,$super,"InlineMacroProcessor",c),l=e.$$proto;l.config=l.name=h;a.defn(e,"$regexp",function(){var a,b;return a=this.config,!1!==(b=a["$[]"]("regexp"))&&b!==h?b:a["$[]="]("regexp",this.$resolve_regexp(this.name,this.config["$[]"]("format")))});return(a.defn(e,"$resolve_regexp",function(a,b){return b["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")}),h)&&"resolve_regexp"})(r.base,r.get("MacroProcessor"));
(function(b){b=c(b,"InlineMacroProcessorDsl");b.$include(b.$$scope.get("MacroProcessorDsl"));a.defn(b,"$using_format",function(a){return this.$option("format",a)});a.defn(b,"$match",function(a){return this.$option("regexp",a)})})(r.base);a.casgn(r.get("InlineMacroProcessor"),"DSL",r.get("InlineMacroProcessorDsl"));(function(b,$super){function c(){}var e=c=A(b,$super,"Extension",c);e.$attr("kind");e.$attr("config");e.$attr("instance");return(a.defn(e,"$initialize",function(a,b,d){this.kind=a;this.instance=
b;return this.config=d}),h)&&"initialize"})(r.base,null);(function(b,$super){function c(){}var e=c=A(b,$super,"ProcessorExtension",c),l;e.$attr("process_method");return(a.defn(e,"$initialize",l=function(b,d,c){var e;null==c&&(c=h);l.$$p=null;a.find_super_dispatcher(this,"initialize",l,null).apply(this,[b,d,d.$config()]);return this.process_method=!1!==(e=c)&&e!==h?e:d.$method("process")}),h)&&"initialize"})(r.base,r.get("Extension"));(function(b,$super){function c(){}var e=c=A(b,$super,"Group",c);
(function(b){var c=b.$$scope;return(a.defn(b,"$register",function(a){null==a&&(a=h);return c.get("Extensions").$register(a,this)}),h)&&"register"})(a.get_singleton_class(e));return(a.defn(e,"$activate",function(b){return this.$raise(a.get("NotImplementedError"))}),h)&&"activate"})(r.base,null);(function(c,$super){function e(){}var p=e=A(c,$super,"Registry",e),r=p.$$proto,f=p.$$scope,d,u,x,B,J,F,v,D,K,N;r.groups=r.preprocessor_extensions=r.treeprocessor_extensions=r.postprocessor_extensions=r.include_processor_extensions=
r.docinfo_processor_extensions=r.block_extensions=r.block_macro_extensions=r.inline_macro_extensions=h;p.$attr_reader("document");p.$attr_reader("groups");a.defn(p,"$initialize",function(a){null==a&&(a=b([],{}));this.groups=a;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=this.preprocessor_extensions=this.treeprocessor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=h});a.defn(p,"$activate",
function(b){var c,d,e;this.document=b;(c=(d=n(f.get("Extensions").$groups().$values(),this.groups.$values())).$each,c.$$p=(e=function(b){var c=e.$$s||this,d,f=h;null==b&&(b=h);f=b;a.get("Proc")["$==="](f)?(f=b.$arity(),b=0["$==="](f)||-1["$==="](f)?(d=c.$instance_exec,d.$$p=b.$to_proc(),d).call(c):1["$==="](f)?b.$call(c):h):b=a.get("Class")["$==="](f)?b.$new().$activate(c):b.$activate(c);return b},e.$$s=this,e),c).call(d);return this});a.defn(p,"$preprocessor",d=function(){var a,b=d.$$p||h,c=arguments.length-
0;0>c&&(c=0);for(var e=Array(c),f=0;f<c;f++)e[f]=arguments[f+0];d.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"preprocessor",e)});a.defn(p,"$preprocessors?",function(){return this.preprocessor_extensions["$!"]()["$!"]()});a.defn(p,"$preprocessors",function(){return this.preprocessor_extensions});a.defn(p,"$treeprocessor",u=function(){var a,b=u.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];u.$$p=null;return(a=this.$add_document_processor,
a.$$p=b.$to_proc(),a).call(this,"treeprocessor",d)});a.defn(p,"$treeprocessors?",function(){return this.treeprocessor_extensions["$!"]()["$!"]()});a.defn(p,"$treeprocessors",function(){return this.treeprocessor_extensions});a.defn(p,"$postprocessor",x=function(){var a,b=x.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];x.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"postprocessor",d)});a.defn(p,"$postprocessors?",function(){return this.postprocessor_extensions["$!"]()["$!"]()});
a.defn(p,"$postprocessors",function(){return this.postprocessor_extensions});a.defn(p,"$include_processor",B=function(){var a,b=B.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];B.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"include_processor",d)});a.defn(p,"$include_processors?",function(){return this.include_processor_extensions["$!"]()["$!"]()});a.defn(p,"$include_processors",function(){return this.include_processor_extensions});
a.defn(p,"$docinfo_processor",J=function(){var a,b=J.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];J.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"docinfo_processor",d)});a.defn(p,"$docinfo_processors?",function(a){var b,c,d;null==a&&(a=h);return(b=this.docinfo_processor_extensions)===h||b.$$is_boolean&&1!=b?!1:!1!==a&&a!==h?(b=(c=this.docinfo_processor_extensions).$find,b.$$p=(d=function(b){null==b&&(b=h);return b.$config()["$[]"]("location")["$=="](a)},
d.$$s=this,d),b).call(c):!0});a.defn(p,"$docinfo_processors",function(a){var b,c,d;null==a&&(a=h);return(b=this.docinfo_processor_extensions)===h||b.$$is_boolean&&1!=b?h:!1!==a&&a!==h?(b=(c=this.docinfo_processor_extensions).$select,b.$$p=(d=function(b){null==b&&(b=h);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d),b).call(c):this.docinfo_processor_extensions});a.defn(p,"$block",F=function(){var a,b=F.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+
0];F.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"block",d)});a.defn(p,"$blocks?",function(){return this.block_extensions["$!"]()["$!"]()});a.defn(p,"$registered_for_block?",function(a,b){var c,d=h;return(c=d=this.block_extensions["$[]"](a.$to_sym()))===h||c.$$is_boolean&&1!=c?!1:(c=d.$config()["$[]"]("contexts")["$include?"](b))===h||c.$$is_boolean&&1!=c?!1:d});a.defn(p,"$find_block_extension",function(a){return this.block_extensions["$[]"](a.$to_sym())});a.defn(p,
"$block_macro",v=function(){var a,b=v.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];v.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"block_macro",d)});a.defn(p,"$block_macros?",function(){return this.block_macro_extensions["$!"]()["$!"]()});a.defn(p,"$registered_for_block_macro?",function(a){var b,c=h;return(b=c=this.block_macro_extensions["$[]"](a.$to_sym()))===h||b.$$is_boolean&&1!=b?!1:c});a.defn(p,"$find_block_macro_extension",
function(a){return this.block_macro_extensions["$[]"](a.$to_sym())});a.defn(p,"$inline_macro",D=function(){var a,b=D.$$p||h,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];D.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"inline_macro",d)});a.defn(p,"$inline_macros?",function(){return this.inline_macro_extensions["$!"]()["$!"]()});a.defn(p,"$registered_for_inline_macro?",function(a){var b,c=h;return(b=c=this.inline_macro_extensions["$[]"](a.$to_sym()))===
h||b.$$is_boolean&&1!=b?!1:c});a.defn(p,"$find_inline_macro_extension",function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())});a.defn(p,"$inline_macros",function(){return this.inline_macro_extensions.$values()});p.$private();a.defn(p,"$add_document_processor",K=function(b,c){var d,e,g,l,m,n,p=this,r=K.$$p||h,t=h,u=h,v=h,y=h,z=u=h,x=h,A=h,B=h;K.$$p=null;t=b.$to_s().$tr("_"," ");u=(d=(e=t.$split(" ")).$map,d.$$p=(g=function(a){null==a&&(a=h);return""+a.$chr().$upcase()+a["$[]"](w(1,-1,
!1))},g.$$s=p,g),d).call(e).$join().$to_sym();v=f.get("Extensions").$const_get(u);y=(d=null==a.Object.$$scope.AsciidoctorJ?h:"constant")===h||d.$$is_boolean&&1!=d?h:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(u);u=!1!==(d=p.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&d!==h?d:p.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);z=function(){if(r!==h)return x=p.$resolve_args(c,1),A=v.$new(x),(d=v.$constants().$grep("DSL"))===h||d.$$is_boolean&&1!=d||A.$extend(v.$const_get("DSL")),
(d=(l=A).$instance_exec,d.$$p=r.$to_proc(),d).call(l),A.$freeze(),((d=A["$process_block_given?"]())===h||d.$$is_boolean&&1!=d)&&p.$raise(a.get("ArgumentError").$new("No block specified to process "+t+" extension at "+r.$source_location())),f.get("ProcessorExtension").$new(b,A);d=a.to_ary(p.$resolve_args(c,2));A=null==d[0]?h:d[0];x=null==d[1]?h:d[1];if((d=!1!==(m=A["$is_a?"](a.get("Class")))&&m!==h?m:(n=A["$is_a?"](a.get("String")),!1!==n&&n!==h?A=f.get("Extensions").$class_for_name(A):n))===h||d.$$is_boolean&&
1!=d){if((d=!1!==(m=A["$is_a?"](v))&&m!==h?m:(n=!1!==y&&y!==h)?A["$is_a?"](y):y)===h||d.$$is_boolean&&1!=d)return p.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+t+" extension: "+c));A.$update_config(x);A.$freeze();return f.get("ProcessorExtension").$new(b,A)}((d=!1!==(m=q(A,v))&&m!==h?m:(n=!1!==y&&y!==h)?q(A,y):y)===h||d.$$is_boolean&&1!=d)&&p.$raise(a.get("ArgumentError").$new("Invalid type for "+t+" extension: "+A));B=A.$new(x);B.$freeze();return f.get("ProcessorExtension").$new(b,
B)}();return z.$config()["$[]"]("position")["$=="](">>")?u.$unshift(z):u["$<<"](z)});a.defn(p,"$add_syntax_processor",N=function(c,d){var e,g,m,n,p,r,t=N.$$p||h,u=h,v=h,y=h,z=v=h,x=y=h,A=h,B=h,v=h;N.$$p=null;u=c.$to_s().$tr("_"," ");v=(e=(g=u.$split(" ")).$map,e.$$p=(m=function(a){null==a&&(a=h);return""+a.$chr().$upcase()+a["$[]"](w(1,-1,!1))},m.$$s=this,m),e).call(g).$join();y=(""+v+"Processor").$to_sym();v=f.get("Extensions").$const_get(y);z=(e=null==a.Object.$$scope.AsciidoctorJ?h:"constant")===
h||e.$$is_boolean&&1!=e?h:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(y);y=!1!==(e=this.$instance_variable_get(("@"+c+"_extensions").$to_sym()))&&e!==h?e:this.$instance_variable_set(("@"+c+"_extensions").$to_sym(),b([],{}));if(t!==h){e=a.to_ary(this.$resolve_args(d,2));x=null==e[0]?h:e[0];A=null==e[1]?h:e[1];B=v.$new(this.$as_symbol(x),A);(e=v.$constants().$grep("DSL"))===h||e.$$is_boolean&&1!=e||B.$extend(v.$const_get("DSL"));if(t.$arity()["$=="](1)){if(a.yield1(t,B)===l)return l.$v}else(e=
(n=B).$instance_exec,e.$$p=t.$to_proc(),e).call(n);((e=x=this.$as_symbol(B.$name()))===h||e.$$is_boolean&&1!=e)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+u+" extension at "+t.$source_location()));((e=B["$process_block_given?"]())===h||e.$$is_boolean&&1!=e)&&this.$raise(a.get("NoMethodError").$new("No block specified to process "+u+" extension at "+t.$source_location()));B.$freeze();return y["$[]="](x,f.get("ProcessorExtension").$new(c,B))}e=a.to_ary(this.$resolve_args(d,3));
B=null==e[0]?h:e[0];x=null==e[1]?h:e[1];A=null==e[2]?h:e[2];if((e=!1!==(p=B["$is_a?"](a.get("Class")))&&p!==h?p:(r=B["$is_a?"](a.get("String")),!1!==r&&r!==h?B=f.get("Extensions").$class_for_name(B):r))===h||e.$$is_boolean&&1!=e){if((e=!1!==(p=B["$is_a?"](v))&&p!==h?p:(r=!1!==z&&z!==h)?B["$is_a?"](z):z)===h||e.$$is_boolean&&1!=e)return this.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+u+" extension: "+d));B.$update_config(A);((e=x=!1!==x&&x!==h?(p=[this.$as_symbol(x)],
r=B,r["$name="].apply(r,p),p[p.length-1]):this.$as_symbol(B.$name()))===h||e.$$is_boolean&&1!=e)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+u+" extension: "+B));B.$freeze();return y["$[]="](x,f.get("ProcessorExtension").$new(c,B))}((e=!1!==(p=q(B,v))&&p!==h?p:(r=!1!==z&&z!==h)?q(B,z):z)===h||e.$$is_boolean&&1!=e)&&this.$raise(a.get("ArgumentError").$new("Class specified for "+u+" extension does not inherit from "+v+": "+B));v=B.$new(this.$as_symbol(x),A);((e=x=this.$as_symbol(v.$name()))===
h||e.$$is_boolean&&1!=e)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+u+" extension: "+B));B.$freeze();return y["$[]="](x,f.get("ProcessorExtension").$new(c,v))});a.defn(p,"$resolve_args",function(c,d){var e,f=h,g=h,l=h,f=(e=c["$[]"](-1)["$is_a?"](a.get("Hash")))===h||e.$$is_boolean&&1!=e?b([],{}):c.$pop();if(d["$=="](1))return f;g=c.$size();e=l=m(m(d,1),g);("number"===typeof e?0<e:e["$>"](0))?c.$fill(h,g,l):q(l,0)&&c.$pop(l["$-@"]());c["$<<"](f);return c});return(a.defn(p,"$as_symbol",
function(b){var c;return!1!==b&&b!==h?(c=b["$is_a?"](a.get("Symbol")))===h||c.$$is_boolean&&1!=c?b.$to_sym():b:h}),h)&&"as_symbol"})(r.base,null);(function(c){var e=c.$$scope,l,m;a.defn(c,"$generate_name",function(){return"extgrp"+this.$next_auto_id()});a.defn(c,"$next_auto_id",function(){var a;null==this.auto_id&&(this.auto_id=h);!1!==(a=this.auto_id)&&a!==h?a:this.auto_id=-1;return this.auto_id=n(this.auto_id,1)});a.defn(c,"$groups",function(){var a;null==this.groups&&(this.groups=h);return!1!==
(a=this.groups)&&a!==h?a:this.groups=b([],{})});a.defn(c,"$build_registry",l=function(a){var b,c=l.$$p||h;null==a&&(a=h);l.$$p=null;return c!==h?(!1!==(b=a)&&b!==h?b:a=this.$generate_name(),e.get("Registry").$new(x(a,c))):e.get("Registry").$new()});a.defn(c,"$register",m=function(){var b,c=m.$$p||h,d=h,e=h,g=e=h,g=h,d=arguments.length-0;0>d&&(d=0);for(var k=Array(d),e=0;e<d;e++)k[e]=arguments[e+0];m.$$p=null;d=k.$length();c===h&&((b=(e=k.$pop())["$!"]())===h||b.$$is_boolean&&1!=b?(g=e,c=a.get("Class")["$==="](g)?
e:a.get("String")["$==="](g)?this.$class_for_name(e):a.get("Symbol")["$==="](g)?this.$class_for_name(e.$to_s()):e):c=this.$raise(a.get("ArgumentError").$new("Extension group to register not specified")));e=c;g=!1!==(b=k.$pop())&&b!==h?b:this.$generate_name();((b=k["$empty?"]())===h||b.$$is_boolean&&1!=b)&&this.$raise(a.get("ArgumentError").$new("Wrong number of arguments ("+d+" for 1..2)"));return this.$groups()["$[]="](g,e)});a.defn(c,"$unregister_all",function(){return this.groups=b([],{})});a.defn(c,
"$resolve_class",function(b){var c;return(c=b["$is_a?"](a.get("Class")))===h||c.$$is_boolean&&1!=c?this.$class_for_name(b.$to_s()):b});return(a.defn(c,"$class_for_name",function(b){var c,d,e,g=h,g=a.get("Object");(c=(d=b.$split("::")).$each,c.$$p=(e=function(a){var c=e.$$s||this,d;null==a&&(a=h);return(d=a["$empty?"]())===h||d.$$is_boolean&&1!=d?(d=g["$const_defined?"](a))===h||d.$$is_boolean&&1!=d?c.$raise("Could not resolve class for name: "+b):g=g.$const_get(a):h},e.$$s=this,e),c).call(d);return g}),
h)&&"class_for_name"})(a.get_singleton_class(p))})(c(u,"Asciidoctor").$$scope.base)}(a.base)};("undefined"===typeof AsciidoctorConfiguration||"undefined"===typeof AsciidoctorConfiguration.autoRequireModule||Boolean(AsciidoctorConfiguration.autoRequireModule))&&Opal.require("asciidoctor");("undefined"===typeof AsciidoctorConfiguration||"undefined"===typeof AsciidoctorConfiguration.autoRequireModule||Boolean(AsciidoctorConfiguration.autoRequireModule))&&Opal.require("asciidoctor/extensions");
